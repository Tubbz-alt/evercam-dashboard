(function(){var e,i,t,a;t=function(){var e,i,t,a,n,r,c,d,w;return i=$("#widget-camera").val(),c=$("#widget-refresh-rate").val(),w=$("#widget-camera-width").val(),n=$("#width-option").val(),r=$("#widget-authenticate").val(),d=window.location.origin,a=-1!==(t=$("#widget-camera option:selected").text()).indexOf("(Offline)"),e="<div id='ec-container-"+i+"' style='width: "+w+n+"'></div> <script src='"+d+"/live.view.widget.js?refresh="+c+"&camera="+i+"&private="+(-1===t.indexOf("(Private)")?"false":"true")+("true"===r?"&api_id="+window.api_credentials.api_id+"&api_key="+window.api_credentials.api_key:"")+"' async></script>",$("#code").val(e),document.removeEventListener("visibilitychange",window.ec_vis_handler,!1),null!=window.ec_watcher&&clearTimeout(window.ec_watcher),a||$(".preview").html(e),!0},a=function(){var e,i,t,a,n,r,c,d;return i=$("#widget-camera").val(),r=$("#widget-refresh-rate").val(),d=$("#widget-camera-width").val(),a=$("#width-option").val(),n=$("#widget-authenticate").val(),c=window.location.origin,-1!==(t=$("#widget-camera option:selected").text()).indexOf("(Offline)"),e="<div id='ec-container-"+i+"' style='width: "+d+a+"'><div> <script src='"+c+"/live.view.widget.js?refresh="+r+"&camera="+i+"&private="+(-1===t.indexOf("(Private)")?"false":"true")+("true"===n?"&api_id="+window.api_credentials.api_id+"&api_key="+window.api_credentials.api_key:"")+"' async></script>",console.log(e),$("#code").val(e),$("#ec-container-"+i).width(""+d+a)},i=function(){return $("#widget-camera").select2({templateSelection:e,templateResult:e,escapeMarkup:function(e){return e}}),$(".widget-input .select2-container--default").width("100%")},e=function(e){return"",e.id?"0"===e.id?e.text:$("<span><img style='height:30px;margin-bottom:1px;margin-top:1px;width:35px;' src='"+Evercam.MEDIA_API_URL+"cameras/"+e.id+"/thumbnail?api_id="+Evercam.User.api_id+"&api_key="+Evercam.User.api_key+"' class='img-flag' />&nbsp;"+e.text+"</span>"):e.text},$(function(){return i(),t(),$("#widget-camera-width").change(a),$("#width-option").change(a),$("#widget-refresh-rate").change(t),$("#widget-camera").change(t),$("#widget-authenticate").change(a),$("#code").on("click",function(){this.select()})})}).call(this);