function $buo_f(){var e=document.createElement("script");e.src="https://browser-update.org/update.min.js",document.body.appendChild(e)}if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(S,e){function s(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"!==n&&!fe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,n,i){if(fe.isFunction(n))return fe.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return fe.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(Se.test(n))return fe.filter(n,e,i);n=fe.filter(n,e)}return fe.grep(e,function(e){return-1<fe.inArray(e,n)!==i})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function d(e){var n={};return fe.each(e.match(Pe)||[],function(e,t){n[t]=!0}),n}function r(){ie.addEventListener?(ie.removeEventListener("DOMContentLoaded",a),S.removeEventListener("load",a)):(ie.detachEvent("onreadystatechange",a),S.detachEvent("onload",a))}function a(){(ie.addEventListener||"load"===S.event.type||"complete"===ie.readyState)&&(r(),fe.ready())}function u(e,t,n){if(n===undefined&&1===e.nodeType){var i="data-"+t.replace(Ie,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:De.test(n)?fe.parseJSON(n):n)}catch(r){}fe.data(e,t,n)}else n=undefined}return n}function l(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function i(e,t,n,i){if(Me(e)){var r,a,o=fe.expando,s=e.nodeType,u=s?fe.cache:e,l=s?e[o]:e[o]&&o;if(l&&u[l]&&(i||u[l].data)||n!==undefined||"string"!=typeof t)return l||(l=s?e[o]=ne.pop()||fe.guid++:o),u[l]||(u[l]=s?{}:{toJSON:fe.noop}),"object"!=typeof t&&"function"!=typeof t||(i?u[l]=fe.extend(u[l],t):u[l].data=fe.extend(u[l].data,t)),a=u[l],i||(a.data||(a.data={}),a=a.data),n!==undefined&&(a[fe.camelCase(t)]=n),"string"==typeof t?null==(r=a[t])&&(r=a[fe.camelCase(t)]):r=a,r}}function o(e,t,n){if(Me(e)){var i,r,a=e.nodeType,o=a?fe.cache:e,s=a?e[fe.expando]:fe.expando;if(o[s]){if(t&&(i=n?o[s]:o[s].data)){r=(t=fe.isArray(t)?t.concat(fe.map(t,fe.camelCase)):t in i?[t]:(t=fe.camelCase(t))in i?[t]:t.split(" ")).length;for(;r--;)delete i[t[r]];if(n?!l(i):!fe.isEmptyObject(i))return}(n||(delete o[s].data,l(o[s])))&&(a?fe.cleanData([e],!0):ce.deleteExpando||o!=o.window?delete o[s]:o[s]=undefined)}}}function c(e,t,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return fe.css(e,t,"")},u=s(),l=n&&n[3]||(fe.cssNumber[t]?"":"px"),d=(fe.cssNumber[t]||"px"!==l&&+u)&&Ue.exec(fe.css(e,t));if(d&&d[3]!==l)for(l=l||d[3],n=n||[],d=+u||1;d/=a=a||".5",fe.style(e,t,d+l),a!==(a=s()/u)&&1!==a&&--o;);return n&&(d=+d||+u||0,r=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=d,i.end=r)),r}function m(e){var t=Ge.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function y(e,t){var n,i,r=0,a="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!a)for(a=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||fe.nodeName(i,t)?a.push(i):fe.merge(a,y(i,t));return t===undefined||t&&fe.nodeName(e,t)?fe.merge([e],a):a}function v(e,t){for(var n,i=0;null!=(n=e[i]);i++)fe._data(n,"globalEval",!t||fe._data(t[i],"globalEval"))}function b(e){$e.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t,n,i,r){for(var a,o,s,u,l,d,c,h=e.length,f=m(t),p=[],g=0;g<h;g++)if((o=e[g])||0===o)if("object"===fe.type(o))fe.merge(p,o.nodeType?[o]:o);else if(Ye.test(o)){for(u=u||f.appendChild(t.createElement("div")),l=(qe.exec(o)||["",""])[1].toLowerCase(),c=Xe[l]||Xe._default,u.innerHTML=c[1]+fe.htmlPrefilter(o)+c[2],a=c[0];a--;)u=u.lastChild;if(!ce.leadingWhitespace&&We.test(o)&&p.push(t.createTextNode(We.exec(o)[0])),!ce.tbody)for(a=(o="table"!==l||Ke.test(o)?"<table>"!==c[1]||Ke.test(o)?0:u:u.firstChild)&&o.childNodes.length;a--;)fe.nodeName(d=o.childNodes[a],"tbody")&&!d.childNodes.length&&o.removeChild(d);for(fe.merge(p,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=f.lastChild}else p.push(t.createTextNode(o));for(u&&f.removeChild(u),ce.appendChecked||fe.grep(y(p,"input"),b),g=0;o=p[g++];)if(i&&-1<fe.inArray(o,i))r&&r.push(o);else if(s=fe.contains(o.ownerDocument,o),u=y(f.appendChild(o),"script"),s&&v(u),n)for(a=0;o=u[a++];)ze.test(o.type||"")&&n.push(o);return u=null,f}function h(){return!0}function f(){return!1}function p(){try{return ie.activeElement}catch(e){}}function _(e,t,n,i,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=undefined),t)_(e,s,n,i,t[s],a);return e}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=f;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return fe().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,r,i,n)})}function T(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function k(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&fe.hasData(e)){var n,i,r,a=fe._data(e),o=fe._data(t,a),s=a.events;if(s)for(n in delete o.handle,o.events={},s)for(i=0,r=s[n].length;i<r;i++)fe.event.add(t,n,s[n][i]);o.data&&(o.data=fe.extend({},o.data))}}function x(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ce.noCloneEvent&&t[fe.expando]){for(i in(r=fe._data(t)).events)fe.removeEvent(t,i,r.handle);t.removeAttribute(fe.expando)}"script"===n&&t.text!==e.text?(w(t).text=e.text,k(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ce.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&$e.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function E(n,i,r,a){i=ae.apply([],i);var e,t,o,s,u,l,d=0,c=n.length,h=c-1,f=i[0],p=fe.isFunction(f);if(p||1<c&&"string"==typeof f&&!ce.checkClone&&ot.test(f))return n.each(function(e){var t=n.eq(e);p&&(i[0]=f.call(this,e,t.html())),E(t,i,r,a)});if(c&&(e=(l=g(i,n[0].ownerDocument,!1,n,a)).firstChild,1===l.childNodes.length&&(l=e),e||a)){for(o=(s=fe.map(y(l,"script"),w)).length;d<c;d++)t=l,d!==h&&(t=fe.clone(t,!0,!0),o&&fe.merge(s,y(t,"script"))),r.call(n[d],t,d);if(o)for(u=s[s.length-1].ownerDocument,fe.map(s,k),d=0;d<o;d++)t=s[d],ze.test(t.type||"")&&!fe._data(t,"globalEval")&&fe.contains(u,t)&&(t.src?fe._evalUrl&&fe._evalUrl(t.src):fe.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ut,"")));l=e=null}return n}function A(e,t,n){for(var i,r=t?fe.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||fe.cleanData(y(i)),i.parentNode&&(n&&fe.contains(i.ownerDocument,i)&&v(y(i,"script")),i.parentNode.removeChild(i));return e}function O(e,t){var n=fe(t.createElement(e)).appendTo(t.body),i=fe.css(n[0],"display");return n.detach(),i}function P(e){var t=ie,n=ct[e];return n||("none"!==(n=O(e,t))&&n||((t=((dt=(dt||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||dt[0].contentDocument).document).write(),t.close(),n=O(e,t),dt.detach()),ct[e]=n),n}function j(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function M(e){if(e in xt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Ct.length;n--;)if((e=Ct[n]+t)in xt)return e}function D(e,t){for(var n,i,r,a=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(a[o]=fe._data(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&He(i)&&(a[o]=fe._data(i,"olddisplay",P(i.nodeName)))):(r=He(i),(n&&"none"!==n||!r)&&fe._data(i,"olddisplay",r?n:fe.css(i,"display"))));for(o=0;o<s;o++)(i=e[o]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function I(e,t,n){var i=wt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function L(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=fe.css(e,n+Fe[a],!0,r)),i?("content"===n&&(o-=fe.css(e,"padding"+Fe[a],!0,r)),"margin"!==n&&(o-=fe.css(e,"border"+Fe[a]+"Width",!0,r))):(o+=fe.css(e,"padding"+Fe[a],!0,r),"padding"!==n&&(o+=fe.css(e,"border"+Fe[a]+"Width",!0,r)));return o}function N(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=mt(e),o=ce.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,a);if(r<=0||null==r){if(((r=yt(e,t,a))<0||null==r)&&(r=e.style[t]),ft.test(r))return r;i=o&&(ce.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+L(e,t,n||(o?"border":"content"),i,a)+"px"}function R(e,t,n,i,r){return new R.prototype.init(e,t,n,i,r)}function B(){return S.setTimeout(function(){Et=undefined}),Et=fe.now()}function U(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Fe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function F(e,t,n){for(var i,r=($.tweeners[t]||[]).concat($.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,t,e))return i}function H(t,e,n){var i,r,a,o,s,u,l,d=this,c={},h=t.style,f=t.nodeType&&He(t),p=fe._data(t,"fxshow");for(i in n.queue||(null==(s=fe._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,fe.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(l=fe.css(t,"display"))?fe._data(t,"olddisplay")||P(t.nodeName):l)&&"none"===fe.css(t,"float")&&(ce.inlineBlockNeedsLayout&&"inline"!==P(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ce.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(r=e[i],It.exec(r)){if(delete e[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||p[i]===undefined)continue;f=!0}c[i]=p&&p[i]||fe.style(t,i)}else l=undefined;if(fe.isEmptyObject(c))"inline"===("none"===l?P(t.nodeName):l)&&(h.display=l);else for(i in p?"hidden"in p&&(f=p.hidden):p=fe._data(t,"fxshow",{}),a&&(p.hidden=!f),f?fe(t).show():d.done(function(){fe(t).hide()}),d.done(function(){var e;for(e in fe._removeData(t,"fxshow"),c)fe.style(t,e,c[e])}),c)o=F(f?p[i]:0,i,d),i in p||(p[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}function V(e,t){var n,i,r,a,o;for(n in e)if(r=t[i=fe.camelCase(n)],a=e[n],fe.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(o=fe.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete e[i],a)n in e||(e[n]=a[n],t[n]=r);else t[i]=r}function $(a,e,t){var n,o,i=0,r=$.prefilters.length,s=fe.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var e=Et||B(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),i=0,r=l.tweens.length;i<r;i++)l.tweens[i].run(n);return s.notifyWith(a,[l,n,t]),n<1&&r?t:(s.resolveWith(a,[l]),!1)},l=s.promise({elem:a,props:fe.extend({},e),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},t),originalProperties:e,originalOptions:t,startTime:Et||B(),duration:t.duration,tweens:[],createTween:function(e,t){var n=fe.Tween(a,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(o)return this;for(o=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(a,[l,1,0]),s.resolveWith(a,[l,e])):s.rejectWith(a,[l,e]),this}}),d=l.props;for(V(d,l.opts.specialEasing);i<r;i++)if(n=$.prefilters[i].call(l,a,d,l.opts))return fe.isFunction(n.stop)&&(fe._queueHooks(l.elem,l.opts.queue).stop=fe.proxy(n.stop,n)),n;return fe.map(d,F,l),fe.isFunction(l.opts.start)&&l.opts.start.call(a,l),fe.fx.timer(fe.extend(u,{elem:a,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(e){return fe.attr(e,"class")||""}function z(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(Pe)||[];if(fe.isFunction(t))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(t)):(a[n]=a[n]||[]).push(t)}}function W(t,r,a,o){function s(e){var i;return u[e]=!0,fe.each(t[e]||[],function(e,t){var n=t(r,a,o);return"string"!=typeof n||l||u[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),s(n),!1)}),i}var u={},l=t===on;return s(r.dataTypes[0])||!u["*"]&&s("*")}function G(e,t){var n,i,r=fe.ajaxSettings.flatOptions||{};for(i in t)t[i]!==undefined&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&fe.extend(!0,e,n),e}function X(e,t,n){for(var i,r,a,o,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)a=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}i||(i=o)}a=a||i}if(a)return a!==u[0]&&u.unshift(a),n[a]}function Y(e,t,n,i){var r,a,o,s,u,l={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(a=d.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=d.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(!(o=l[u+" "+a]||l["* "+a]))for(r in l)if((s=r.split(" "))[1]===a&&(o=l[u+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[r]:!0!==l[r]&&(a=s[0],d.unshift(s[1]));break}if(!0!==o)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}function K(e){return e.style&&e.style.display||fe.css(e,"display")}function Q(e){if(!fe.contains(e.ownerDocument||ie,e))return!0;for(;e&&1===e.nodeType;){if("none"===K(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function J(n,e,i,r){var t;if(fe.isArray(e))fe.each(e,function(e,t){i||cn.test(n)?r(n,t):J(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,r)});else if(i||"object"!==fe.type(e))r(n,e);else for(t in e)J(n+"["+t+"]",e[t],i,r)}function Z(){try{return new S.XMLHttpRequest}catch(e){}}function ee(){try{return new S.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],ie=S.document,re=ne.slice,ae=ne.concat,oe=ne.push,se=ne.indexOf,ue={},le=ue.toString,de=ue.hasOwnProperty,ce={},he="1.12.4",fe=function(e,t){return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([\da-z])/gi,ye=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:he,constructor:fe,selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:re.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(n){return this.pushStack(fe.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ne.sort,splice:ne.splice},fe.extend=fe.fn.extend=function(e){var t,n,i,r,a,o,s=e||{},u=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[u]||{},u++),"object"==typeof s||fe.isFunction(s)||(s={}),u===l&&(s=this,u--);u<l;u++)if(null!=(a=arguments[u]))for(r in a)t=s[r],s!==(i=a[r])&&(d&&i&&(fe.isPlainObject(i)||(n=fe.isArray(i)))?(n?(n=!1,o=t&&fe.isArray(t)?t:[]):o=t&&fe.isPlainObject(t)?t:{},s[r]=fe.extend(d,o,i)):i!==undefined&&(s[r]=i));return s},fe.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!de.call(e,"constructor")&&!de.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ce.ownFirst)for(t in e)return de.call(e,t);for(t in e);return t===undefined||de.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ue[le.call(e)]||"object":typeof e},globalEval:function(e){e&&fe.trim(e)&&(S.execScript||function(e){S.eval.call(S,e)})(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(s(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?fe.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(se)return se.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!=n)for(;t[i]!==undefined;)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,o=[];if(s(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&o.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&o.push(r);return ae.apply([],o)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),fe.isFunction(e)?(n=re.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(re.call(arguments)))}).guid=e.guid=e.guid||fe.guid++,i):undefined},now:function(){return+new Date},support:ce}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ne[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ue["[object "+t+"]"]=t.toLowerCase()});var ve=function(n){function _(e,t,n,i){var r,a,o,s,u,l,d,c,h=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&((t?t.ownerDocument||t:F)!==M&&j(t),t=t||M,I)){if(11!==f&&(l=ye.exec(e)))if(r=l[1]){if(9===f){if(!(o=t.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(h&&(o=h.getElementById(r))&&B(t,o)&&o.id===r)return n.push(o),n}else{if(l[2])return J.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&y.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(r)),n}if(y.qsa&&!z[e+" "]&&(!L||!L.test(e))){if(1!==f)h=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=U),a=(d=C(e)).length,u=he.test(s)?"#"+s:"[id='"+s+"']";a--;)d[a]=u+" "+m(d[a]);c=d.join(","),h=ve.test(e)&&g(t.parentNode)||t}if(c)try{return J.apply(n,h.querySelectorAll(c)),n}catch(p){}finally{s===U&&t.removeAttribute("id")}}}return E(e.replace(se,"$1"),t,n,i)}function e(){function n(e,t){return i.push(e+" ")>w.cacheLength&&delete n[i.shift()],n[e+" "]=t}var i=[];return n}function u(e){return e[U]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function l(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function i(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function a(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function o(o){return u(function(a){return a=+a,u(function(e,t){for(var n,i=o([],e.length,a),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function g(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function s(){}function m(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function c(s,e,t){var u=e.dir,l=t&&"parentNode"===u,d=V++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||l)return s(e,t,n)}:function(e,t,n){var i,r,a,o=[H,d];if(n){for(;e=e[u];)if((1===e.nodeType||l)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||l){if((i=(r=(a=e[U]||(e[U]={}))[e.uniqueID]||(a[e.uniqueID]={}))[u])&&i[0]===H&&i[1]===d)return o[2]=i[2];if((r[u]=o)[2]=s(e,t,n))return!0}}}function h(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function v(e,t,n){for(var i=0,r=t.length;i<r;i++)_(e,t[i],n);return n}function T(e,t,n,i,r){for(var a,o=[],s=0,u=e.length,l=null!=t;s<u;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),l&&t.push(s)));return o}function b(f,p,g,m,y,e){return m&&!m[U]&&(m=b(m)),y&&!y[U]&&(y=b(y,e)),u(function(e,t,n,i){var r,a,o,s=[],u=[],l=t.length,d=e||v(p||"*",n.nodeType?[n]:n,[]),c=!f||!e&&p?d:T(d,s,f,n,i),h=g?y||(e?f:l||m)?[]:t:c;if(g&&g(c,h,n,i),m)for(r=T(h,u),m(r,[],n,i),a=r.length;a--;)(o=r[a])&&(h[u[a]]=!(c[u[a]]=o));if(e){if(y||f){if(y){for(r=[],a=h.length;a--;)(o=h[a])&&r.push(c[a]=o);y(null,h=[],r,i)}for(a=h.length;a--;)(o=h[a])&&-1<(r=y?ee(e,o):s[a])&&(e[r]=!(t[r]=o))}}else h=T(h===t?h.splice(l,h.length):h),y?y(null,t,h,i):J.apply(t,h)})}function f(e){for(var r,t,n,i=e.length,a=w.relative[e[0].type],o=a||w.relative[" "],s=a?1:0,u=c(function(e){return e===r},o,!0),l=c(function(e){return-1<ee(r,e)},o,!0),d=[function(e,t,n){var i=!a&&(n||t!==A)||((r=t).nodeType?u(e,t,n):l(e,t,n));return r=null,i}];s<i;s++)if(t=w.relative[e[s].type])d=[c(h(d),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[U]){for(n=++s;n<i&&!w.relative[e[n].type];n++);return b(1<s&&h(d),1<s&&m(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),t,s<n&&f(e.slice(s,n)),n<i&&f(e=e.slice(n)),n<i&&m(e))}d.push(t)}return h(d)}function d(m,y){var v=0<y.length,b=0<m.length,e=function(e,t,n,i,r){var a,o,s,u=0,l="0",d=e&&[],c=[],h=A,f=e||b&&w.find.TAG("*",r),p=H+=null==h?1:Math.random()||.1,g=f.length;for(r&&(A=t===M||t||r);l!==g&&null!=(a=f[l]);l++){if(b&&a){for(o=0,t||a.ownerDocument===M||(j(a),n=!I);s=m[o++];)if(s(a,t||M,n)){i.push(a);break}r&&(H=p)}v&&((a=!s&&a)&&u--,e&&d.push(a))}if(u+=l,v&&l!==u){for(o=0;s=y[o++];)s(d,c,t,n);if(e){if(0<u)for(;l--;)d[l]||c[l]||(c[l]=K.call(i));c=T(c)}J.apply(i,c),r&&!e&&0<c.length&&1<u+y.length&&_.uniqueSort(i)}return r&&(H=p,A=h),d};return v?u(e):e}var p,y,w,S,k,C,x,E,A,O,P,j,M,D,I,L,N,R,B,U="sizzle"+1*new Date,F=n.document,H=0,V=0,$=e(),q=e(),z=e(),W=function(e,t){return e===t&&(P=!0),0},G=1<<31,X={}.hasOwnProperty,Y=[],K=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ce=new RegExp(ae),he=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},we=function(){j()};try{J.apply(Y=Z.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch(Se){J={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(p in y=_.support={},k=_.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},j=_.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:F;return i!==M&&9===i.nodeType&&i.documentElement&&(D=(M=i).documentElement,I=!k(M),(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),y.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=r(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=me.test(M.getElementsByClassName),y.getById=r(function(e){return D.appendChild(e).id=U,!M.getElementsByName||!M.getElementsByName(U).length}),y.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(_e,Te);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(_e,Te);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=y.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},w.find.CLASS=y.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&I)return t.getElementsByClassName(e)},N=[],L=[],(y.qsa=me.test(M.querySelectorAll))&&(r(function(e){D.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||L.push(".#.+[+~]")}),r(function(e){var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(y.matchesSelector=me.test(R=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(e){y.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),N.push("!=",ae)}),L=L.length&&new RegExp(L.join("|")),N=N.length&&new RegExp(N.join("|")),t=me.test(D.compareDocumentPosition),B=t||me.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===M||e.ownerDocument===F&&B(F,e)?-1:t===M||t.ownerDocument===F&&B(F,t)?1:O?ee(O,e)-ee(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a)return e===M?-1:t===M?1:r?-1:a?1:O?ee(O,e)-ee(O,t):0;if(r===a)return l(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?l(o[i],s[i]):o[i]===F?-1:s[i]===F?1:0}),M},_.matches=function(e,t){return _(e,null,null,t)},_.matchesSelector=function(e,t){if((e.ownerDocument||e)!==M&&j(e),t=t.replace(de,"='$1']"),y.matchesSelector&&I&&!z[t+" "]&&(!N||!N.test(t))&&(!L||!L.test(t)))try{var n=R.call(e,t);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(Se){}return 0<_(t,M,null,[e]).length},_.contains=function(e,t){return(e.ownerDocument||e)!==M&&j(e),B(e,t)},_.attr=function(e,t){(e.ownerDocument||e)!==M&&j(e);var n=w.attrHandle[t.toLowerCase()],i=n&&X.call(w.attrHandle,t.toLowerCase())?n(e,t,!I):undefined;return i!==undefined?i:y.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},_.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},_.uniqueSort=function(e){var t,n=[],i=0,r=0;if(P=!y.detectDuplicates,O=!y.sortStable&&e.slice(0),e.sort(W),P){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return O=null,e},S=_.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},(w=_.selectors={cacheLength:50,createPseudo:u,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||_.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&_.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=_.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(oe," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,g,m){var y="nth"!==p.slice(0,3),v="last"!==p.slice(-4),b="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,a,o,s,u,l=y!==v?"nextSibling":"previousSibling",d=e.parentNode,c=b&&e.nodeName.toLowerCase(),h=!n&&!b,f=!1;if(d){if(y){for(;l;){for(o=e;o=o[l];)if(b?o.nodeName.toLowerCase()===c:1===o.nodeType)return!1;u=l="only"===p&&!u&&"nextSibling"}return!0}if(u=[v?d.firstChild:d.lastChild],v&&h){for(f=(s=(i=(r=(a=(o=d)[U]||(o[U]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]||[])[0]===H&&i[1])&&i[2],o=s&&d.childNodes[s];o=++s&&o&&o[l]||(f=s=0)||u.pop();)if(1===o.nodeType&&++f&&o===e){r[p]=[H,s,f];break}}else if(h&&(f=s=(i=(r=(a=(o=e)[U]||(o[U]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]||[])[0]===H&&i[1]),!1===f)for(;(o=++s&&o&&o[l]||(f=s=0)||u.pop())&&((b?o.nodeName.toLowerCase()!==c:1!==o.nodeType)||!++f||(h&&((r=(a=o[U]||(o[U]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]=[H,f]),o!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,a){var t,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||_.error("unsupported pseudo: "+e);return o[U]?o(a):1<o.length?(t=[e,e,"",a],w.setFilters.hasOwnProperty(
e.toLowerCase())?u(function(e,t){for(var n,i=o(e,a),r=i.length;r--;)e[n=ee(e,i[r])]=!(t[n]=i[r])}):function(e){return o(e,0,t)}):o}},pseudos:{not:u(function(e){var i=[],r=[],s=x(e.replace(se,"$1"));return s[U]?u(function(e,t,n,i){for(var r,a=s(e,null,i,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:u(function(t){return function(e){return 0<_(t,e).length}}),contains:u(function(t){return t=t.replace(_e,Te),function(e){return-1<(e.textContent||e.innerText||S(e)).indexOf(t)}}),lang:u(function(n){return he.test(n||"")||_.error("unsupported lang: "+n),n=n.replace(_e,Te).toLowerCase(),function(e){var t;do{if(t=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===D},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[p]=i(p);for(p in{submit:!0,reset:!0})w.pseudos[p]=a(p);return s.prototype=w.filters=w.pseudos,w.setFilters=new s,C=_.tokenize=function(e,t){var n,i,r,a,o,s,u,l=q[e+" "];if(l)return t?0:l.slice(0);for(o=e,s=[],u=w.preFilter;o;){for(a in n&&!(i=ue.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(r=[])),n=!1,(i=le.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(se," ")}),o=o.slice(n.length)),w.filter)!(i=fe[a].exec(o))||u[a]&&!(i=u[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?_.error(e):q(e,s).slice(0)},x=_.compile=function(e,t){var n,i=[],r=[],a=z[e+" "];if(!a){for(t||(t=C(e)),n=t.length;n--;)(a=f(t[n]))[U]?i.push(a):r.push(a);(a=z(e,d(r,i))).selector=e}return a},E=_.select=function(e,t,n,i){var r,a,o,s,u,l="function"==typeof e&&e,d=!i&&C(e=l.selector||e);if(n=n||[],1===d.length){if(2<(a=d[0]=d[0].slice(0)).length&&"ID"===(o=a[0]).type&&y.getById&&9===t.nodeType&&I&&w.relative[a[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(_e,Te),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=fe.needsContext.test(e)?0:a.length;r--&&(o=a[r],!w.relative[s=o.type]);)if((u=w.find[s])&&(i=u(o.matches[0].replace(_e,Te),ve.test(a[0].type)&&g(t.parentNode)||t))){if(a.splice(r,1),!(e=i.length&&m(a)))return J.apply(n,i),n;break}}return(l||x(e,d))(i,t,!I,n,!t||ve.test(e)&&g(t.parentNode)||t),n},y.sortStable=U.split("").sort(W).join("")===U,y.detectDuplicates=!!P,j(),y.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),_}(S);fe.find=ve,fe.expr=ve.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ve.uniqueSort,fe.text=ve.getText,fe.isXMLDoc=ve.isXML,fe.contains=ve.contains;var be=function(e,t,n){for(var i=[],r=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&fe(e).is(n))break;i.push(e)}return i},_e=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Te=fe.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Se=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?fe.find.matchesSelector(i,e)?[i]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<r;t++)if(fe.contains(i[t],this))return!0}));for(t=0;t<r;t++)fe.find(e,i[t],n);return(n=this.pushStack(1<r?fe.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&Te.test(e)?fe(e):e||[],!1).length}});var ke,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(fe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||ke,"string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Ce.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),we.test(i[1])&&fe.isPlainObject(t))for(i in t)fe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((r=ie.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return ke.find(e);this.length=1,this[0]=r}return this.context=ie,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(fe):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this))}).prototype=fe.fn,ke=fe(ie);var xe=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,n=fe(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(fe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=Te.test(e)||"string"!=typeof e?fe(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&fe.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?fe.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e)},children:function(e){return _e(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(i,r){fe.fn[i]=function(e,t){var n=fe.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=fe.filter(t,n)),1<this.length&&(Ee[i]||(n=fe.uniqueSort(n)),xe.test(i)&&(n=n.reverse())),this.pushStack(n)}});var Ae,Oe,Pe=/\S+/g;for(Oe in fe.Callbacks=function(i){i="string"==typeof i?d(i):fe.extend({},i);var r,e,t,n,a=[],o=[],s=-1,u=function(){for(n=i.once,t=r=!0;o.length;s=-1)for(e=o.shift();++s<a.length;)!1===a[s].apply(e[0],e[1])&&i.stopOnFalse&&(s=a.length,e=!1);i.memory||(e=!1),r=!1,n&&(a=e?[]:"")},l={add:function(){return a&&(e&&!r&&(s=a.length-1,o.push(e)),function n(e){fe.each(e,function(e,t){fe.isFunction(t)?i.unique&&l.has(t)||a.push(t):t&&t.length&&"string"!==fe.type(t)&&n(t)})}(arguments),e&&!r&&u()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;-1<(n=fe.inArray(t,a,n));)a.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<fe.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return n=o=[],a=e="",this},disabled:function(){return!a},lock:function(){return n=!0,e||l.disable(),this},locked:function(){return!!n},fireWith:function(e,t){return n||(t=[e,(t=t||[]).slice?t.slice():t],o.push(t),r||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!t}};return l},fe.extend({Deferred:function(e){var a=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return fe.Deferred(function(i){fe.each(a,function(e,t){var n=fe.isFunction(r[e])&&r[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this===o?i.promise():this,n?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?fe.extend(e,o):o}},s={};return o.pipe=o.then,fe.each(a,function(e,t){var n=t[2],i=t[3];o[t[1]]=n.add,i&&n.add(function(){r=i},a[1^e][2].disable,a[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?o:this,arguments),this},s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){var r,t,n,i=0,a=re.call(arguments),o=a.length,s=1!==o||e&&fe.isFunction(e.promise)?o:0,u=1===s?e:fe.Deferred(),l=function(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?re.call(arguments):e,i===r?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(1<o)for(r=new Array(o),t=new Array(o),n=new Array(o);i<o;i++)a[i]&&fe.isFunction(a[i].promise)?a[i].promise().progress(l(i,t,r)).done(l(i,n,a)).fail(u.reject):--s;return s||u.resolveWith(n,a),u.promise()}}),fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0)!==e&&0<--fe.readyWait||(Ae.resolveWith(ie,[fe]),fe.fn.triggerHandler&&(fe(ie).triggerHandler("ready"),fe(ie).off("ready")))}}),fe.ready.promise=function(e){if(!Ae)if(Ae=fe.Deferred(),"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll)S.setTimeout(fe.ready);else if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",a),S.addEventListener("load",a);else{ie.attachEvent("onreadystatechange",a),S.attachEvent("onload",a);var t=!1;try{t=null==S.frameElement&&ie.documentElement}catch(i){}t&&t.doScroll&&function n(){if(!fe.isReady){try{t.doScroll("left")}catch(i){return S.setTimeout(n,50)}r(),fe.ready()}}()}return Ae.promise(e)},fe.ready.promise(),fe(ce))break;ce.ownFirst="0"===Oe,ce.inlineBlockNeedsLayout=!1,fe(function(){var e,t,n,i;(n=ie.getElementsByTagName("body")[0])&&n.style&&(t=ie.createElement("div"),(i=ie.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ce.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ie.createElement("div");ce.deleteExpando=!0;try{delete e.test}catch(t){ce.deleteExpando=!1}e=null}();var je,Me=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando])&&!l(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)}}),fe.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(e===undefined){if(this.length&&(r=fe.data(a),1===a.nodeType&&!fe._data(a,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&u(a,i=fe.camelCase(i.slice(5)),r[i]);fe._data(a,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){fe.data(this,e)}):1<arguments.length?this.each(function(){fe.data(this,e,t)}):a?u(a,e,fe.data(a,e)):undefined},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=fe._data(e,t),n&&(!i||fe.isArray(n)?i=fe._data(e,t,fe.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),i=n.length,r=n.shift(),a=fe._queueHooks(e,t),o=function(){fe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return fe._data(e,n)||fe._data(e,n,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,n)})})}}),fe.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?fe.queue(this[0],t):n===undefined?this:this.each(function(){var e=fe.queue(this,t,n);fe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&fe.dequeue(this,t)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=fe.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";o--;)(n=fe._data(a[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}}),ce.shrinkWrapBlocks=function(){return null!=je?je:(je=!1,(t=ie.getElementsByTagName("body")[0])&&t.style?(e=ie.createElement("div"),(n=ie.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ie.createElement("div")).style.width="5px",je=3!==e.offsetWidth),t.removeChild(n),je):void 0);var e,t,n};var Le,Ne,Re,Be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Be+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],He=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Ve=function(e,t,n,i,r,a,o){var s=0,u=e.length,l=null==n;if("object"===fe.type(n))for(s in r=!0,n)Ve(e,t,s,n[s],!0,a,o);else if(i!==undefined&&(r=!0,fe.isFunction(i)||(o=!0),l&&(o?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(fe(e),n)})),t))for(;s<u;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):u?t(e[0],n):a},$e=/^(?:checkbox|radio)$/i,qe=/<([\w:-]+)/,ze=/^$|\/(?:java|ecma)script/i,We=/^\s+/,Ge="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Le=ie.createElement("div"),Ne=ie.createDocumentFragment(),Re=ie.createElement("input"),Le.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ce.leadingWhitespace=3===Le.firstChild.nodeType,ce.tbody=!Le.getElementsByTagName("tbody").length,ce.htmlSerialize=!!Le.getElementsByTagName("link").length,ce.html5Clone="<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,Re.type="checkbox",Re.checked=!0,Ne.appendChild(Re),ce.appendChecked=Re.checked,Le.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!Le.cloneNode(!0).lastChild.defaultValue,Ne.appendChild(Le),(Re=ie.createElement("input")).setAttribute("type","radio"),Re.setAttribute("checked","checked"),Re.setAttribute("name","t"),Le.appendChild(Re),ce.checkClone=Le.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.noCloneEvent=!!Le.addEventListener,Le[fe.expando]=1,ce.attributes=!Le.getAttribute(fe.expando);var Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Ye=/<|&#?\w+;/,Ke=/<tbody/i;!function(){var e,t,n=ie.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(ce[e]=t in S)||(n.setAttribute(t,"t"),ce[e]=!1===n.attributes[t].expando);n=null}();var Qe=/^(?:input|select|textarea)$/i,Je=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,i,r){var a,o,s,u,l,d,c,h,f,p,g,m=fe._data(e);if(m){for(n.handler&&(n=(u=n).handler,r=u.selector),n.guid||(n.guid=fe.guid++),(o=m.events)||(o=m.events={}),(d=m.handle)||((d=m.handle=function(e){return void 0===fe||e&&fe.event.triggered===e.type?undefined:fe.event.dispatch.apply(d.elem,arguments)}).elem=e),s=(t=(t||"").match(Pe)||[""]).length;s--;)f=g=(a=tt.exec(t[s])||[])[1],p=(a[2]||"").split(".").sort(),f&&(l=fe.event.special[f]||{},f=(r?l.delegateType:l.bindType)||f,l=fe.event.special[f]||{},c=fe.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&fe.expr.match.needsContext.test(r),namespace:p.join(".")},u),(h=o[f])||((h=o[f]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,p,d)||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),l.add&&(l.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),fe.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var a,o,s,u,l,d,c,h,f,p,g,m=fe.hasData(e)&&fe._data(e);if(m&&(d=m.events)){for(l=(t=(t||"").match(Pe)||[""]).length;l--;)if(f=g=(s=tt.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),f){for(c=fe.event.special[f]||{},h=d[f=(i?c.delegateType:c.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=a=h.length;a--;)o=h[a],!r&&g!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(h.splice(a,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));u&&!h.length&&(c.teardown&&!1!==c.teardown.call(e,p,m.handle)||fe.removeEvent(e,f,m.handle),delete d[f])}else for(f in d)fe.event.remove(e,f+t[l],n,i,!0);fe.isEmptyObject(d)&&(delete m.handle,fe._removeData(e,"events"))}},trigger:function(e,t,n,i){var r,a,o,s,u,l,d,c=[n||ie],h=de.call(e,"type")?e.type:e,f=de.call(e,"namespace")?e.namespace.split("."):[];if(o=l=n=n||ie,3!==n.nodeType&&8!==n.nodeType&&!et.test(h+fe.event.triggered)&&(-1<h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),a=h.indexOf(":")<0&&"on"+h,(e=e[fe.expando]?e:new fe.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:fe.makeArray(t,[e]),u=fe.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!fe.isWindow(n)){for(s=u.delegateType||h,et.test(s+h)||(o=o.parentNode);o;o=o.parentNode)c.push(o),l=o;l===(n.ownerDocument||ie)&&c.push(l.defaultView||l.parentWindow||S)}for(d=0;(o=c[d++])&&!e.isPropagationStopped();)e.type=1<d?s:u.bindType||h,(r=(fe._data(o,"events")||{})[e.type]&&fe._data(o,"handle"))&&r.apply(o,t),(r=a&&o[a])&&r.apply&&Me(o)&&(e.result=r.apply(o,t),!1===e.result&&e.preventDefault());if(e.type=h,!i&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(c.pop(),t))&&Me(n)&&a&&n[h]&&!fe.isWindow(n)){(l=n[a])&&(n[a]=null),fe.event.triggered=h;try{n[h]()}catch(p){}fe.event.triggered=undefined,l&&(n[a]=l)}return e.result}},dispatch:function(e){e=fe.event.fix(e);var t,n,i,r,a,o=[],s=re.call(arguments),u=(fe._data(this,"events")||{})[e.type]||[],l=fe.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(o=fe.event.handlers.call(this,e,u),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,(i=((fe.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))!==undefined&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,o=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)i[r=(a=t[n]).selector+" "]===undefined&&(i[r]=a.needsContext?-1<fe(r,this).index(u):fe.find(r,this,null,[u]).length),i[r]&&i.push(a);i.length&&o.push({elem:u,handlers:i})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[fe.expando])return e;var t,n,i,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Ze.test(r)?this.mouseHooks:Je.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new fe.Event(a),t=i.length;t--;)e[n=i[t]]=a[n];return e.target||(e.target=a.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=(i=e.target.ownerDocument||ie).documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||a===undefined||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var i=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},fe.removeEvent=ie.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},fe.Event=function(e,t){if(!(this instanceof fe.Event))return new fe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?h:f):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,a){fe.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,n=this,i=e.relatedTarget,r=e.handleObj;return i&&(i===n||fe.contains(n,i))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=a),t}}}),ce.submit||(fe.event.special.submit={setup:function(){if(fe.nodeName(this,"form"))return!1;fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):undefined;n&&!fe._data(n,"submit")&&(fe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),fe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(fe.nodeName(this,"form"))return!1;fe.event.remove(this,"._submit")}}),ce.change||(fe.event.special.change={setup:function(){if(Qe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1;fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Qe.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return fe.event.remove(this,"._change"),!Qe.test(this.nodeName)}}),ce.focusin||fe.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){fe.event.simulate(i,e.target,fe.event.fix(e))};fe.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=fe._data(e,i);t||e.addEventListener(n,r,!0),fe._data(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=fe._data(e,i)-1;t?fe._data(e,i,t):(e.removeEventListener(n,r,!0),fe._removeData(e,i))}}}),fe.fn.extend({on:function(e,t,n,i){return _(this,e,t,n,i)},one:function(e,t,n,i){return _(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,fe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=f),this.each(function(){fe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return fe.event.trigger(e,t,n,!0)}});var nt=/ jQuery\d+="(?:null|\d+)"/g,it=new RegExp("<(?:"+Ge+")[\\s/>]","i"),rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,at=/<script|<style|<link/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,lt=m(ie).appendChild(ie.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(rt,"<$1></$2>")},clone:function(e,t,n){var i,r,a,o,s,u=fe.contains(e.ownerDocument,e);if(ce.html5Clone||fe.isXMLDoc(e)||!it.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(a=lt.firstChild)),!(ce.noCloneEvent&&ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(i=y(a),s=y(e),o=0;null!=(r=s[o]);++o)i[o]&&x(r,i[o]);if(t)if(n)for(s=s||y(e),i=i||y(a),o=0;null!=(r=s[o]);o++)C(r,i[o]);else C(e,a);return 0<(i=y(a,"script")).length&&v(i,!u&&y(e,"script")),i=s=r=null,a},cleanData:function(e,t){for(var n,i,r,a,o=0,s=fe.expando,u=fe.cache,l=ce.attributes,d=fe.event.special;null!=(n=e[o]);o++)if((t||Me(n))&&(a=(r=n[s])&&u[r])){if(a.events)for(i in a.events)d[i]?fe.event.remove(n,i):fe.removeEvent(n,i,a.handle);u[r]&&(delete u[r],l||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),ne.push(r))}}}),fe.fn.extend({domManip:E,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return Ve(this,function(e){return e===undefined?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e))},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||T(this,e).appendChild(e)})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Ve(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(nt,""):undefined;if("string"==typeof e&&!at.test(e)&&(ce.htmlSerialize||!it.test(e))&&(ce.leadingWhitespace||!We.test(e))&&!Xe[(qe.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(fe.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return E(this,arguments,function(e){var t=this.parentNode;fe.inArray(this,n)<0&&(fe.cleanData(y(this)),t&&t.replaceChild(e,this))},n)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){fe.fn[e]=function(e){for(var t,n=0,i=[],r=fe(e),a=r.length-1;n<=a;n++)t=n===a?this:this.clone(!0),fe(r[n])[o](t),oe.apply(i,t.get());return this.pushStack(i)}});var dt,ct={HTML:"block",BODY:"block"},ht=/^margin/,ft=new RegExp("^("+Be+")(?!px)[a-z%]+$","i"),pt=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in r=n.apply(e,i||[]),t)e.style[a]=o[a];return r},gt=ie.documentElement;!function(){function e(){var e,t,n=ie.documentElement;n.appendChild(l),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=a=u=!1,r=s=!0,S.getComputedStyle&&(t=S.getComputedStyle(d),i="1%"!==(t||{}).top,u="2px"===(t||{}).marginLeft,a="4px"===(t||{width:"4px"}).width,d.style.marginRight="50%",r="4px"===(t||{marginRight:"4px"}).marginRight,(e=d.appendChild(ie.createElement("div"))).style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",d.style.width="1px",s=!parseFloat((S.getComputedStyle(e)||{}).marginRight),d.removeChild(e)),d.style.display="none",(o=0===d.getClientRects().length)&&(
d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d.childNodes[0].style.borderCollapse="separate",(e=d.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),n.removeChild(l)}var i,r,a,o,s,u,l=ie.createElement("div"),d=ie.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",ce.opacity="0.5"===d.style.opacity,ce.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===d.style.backgroundClip,(l=ie.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",l.appendChild(d),ce.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,fe.extend(ce,{reliableHiddenOffsets:function(){return null==i&&e(),o},boxSizingReliable:function(){return null==i&&e(),a},pixelMarginRight:function(){return null==i&&e(),r},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),s},reliableMarginLeft:function(){return null==i&&e(),u}}))}();var mt,yt,vt=/^(top|right|bottom|left)$/;S.getComputedStyle?(mt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=S),t.getComputedStyle(e)},yt=function(e,t,n){var i,r,a,o,s=e.style;return""!==(o=(n=n||mt(e))?n.getPropertyValue(t)||n[t]:undefined)&&o!==undefined||fe.contains(e.ownerDocument,e)||(o=fe.style(e,t)),n&&!ce.pixelMarginRight()&&ft.test(o)&&ht.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a),o===undefined?o:o+""}):gt.currentStyle&&(mt=function(e){return e.currentStyle},yt=function(e,t,n){var i,r,a,o,s=e.style;return null==(o=(n=n||mt(e))?n[t]:undefined)&&s&&s[t]&&(o=s[t]),ft.test(o)&&!vt.test(t)&&(i=s.left,(a=(r=e.runtimeStyle)&&r.left)&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=i,a&&(r.left=a)),o===undefined?o:o+""||"auto"});var bt=/alpha\([^)]*\)/i,_t=/opacity\s*=\s*([^)]*)/i,Tt=/^(none|table(?!-c[ea]).+)/,wt=new RegExp("^("+Be+")(.*)$","i"),St={position:"absolute",visibility:"hidden",display:"block"},kt={letterSpacing:"0",fontWeight:"400"},Ct=["Webkit","O","Moz","ms"],xt=ie.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=yt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ce.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=fe.camelCase(t),u=e.style;if(t=fe.cssProps[s]||(fe.cssProps[s]=M(s)||s),o=fe.cssHooks[t]||fe.cssHooks[s],n===undefined)return o&&"get"in o&&(r=o.get(e,!1,i))!==undefined?r:u[t];if("string"===(a=typeof n)&&(r=Ue.exec(n))&&r[1]&&(n=c(e,t,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(fe.cssNumber[s]?"":"px")),ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(o&&"set"in o&&(n=o.set(e,n,i))===undefined)))try{u[t]=n}catch(l){}}},css:function(e,t,n,i){var r,a,o,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=M(s)||s),(o=fe.cssHooks[t]||fe.cssHooks[s])&&"get"in o&&(a=o.get(e,!0,n)),a===undefined&&(a=yt(e,t,i)),"normal"===a&&t in kt&&(a=kt[t]),""===n||n?(r=parseFloat(a),!0===n||isFinite(r)?r||0:a):a}}),fe.each(["height","width"],function(e,r){fe.cssHooks[r]={get:function(e,t,n){if(t)return Tt.test(fe.css(e,"display"))&&0===e.offsetWidth?pt(e,St,function(){return N(e,r,n)}):N(e,r,n)},set:function(e,t,n){var i=n&&mt(e);return I(e,t,n?L(e,r,n,ce.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,i),i):0)}}}),ce.opacity||(fe.cssHooks.opacity={get:function(e,t){return _t.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===fe.trim(a.replace(bt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=bt.test(a)?a.replace(bt,r):a+" "+r)}}),fe.cssHooks.marginRight=j(ce.reliableMarginRight,function(e,t){if(t)return pt(e,{display:"inline-block"},yt,[e,"marginRight"])}),fe.cssHooks.marginLeft=j(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(yt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-pt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(r,a){fe.cssHooks[r+a]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+Fe[t]+a]=i[t]||i[t-2]||i[0];return n}},ht.test(r)||(fe.cssHooks[r+a].set=I)}),fe.fn.extend({css:function(e,t){return Ve(this,function(e,t,n){var i,r,a={},o=0;if(fe.isArray(t)){for(i=mt(e),r=t.length;o<r;o++)a[t[o]]=fe.css(e,t[o],!1,i);return a}return n!==undefined?fe.style(e,t,n):fe.css(e,t)},e,t,1<arguments.length)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){He(this)?fe(this).show():fe(this).hide()})}}),(fe.Tween=R).prototype={constructor:R,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(fe.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=R.prototype.init,fe.fx.step={};var Et,At,Ot,Pt,jt,Mt,Dt,It=/^(?:toggle|show|hide)$/,Lt=/queueHooks$/;fe.Animation=fe.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return c(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(Pe);for(var n,i=0,r=e.length;i<r;i++)n=e[i],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[H],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),fe.speed=function(e,t,n){var i=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return i.duration=fe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in fe.fx.speeds?fe.fx.speeds[i.duration]:fe.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){fe.isFunction(i.old)&&i.old.call(this),i.queue&&fe.dequeue(this,i.queue)},i},fe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(He).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=fe.isEmptyObject(t),a=fe.speed(e,n,i),o=function(){var e=$(this,fe.extend({},t),a);(r||fe._data(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(r,e,a){var o=function(e){var t=e.stop;delete e.stop,t(a)};return"string"!=typeof r&&(a=e,e=r,r=undefined),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=fe.timers,i=fe._data(this);if(t)i[t]&&i[t].stop&&o(i[t]);else for(t in i)i[t]&&i[t].stop&&Lt.test(t)&&o(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(a),e=!1,n.splice(t,1));!e&&a||fe.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=fe._data(this),n=t[o+"queue"],i=t[o+"queueHooks"],r=fe.timers,a=n?n.length:0;for(t.finish=!0,fe.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===o&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),fe.each(["toggle","show","hide"],function(e,i){var r=fe.fn[i];fe.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(U(i,!0),e,t,n)}}),fe.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){fe.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,n=0;for(Et=fe.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||fe.fx.stop(),Et=undefined},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){At||(At=S.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){S.clearInterval(At),At=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(i,e){return i=fe.fx&&fe.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=S.setTimeout(e,i);t.stop=function(){S.clearTimeout(n)}})},Pt=ie.createElement("input"),jt=ie.createElement("div"),Mt=ie.createElement("select"),Dt=Mt.appendChild(ie.createElement("option")),(jt=ie.createElement("div")).setAttribute("className","t"),jt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Ot=jt.getElementsByTagName("a")[0],Pt.setAttribute("type","checkbox"),jt.appendChild(Pt),(Ot=jt.getElementsByTagName("a")[0]).style.cssText="top:1px",ce.getSetAttribute="t"!==jt.className,ce.style=/top/.test(Ot.getAttribute("style")),ce.hrefNormalized="/a"===Ot.getAttribute("href"),ce.checkOn=!!Pt.value,ce.optSelected=Dt.selected,ce.enctype=!!ie.createElement("form").enctype,Mt.disabled=!0,ce.optDisabled=!Dt.disabled,(Pt=ie.createElement("input")).setAttribute("value",""),ce.input=""===Pt.getAttribute("value"),Pt.value="t",Pt.setAttribute("type","radio"),ce.radioValue="t"===Pt.value;var Nt=/\r/g,Rt=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=fe.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,fe(this).val()):n)?t="":"number"==typeof t?t+="":fe.isArray(t)&&(t=fe.map(t,function(e){return null==e?"":e+""})),(i=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,t,"value")!==undefined||(this.value=t))})):t?(i=fe.valHooks[t.type]||fe.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&(e=i.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(Nt,""):null==e?"":e:void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(Rt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||r<0,o=a?null:[],s=a?r+1:i.length,u=r<0?s:a?r:0;u<s;u++)if(((n=i[u]).selected||u===r)&&(ce.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,a=fe.makeArray(t),o=r.length;o--;)if(i=r[o],-1<fe.inArray(fe.valHooks.option.get(i),a))try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=-1<fe.inArray(fe(e).val(),t)}},ce.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Bt,Ut,Ft=fe.expr.attrHandle,Ht=/^(?:checked|selected)$/i,Vt=ce.getSetAttribute,$t=ce.input;fe.fn.extend({attr:function(e,t){return Ve(this,fe.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?fe.prop(e,t,n):(1===a&&fe.isXMLDoc(e)||(t=t.toLowerCase(),r=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?Ut:Bt)),n!==undefined?null===n?void fe.removeAttr(e,t):r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=fe.find.attr(e,t))?undefined:i)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(Pe);if(a&&1===e.nodeType)for(;n=a[r++];)i=fe.propFix[n]||n,fe.expr.match.bool.test(n)?$t&&Vt||!Ht.test(n)?e[i]=!1:e[fe.camelCase("default-"+n)]=e[i]=!1:fe.attr(e,n,""),e.removeAttribute(Vt?n:i)}}),Ut={set:function(e,t,n){return!1===t?fe.removeAttr(e,n):$t&&Vt||!Ht.test(n)?e.setAttribute(!Vt&&fe.propFix[n]||n,n):e[fe.camelCase("default-"+n)]=e[n]=!0,n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var a=Ft[t]||fe.find.attr;$t&&Vt||!Ht.test(t)?Ft[t]=function(e,t,n){var i,r;return n||(r=Ft[t],Ft[t]=i,i=null!=a(e,t,n)?t.toLowerCase():null,Ft[t]=r),i}:Ft[t]=function(e,t,n){if(!n)return e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),$t&&Vt||(fe.attrHooks.value={set:function(e,t,n){if(!fe.nodeName(e,"input"))return Bt&&Bt.set(e,t,n);e.defaultValue=t}}),Vt||(Bt={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},Ft.id=Ft.name=Ft.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},fe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Bt.set},fe.attrHooks.contenteditable={set:function(e,t,n){Bt.set(e,""!==t&&t,n)}},fe.each(["width","height"],function(e,n){fe.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),ce.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var qt=/^(?:input|select|textarea|button|object)$/i,zt=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Ve(this,fe.prop,e,t,1<arguments.length)},removeProp:function(t){return t=fe.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),fe.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,r=fe.propHooks[t]),n!==undefined?r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):qt.test(e.nodeName)||zt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ce.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ce.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),ce.enctype||(fe.propFix.enctype="encoding");var Wt=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,u=0;if(fe.isFunction(t))return this.each(function(e){fe(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(Pe)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(Wt," ")){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=fe.trim(i))&&fe.attr(n,"class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,u=0;if(fe.isFunction(t))return this.each(function(e){fe(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Pe)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(Wt," ")){for(o=0;a=e[o++];)for(;-1<i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");r!==(s=fe.trim(i))&&fe.attr(n,"class",s)}return this},toggleClass:function(r,t){var a=typeof r;return"boolean"==typeof t&&"string"===a?t?this.addClass(r):this.removeClass(r):fe.isFunction(r)?this.each(function(e){fe(this).toggleClass(r.call(this,e,q(this),t),t)}):this.each(function(){var e,t,n,i;if("string"===a)for(t=0,n=fe(this),i=r.match(Pe)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else r!==undefined&&"boolean"!==a||((e=q(this))&&fe._data(this,"__className__",e),fe.attr(this,"class",e||!1===r?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+q(n)+" ").replace(Wt," ").indexOf(t))return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){fe.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Gt=S.location,Xt=fe.now(),Yt=/\?/,Kt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(e){if(S.JSON&&S.JSON.parse)return S.JSON.parse(e+"");var r,a=null,t=fe.trim(e+"");return t&&!fe.trim(t.replace(Kt,function(e,t,n,i){return r&&t&&(a=0),0===a?e:(r=n||t,a+=!i-!n,"")}))?Function("return "+t)():fe.error("Invalid JSON: "+e)},fe.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{S.DOMParser?t=(new S.DOMParser).parseFromString(e,"text/xml"):((t=new S.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(n){t=undefined}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+e),t};var Qt=/#.*$/,Jt=/([?&])_=[^&]*/,Zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,en=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tn=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,an={},on={},sn="*/".concat("*"),un=Gt.href,ln=rn.exec(un.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:un,type:"GET",isLocal:en.test(ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,fe.ajaxSettings),t):G(fe.ajaxSettings,e)},ajaxPrefilter:z(an),ajaxTransport:z(on),ajax:function(e,t){function n(e,t,n,i){var r,a,o,s,u,l=t;2!==T&&(T=2,h&&S.clearTimeout(h),p=undefined,c=i||"",w.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=X(g,w,n)),s=Y(g,s,w,r),r?(g.ifModified&&((u=w.getResponseHeader("Last-Modified"))&&(fe.lastModified[d]=u),(u=w.getResponseHeader("etag"))&&(fe.etag[d]=u)),204===e||"HEAD"===g.type?l="nocontent":304===e?l="notmodified":(l=s.state,a=s.data,r=!(o=s.error))):(o=l,!e&&l||(l="error",e<0&&(e=0))),w.status=e,w.statusText=(t||l)+"",r?v.resolveWith(m,[a,l,w]):v.rejectWith(m,[w,l,o]),w.statusCode(_),_=undefined,f&&y.trigger(r?"ajaxSuccess":"ajaxError",[w,g,r?a:o]),b.fireWith(m,[w,l]),f&&(y.trigger("ajaxComplete",[w,g]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var i,r,d,c,h,f,p,a,g=fe.ajaxSetup({},t),m=g.context||g,y=g.context&&(m.nodeType||m.jquery)?fe(m):fe.event,v=fe.Deferred(),b=fe.Callbacks("once memory"),_=g.statusCode||{},o={},s={},T=0,u="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===T){if(!a)for(a={};t=Zt.exec(c);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===T?c:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return T||(e=s[n]=s[n]||e,o[e]=t),this},overrideMimeType:function(e){return T||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(T<2)for(t in e)_[t]=[_[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||u;return p&&p.abort(t),n(0,t),this}};if(v.promise(w).complete=b.add,w.success=w.done,w.error=w.fail,g.url=((e||g.url||un)+"").replace(Qt,"").replace(nn,ln[1]+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=fe.trim(g.dataType||"*").toLowerCase().match(Pe)||[""],null==g.crossDomain&&(i=rn.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===ln[1]&&i[2]===ln[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(ln[3]||("http:"===ln[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=fe.param(g.data,g.traditional)),W(an,g,t,w),2===T)return w;for(r in(f=fe.event&&g.global)&&0==fe.active++&&fe.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!tn.test(g.type),d=g.url,g.hasContent||(g.data&&(d=g.url+=(Yt.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Jt.test(d)?d.replace(Jt,"$1_="+Xt++):d+(Yt.test(d)?"&":"?")+"_="+Xt++)),g.ifModified&&(fe.lastModified[d]&&w.setRequestHeader("If-Modified-Since",fe.lastModified[d]),fe.etag[d]&&w.setRequestHeader("If-None-Match",fe.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+sn+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,w,g)||2===T))return w.abort();for(r in u="abort",{success:1,error:1,complete:1})w[r](g[r]);if(p=W(on,g,t,w)){if(w.readyState=1,f&&y.trigger("ajaxSend",[w,g]),2===T)return w;g.async&&0<g.timeout&&(h=S.setTimeout(function(){w.abort("timeout")},g.timeout));try{T=1,p.send(o,n)}catch(l){if(!(T<2))throw l;n(-1,l)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,undefined,t,"script")}}),fe.each(["get","post"],function(e,r){fe[r]=function(e,t,n,i){return fe.isFunction(t)&&(i=i||n,n=t,t=undefined),fe.ajax(fe.extend({url:e,type:r,dataType:i,data:t,success:n},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},fe.fn.extend({wrapAll:function(t){if(fe.isFunction(t))return this.each(function(e){fe(this).wrapAll(t.call(this,e))});if(this[0]){var e=fe(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return fe.isFunction(n)?this.each(function(e){fe(this).wrapInner(n.call(this,e))}):this.each(function(){var e=fe(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=fe.isFunction(t);return this.each(function(e){fe(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return ce.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var dn=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,fn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,i=[],r=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){r(this.name,this.value)});else for(n in e)J(n,e[n],t,r);return i.join("&").replace(dn,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&pn.test(this.nodeName)&&!fn.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=S.ActiveXObject!==undefined?function(){return this.isLocal?ee():8<ie.documentMode?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var gn=0,mn={},yn=fe.ajaxSettings.xhr();S.attachEvent&&S.attachEvent("onunload",function(){for(var e in mn)mn[e](undefined,!0)}),ce.cors=!!yn&&"withCredentials"in yn,(yn=ce.ajax=!!yn)&&fe.ajaxTransport(function(l){var d;if(!l.crossDomain||ce.cors)return{send:function(e,o){var t,s=l.xhr(),u=++gn;if(s.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)s[t]=l.xhrFields[t];for(t in l.mimeType&&s.overrideMimeType&&s.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)e[t]!==undefined&&s.setRequestHeader(t,e[t]+"");s.send(l.hasContent&&l.data||null),d=function(e,t){var n,i,r;if(d&&(t||4===s.readyState))if(delete mn[u],d=undefined,s.onreadystatechange=fe.noop,t)4!==s.readyState&&s.abort();else{r={},n=s.status,"string"==typeof s.responseText&&(r.text=s.responseText);try{i=s.statusText}catch(a){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&o(n,i,r,s.getAllResponseHeaders())},l.async?4===s.readyState?S.setTimeout(d):s.onreadystatechange=mn[u]=d:d()},abort:function(){d&&d(undefined,!0)}}}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(t){if(t.crossDomain){var i,r=ie.head||fe("head")[0]||ie.documentElement;return{send:function(e,n){(i=ie.createElement("script")).async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var vn=[],bn=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=vn.pop()||fe.expando+"_"+Xt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,a,o=!1!==e.jsonp&&(bn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&bn.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=fe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(bn,"$1"+i):!1!==e.jsonp&&(e.url+=(Yt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||fe.error(i+" was not called"),a[0]},e.dataTypes[0]="json",r=S[i],S[i]=function(){a=arguments},n.always(function(){r===undefined?fe(S).removeProp(i):S[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,vn.push(i)),a&&fe.isFunction(r)&&r(a[0]),a=r=undefined}),"script"}),fe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ie;var i=we.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=g([e],t,r),r&&r.length&&fe(r).remove(),fe.merge([],i.childNodes))};var _n=fe.fn.load;fe.fn.load=function(e,t,n){if("string"!=typeof e&&_n)return _n.apply(this,arguments);var i,r,a,o=this,s=e.indexOf(" ");return-1<s&&(i=fe.trim(e.slice(s,e.length)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(r="POST"),0<o.length&&fe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?fe("<div>").append(fe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(t){return fe.grep(fe.timers,function(e){return t===e.elem}).length},fe.offset={setOffset:function(e,t,n){var i,r,a,o,s,u,l=fe.css(e,"position"),d=fe(e),c={};"static"===l&&(e.style.position="relative"),s=d.offset(),a=fe.css(e,"top"),u=fe.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<fe.inArray("auto",[a,u])?(o=(i=d.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(u)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(c.top=t.top-s.top+o),null!=t.left&&(c.left=t.left-s.left+r),"using"in t?t.using.call(e,c):d.css(c)}},fe.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){fe.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],a=r&&r.ownerDocument;return a?(e=a.documentElement,fe.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=te(a),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===fe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(n=e.offset()),n.top+=fe.css(e[0],"borderTopWidth",!0),n.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-fe.css(i,"marginTop",!0),left:t.left-n.left-fe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||gt})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var a=/Y/.test(r);fe.fn[t]=function(e){return Ve(this,function(e,t,n){var i=te(e);if(n===undefined)return i?r in i?i[r]:i.document.documentElement[t]:e[t];i?i.scrollTo(a?fe(i).scrollLeft():n,a?n:fe(i).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),fe.each(["top","left"],function(e,n){fe.cssHooks[n]=j(ce.pixelPosition,function(e,t){if(t)return t=yt(e,n),ft.test(t)?fe(e).position()[n]+"px":t})}),fe.each({Height:"height",Width:"width"},function(a,o){fe.each({padding:"inner"+a,content:o,"":"outer"+a},function(i,e){fe.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return Ve(this,function(e,t,n){var i;return fe.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):n===undefined?fe.css(e,t,r):fe.style(e,t,n,r)},o,n?e:undefined,n,null)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var Tn=S.jQuery,wn=S.$;return fe.noConflict=function(e){return S.$===fe&&(S.$=wn),e&&S.jQuery===fe&&(S.jQuery=Tn),fe},e||(S.jQuery=S.$=fe),fe}),function(d,u){"use strict";var l;d.rails!==u&&d.error("jquery-ujs has already been loaded!");var e=d(document);d.rails=l={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",
buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return d("meta[name=csrf-token]").attr("content")},csrfParam:function(){return d("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=l.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){d('form input[name="'+l.csrfParam()+'"]').val(l.csrfToken())},fire:function(e,t,n){var i=d.Event(t);return e.trigger(i,n),!1!==i.result},confirm:function(e){return confirm(e)},ajax:function(e){return d.ajax(e)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==u&&!1!==e.data("remote")},handleRemote:function(i){var e,t,n,r,a,o;if(l.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,a=i.data("type")||d.ajaxSettings&&d.ajaxSettings.dataType,i.is("form")){e=i.data("ujs:submit-button-formmethod")||i.attr("method"),t=i.data("ujs:submit-button-formaction")||i.attr("action"),n=d(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(l.inputChangeSelector)?(e=i.data("method"),t=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(l.buttonClickSelector)?(e=i.data("method")||"get",t=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(e=i.data("method"),t=l.href(i),n=i.data("params")||null);return o={type:e||"GET",data:n,dataType:a,beforeSend:function(e,t){if(t.dataType===u&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),!l.fire(i,"ajax:beforeSend",[e,t]))return!1;i.trigger("ajax:send",e)},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l.isCrossDomain(t)},r&&(o.xhrFields={withCredentials:r}),t&&(o.url=t),l.ajax(o)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(e){var t=l.href(e),n=e.data("method"),i=e.attr("target"),r=l.csrfToken(),a=l.csrfParam(),o=d('<form method="post" action="'+t+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';a===u||r===u||l.isCrossDomain(t)||(s+='<input name="'+a+'" value="'+r+'" type="hidden" />'),i&&o.attr("target",i),o.hide().append(s).appendTo("body"),o.submit()},formElements:function(e,t){return e.is("form")?d(e[0].elements).filter(t):e.find(t)},disableFormElements:function(e){l.formElements(e,l.disableSelector).each(function(){l.disableFormElement(d(this))})},disableFormElement:function(e){var t,n;t=e.is("button")?"html":"val",(n=e.data("disable-with"))!==u&&(e.data("ujs:enable-with",e[t]()),e[t](n)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(e){l.formElements(e,l.enableSelector).each(function(){l.enableFormElement(d(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")!==u&&(e[t](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,n=e.data("confirm"),i=!1;if(!n)return!0;if(l.fire(e,"confirm")){try{i=l.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}t=l.fire(e,"confirm:complete",[i])}return i&&t},blankInputs:function(e,t,n){var i,r,a,o=d(),s=t||"input,textarea",u=e.find(s),l={};return u.each(function(){(i=d(this)).is("input[type=radio]")?(a=i.attr("name"),l[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(r=e.find('input[type=radio][name="'+a+'"]'),o=o.add(r)),l[a]=a)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(o=o.add(i))}),!!o.length&&o},nonBlankInputs:function(e,t){return l.blankInputs(e,t,!0)},stopEverything:function(e){return d(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");t!==u&&(e.data("ujs:enable-with",e.html()),e.html(t)),e.bind("click.railsDisable",function(e){return l.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==u&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},l.fire(e,"rails:attachBindings")&&(d.ajaxPrefilter(function(e,t,n){e.crossDomain||l.CSRFProtection(n)}),d(window).on("pageshow.rails",function(){d(d.rails.enableSelector).each(function(){var e=d(this);e.data("ujs:disabled")&&d.rails.enableFormElement(e)}),d(d.rails.linkDisableSelector).each(function(){var e=d(this);e.data("ujs:disabled")&&d.rails.enableElement(e)})}),e.on("ajax:complete",l.linkDisableSelector,function(){l.enableElement(d(this))}),e.on("ajax:complete",l.buttonDisableSelector,function(){l.enableFormElement(d(this))}),e.on("click.rails",l.linkClickSelector,function(e){var t=d(this),n=t.data("method"),i=t.data("params"),r=e.metaKey||e.ctrlKey;if(!l.allowAction(t))return l.stopEverything(e);if(!r&&t.is(l.linkDisableSelector)&&l.disableElement(t),l.isRemote(t)){if(r&&(!n||"GET"===n)&&!i)return!0;var a=l.handleRemote(t);return!1===a?l.enableElement(t):a.fail(function(){l.enableElement(t)}),!1}return n?(l.handleMethod(t),!1):void 0}),e.on("click.rails",l.buttonClickSelector,function(e){var t=d(this);if(!l.allowAction(t)||!l.isRemote(t))return l.stopEverything(e);t.is(l.buttonDisableSelector)&&l.disableFormElement(t);var n=l.handleRemote(t);return!1===n?l.enableFormElement(t):n.fail(function(){l.enableFormElement(t)}),!1}),e.on("change.rails",l.inputChangeSelector,function(e){var t=d(this);return l.allowAction(t)&&l.isRemote(t)?(l.handleRemote(t),!1):l.stopEverything(e)}),e.on("submit.rails",l.formSubmitSelector,function(e){var t,n,i=d(this),r=l.isRemote(i);if(!l.allowAction(i))return l.stopEverything(e);if(i.attr("novalidate")===u)if(i.data("ujs:formnovalidate-button")===u){if((t=l.blankInputs(i,l.requiredInputSelector,!1))&&l.fire(i,"ajax:aborted:required",[t]))return l.stopEverything(e)}else i.data("ujs:formnovalidate-button",u);if(r){if(n=l.nonBlankInputs(i,l.fileInputSelector)){setTimeout(function(){l.disableFormElements(i)},13);var a=l.fire(i,"ajax:aborted:file",[n]);return a||setTimeout(function(){l.enableFormElements(i)},13),a}return l.handleRemote(i),!1}setTimeout(function(){l.disableFormElements(i)},13)}),e.on("click.rails",l.formInputClickSelector,function(e){var t=d(this);if(!l.allowAction(t))return l.stopEverything(e);var n=t.attr("name"),i=n?{name:n,value:t.val()}:null,r=t.closest("form");0===r.length&&(r=d("#"+t.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",t.attr("formnovalidate")),r.data("ujs:submit-button-formaction",t.attr("formaction")),r.data("ujs:submit-button-formmethod",t.attr("formmethod"))}),e.on("ajax:send.rails",l.formSubmitSelector,function(e){this===e.target&&l.disableFormElements(d(this))}),e.on("ajax:complete.rails",l.formSubmitSelector,function(e){this===e.target&&l.enableFormElements(d(this))}),d(function(){l.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";function e(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}i.fn.emulateTransitionEnd=function(e){var t=!1,n=this;return i(this).one("bsTransitionEnd",function(){t=!0}),setTimeout(function(){t||i(n).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=e(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";function e(n){return this.each(function(){var e=a(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new o(this)),"string"==typeof n&&t[n].call(e)})}var t='[data-dismiss="alert"]',o=function(e){a(e).on("click",t,this.close)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function t(){r.detach().trigger("closed.bs.alert").remove()}var n=a(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=a("#"===i?[]:i);e&&e.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(e=a.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),a.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(o.TRANSITION_DURATION):t())};var n=a.fn.alert;a.fn.alert=e,a.fn.alert.Constructor=o,a.fn.alert.noConflict=function(){return a.fn.alert=n,this},a(document).on("click.bs.alert.data-api",t,o.prototype.close)}(jQuery),function(a){"use strict";function n(i){return this.each(function(){var e=a(this),t=e.data("bs.button"),n="object"==typeof i&&i;t||e.data("bs.button",t=new r(this,n)),"toggle"==i?t.toggle():i&&t.setState(i)})}var r=function(e,t){this.$element=a(e),this.options=a.extend({},r.DEFAULTS,t),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(a.proxy(function(){n[i](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(t).attr(t,t).prop(t,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(t).removeAttr(t).prop(t,!1))},this),0)},r.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var e=a.fn.button;a.fn.button=n,a.fn.button.Constructor=r,a.fn.button.noConflict=function(){return a.fn.button=e,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=a(e.target).closest(".btn");n.call(t,"toggle"),a(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),t.is("input,button")?t.trigger("focus"):t.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){a(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(c){"use strict";function o(r){return this.each(function(){var e=c(this),t=e.data("bs.carousel"),n=c.extend({},h.DEFAULTS,e.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;t||e.data("bs.carousel",t=new h(this,n)),"number"==typeof r?t.to(r):i?t[i]():n.interval&&t.pause().cycle()})}var h=function(e,t){this.$element=c(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",c.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",c.proxy(this.pause,this)).on("mouseleave.bs.carousel",c.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},h.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},h.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",this.$items.eq(e))},h.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition&&(this.$element.trigger(c.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(e,t){var n=this.$element.find(".item.active"),i=t||this.getItemForDirection(e,n),r=this.interval,a="next"==e?"left":"right",o=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],u=c.Event("slide.bs.carousel",{relatedTarget:s,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=c(this.$indicators.children()[this.getItemIndex(i)]);l&&l.addClass("active")}var d=c.Event("slid.bs.carousel",{relatedTarget:s,direction:a});return c.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,n.addClass(a),i.addClass(a),n.one("bsTransitionEnd",function(){i.removeClass([e,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(d)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),r&&this.cycle(),this}};var e=c.fn.carousel;c.fn.carousel=o,c.fn.carousel.Constructor=h,c.fn.carousel.noConflict=function(){return c.fn.carousel=e,this};var t=function(e){var t,n=c(this),i=c(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=c.extend({},i.data(),n.data()),a=n.attr("data-slide-to");a&&(r.interval=!1),o.call(i,r),a&&i.data("bs.carousel").to(a),e.preventDefault()}};c(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),c(window).on("load",function(){c('[data-ride="carousel"]').each(function(){var e=c(this);o.call(e,e.data())})})}(jQuery),function(o){"use strict";function r(e){var t,n=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return o(n)}function s(i){return this.each(function(){var e=o(this),t=e.data("bs.collapse"),n=o.extend({},u.DEFAULTS,e.data(),"object"==typeof i&&i);!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||e.data("bs.collapse",t=new u(this,n)),"string"==typeof i&&t[i]()})}var u=function(e,t){this.$element=o(e),this.options=o.extend({},u.DEFAULTS,t),this.$trigger=o('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};u.VERSION="3.3.7",u.TRANSITION_DURATION=350,u.DEFAULTS={toggle:!0},u.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},u.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(e=t.data("bs.collapse"))&&e.transitioning)){var n=o.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){t&&t.length&&(s.call(t,"hide"),e||t.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!o.support.transition)return r.call(this);var a=o.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",o.proxy(r,this)).emulateTransitionEnd(u.TRANSITION_DURATION)[i](this.$element[0][a])}}}},u.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=o.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!o.support.transition)return n.call(this);this.$element[t](0).one("bsTransitionEnd",o.proxy(n,this)).emulateTransitionEnd(u.TRANSITION_DURATION)}}},u.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},u.prototype.getParent=function(){return o(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(o.proxy(function(e,t){var n=o(t);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},u.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var e=o.fn.collapse;o.fn.collapse=s,o.fn.collapse.Constructor=u,o.fn.collapse.noConflict=function(){return o.fn.collapse=e,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=o(this);t.attr("data-target")||e.preventDefault();var n=r(t),i=n.data("bs.collapse")?"toggle":t.data();s.call(n,i)})}(jQuery),function(s){"use strict";function u(e){var t=e.attr("data-target");t||(t=(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""));var n=t&&s(t);return n&&n.length?n:e.parent()}function a(i){i&&3===i.which||(s(t).remove(),s(l).each(function(){var e=s(this),t=u(e),n={relatedTarget:this};t.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(t[0],i.target)||(t.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(e.attr("aria-expanded","false"),t.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function e(n){return this.each(function(){var e=s(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new i(this)),"string"==typeof n&&t[n].call(e)})}var t=".dropdown-backdrop",l='[data-toggle="dropdown"]',i=function(e){s(e).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(e){var t=s(this);if(!t.is(".disabled, :disabled")){var n=u(t),i=n.hasClass("open");if(a(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",a);var r={relatedTarget:this};if(n.trigger(e=s.Event("show.bs.dropdown",r)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var t=s(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var n=u(t),i=n.hasClass("open");if(!i&&27!=e.which||i&&27==e.which)return 27==e.which&&n.find(l).trigger("focus"),t.trigger("click");var r=" li:not(.disabled):visible a",a=n.find(".dropdown-menu"+r);if(a.length){var o=a.index(e.target);38==e.which&&0<o&&o--,40==e.which&&o<a.length-1&&o++,~o||(o=0),a.eq(o).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=e,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",l,i.prototype.toggle).on("keydown.bs.dropdown.data-api",l,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(a){"use strict";function o(i,r){return this.each(function(){var e=a(this),t=e.data("bs.modal"),n=a.extend({},s.DEFAULTS,e.data(),"object"==typeof i&&i);t||e.data("bs.modal",t=new s(this,n)),"string"==typeof i?t[i](r):n.show&&t.show(r)})}var s=function(e,t){this.options=t,this.$body=a(document.body),this.$element=a(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},s.prototype.show=function(n){var i=this,e=a.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){a(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),e&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var t=a.Event("shown.bs.modal",{relatedTarget:n});e?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(t)}))},s.prototype.hide=function(e){e&&e.preventDefault(),e=a.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.support.transition&&n;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){t.removeBackdrop(),e&&e()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=a.fn.modal;a.fn.modal=o,a.fn.modal.Constructor=s,a.fn.modal.noConflict=function(){return a.fn.modal=e,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=a(this),n=t.attr("href"),i=a(t.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(n)&&n},i.data(),t.data());t.is("a")&&e.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),o.call(i,r,this)})}(jQuery),function(g){"use strict";function e(i){return this.each(function(){var e=g(this),t=e.data("bs.tooltip"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.tooltip",t=new m(this,n)),"string"==typeof i&&t[i]())})}var m=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(e,t,n){if(this.enabled=!0,this.type=e,this.$element=g(t),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var a=i[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focusin",s="hover"==a?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(e){return(e=g.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)}),n},m.prototype.enter=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),e instanceof g.Event&&(t.inState["focusin"==e.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState)t.hoverState="in";else{if(clearTimeout(t.timeout),t.hoverState="in",!t.options.delay||!t.options.delay.show)return t.show();t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},m.prototype.leave=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),e instanceof g.Event&&(t.inState["focusout"==e.type?"focus":"hover"]=!1),!t.isInStateTrue()){if(clearTimeout(t.timeout),t.hoverState="out",!t.options.delay||!t.options.delay.hide)return t.hide();t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)}},m.prototype.show=function(){var e=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,s=o.test(a);s&&(a=a.replace(o,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),l=i[0].offsetWidth,d=i[0].offsetHeight;if(s){var c=a,h=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+d>h.bottom?"top":"top"==a&&u.top-d<h.top?"bottom":"right"==a&&u.right+l>h.width?"left":"left"==a&&u.left-l<h.left?"right":a,i.removeClass(c).addClass(a)}var f=this.getCalculatedOffset(a,u,l,d);this.applyPlacement(f,a);var p=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade"
)?i.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(e,t){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),o=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),e.top+=a,e.left+=o,g.offset.setOffset(n[0],g.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),n.addClass("in");var s=n[0].offsetWidth,u=n[0].offsetHeight;"top"==t&&u!=r&&(e.top=e.top+r-u);var l=this.getViewportAdjustedDelta(t,e,s,u);l.left?e.left+=l.left:e.top+=l.top;var d=/top|bottom/.test(t),c=d?2*l.left-i+s:2*l.top-r+u,h=d?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(c,n[0][h],d)},m.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},m.prototype.hide=function(e){function t(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,i=g(this.$tip),r=g.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(m.TRANSITION_DURATION):t(),this.hoverState=null,this},m.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],n="BODY"==t.tagName,i=t.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&t instanceof window.SVGElement,a=n?{top:0,left:0}:r?null:e.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,o,s,a)},m.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},m.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-o.scroll,u=t.top+a-o.scroll+i;s<o.top?r.top=o.top-s:u>o.top+o.height&&(r.top=o.top+o.height-u)}else{var l=t.left-a,d=t.left+a+n;l<o.left?r.left=o.left-l:d>o.right&&(r.left=o.left+o.width-d)}return r},m.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},m.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(e){var t=this;e&&((t=g(e.currentTarget).data("bs."+this.type))||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t))),e?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},m.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var t=g.fn.tooltip;g.fn.tooltip=e,g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(r){"use strict";function e(i){return this.each(function(){var e=r(this),t=e.data("bs.popover"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.popover",t=new a(this,n)),"string"==typeof i&&t[i]())})}var a=function(e,t){this.init("popover",e,t)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.7",a.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=r.extend({},r.fn.tooltip.Constructor.prototype),(a.prototype.constructor=a).prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=r.fn.popover;r.fn.popover=e,r.fn.popover.Constructor=a,r.fn.popover.noConflict=function(){return r.fn.popover=t,this}}(jQuery),function(a){"use strict";function r(e,t){this.$body=a(document.body),this.$scrollElement=a(e).is(document.body)?a(window):a(e),this.options=a.extend({},r.DEFAULTS,t),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function t(i){return this.each(function(){var e=a(this),t=e.data("bs.scrollspy"),n="object"==typeof i&&i;t||e.data("bs.scrollspy",t=new r(this,n)),"string"==typeof i&&t[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var e=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=a(this),t=e.data("target")||e.attr("href"),n=/^#./.test(t)&&a(t);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},r.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=t)return o!=(e=a[a.length-1])&&this.activate(e);if(o&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)o!=a[e]&&t>=r[e]&&(r[e+1]===undefined||t<r[e+1])&&this.activate(a[e])},r.prototype.activate=function(e){this.activeTarget=e,this.clear();var t=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=a(t).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var e=a.fn.scrollspy;a.fn.scrollspy=t,a.fn.scrollspy.Constructor=r,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=e,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var e=a(this);t.call(e,e.data())})})}(jQuery),function(s){"use strict";function t(n){return this.each(function(){var e=s(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new o(this)),"string"==typeof n&&t[n]()})}var o=function(e){this.element=s(e)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.show=function(){var e=this.element,t=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=t.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:e[0]}),a=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var o=s(n);this.activate(e.closest("li"),t),this.activate(o,o.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},o.prototype.activate=function(e,t,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=t.find("> .active"),a=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!t.find("> .fade").length);r.length&&a?r.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i(),r.removeClass("in")};var e=s.fn.tab;s.fn.tab=t,s.fn.tab.Constructor=o,s.fn.tab.noConflict=function(){return s.fn.tab=e,this};var n=function(e){e.preventDefault(),t.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(u){"use strict";function n(i){return this.each(function(){var e=u(this),t=e.data("bs.affix"),n="object"==typeof i&&i;t||e.data("bs.affix",t=new l(this,n)),"string"==typeof i&&t[i]()})}var l=function(e,t){this.options=u.extend({},l.DEFAULTS,t),this.$target=u(this.options.target).on("scroll.bs.affix.data-api",u.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",u.proxy(this.checkPositionWithEventLoop,this)),this.$element=u(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};l.VERSION="3.3.7",l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0,target:window},l.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=a.top)&&"bottom":!(r+o<=e-i)&&"bottom";var s=null==this.affixed,u=s?r:a.top;return null!=n&&r<=n?"top":null!=i&&e-i<=u+(s?o:t)&&"bottom"},l.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(l.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},l.prototype.checkPositionWithEventLoop=function(){setTimeout(u.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),t=this.options.offset,n=t.top,i=t.bottom,r=Math.max(u(document).height(),u(document.body).height());"object"!=typeof t&&(i=n=t),"function"==typeof n&&(n=t.top(this.$element)),"function"==typeof i&&(i=t.bottom(this.$element));var a=this.getState(r,e,n,i);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var o="affix"+(a?"-"+a:""),s=u.Event(o+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(l.RESET).addClass(o).trigger(o.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-e-i})}};var e=u.fn.affix;u.fn.affix=n,u.fn.affix.Constructor=l,u.fn.affix.noConflict=function(){return u.fn.affix=e,this},u(window).on("load",function(){u('[data-spy="affix"]').each(function(){var e=u(this),t=e.data();t.offset=t.offset||{},null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom),null!=t.offsetTop&&(t.offset.top=t.offsetTop),n.call(e,t)})})}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){var f;!function(r,e,t){function l(e,t){this.$form=e,this.$input=t,this.reset(),t.on("change paste",this.reset.bind(this))}var n=function(){return!1},i=null,a={numHalted:0,haltValidation:function(e){this.numHalted++,r.formUtils.haltValidation=!0,e.unbind("submit",n).bind("submit",n).find('*[type="submit"]').addClass("disabled").attr("disabled","disabled")},unHaltValidation:function(e){this.numHalted--,0===this.numHalted&&(r.formUtils.haltValidation=!1,e.unbind("submit",n).find('*[type="submit"]').removeClass("disabled").removeAttr("disabled","disabled"))}};l.prototype.reset=function(){this.haltedFormValidation=!1,this.hasRun=!1,this.isRunning=!1,this.result=t},l.prototype.run=function(e,t){return"keyup"===e?null:this.isRunning?(i=e,this.haltedFormValidation||(a.haltValidation(),this.haltedFormValidation=!0),null):this.hasRun?this.result:(i=e,a.haltValidation(this.$form),this.haltedFormValidation=!0,this.isRunning=!0,this.$input.attr("disabled","disabled").addClass("async-validation"),this.$form.addClass("async-validation"),t(function(e){this.done(e)}.bind(this)),null)},l.prototype.done=function(e){this.result=e,this.hasRun=!0,this.isRunning=!1,this.$input.removeAttr("disabled").removeClass("async-validation"),this.$form.removeClass("async-validation"),this.haltedFormValidation&&(a.unHaltValidation(this.$form),"submit"===i?this.$form.trigger("submit"):this.$input.trigger("validation.revalidate"))},l.loadInstance=function(e,t,n){var i,r=t.get(0);return r.asyncValidators||(r.asyncValidators={}),r.asyncValidators[e]?i=r.asyncValidators[e]:(i=new l(n,t),r.asyncValidators[e]=i),i},r.formUtils=r.extend(r.formUtils||{},{asyncValidation:function(e,t,n){return this.warn("Use of deprecated function $.formUtils.asyncValidation, use $.formUtils.addAsyncValidator() instead"),l.loadInstance(e,t,n)},addAsyncValidator:function(e){var s=r.extend({},e),u=s.validatorFunction;s.async=!0,s.validatorFunction=function(t,n,i,r,a,o){return l.loadInstance(this.name,n,a).run(o,function(e){u.apply(s,[e,t,n,i,r,a,o])})},this.addValidator(s)}}),r(e).bind("validatorsLoaded formValidationSetup",function(e,t){t||(t=r("form")),t.find("[data-validation]").each(function(){var i=r(this);i.valAttr("async",!1),r.each(r.split(i.attr("data-validation")),function(e,t){var n=r.formUtils.validators["validate_"+t];n&&n.async&&i.valAttr("async","yes")})})})}(e,window),function(s){"use strict";function n(n){n&&"custom"===n.errorMessagePosition&&"function"==typeof n.errorMessageCustom&&(s.formUtils.warn("Use of deprecated function errorMessageCustom, use config.submitErrorMessageCallback instead"),n.submitErrorMessageCallback=function(e,t){n.errorMessageCustom(e,n.language.errorTitle,t,n)})}function i(e){if(e.errorMessagePosition&&"object"==typeof e.errorMessagePosition){s.formUtils.warn("Deprecated use of config parameter errorMessagePosition, use config.submitErrorMessageCallback instead");var t=e.errorMessagePosition;e.errorMessagePosition="top",e.submitErrorMessageCallback=function(){return t}}}function r(o){var e=o.find("[data-validation-if-checked]");e.length&&s.formUtils.warn('Detected use of attribute "data-validation-if-checked" which is deprecated. Use "data-validation-depends-on" provided by module "logic"'),e.on("beforeValidation",function(){var e=s(this),t=e.valAttr("if-checked"),n=s('input[name="'+t+'"]',o),i=n.is(":checked"),r=(s.formUtils.getValue(n)||"").toString(),a=e.valAttr("if-checked-value");(!i||a&&a!==r)&&e.valAttr("skipped",!0)})}function a(e){var t={se:"sv",cz:"cs",dk:"da"};if(e.lang in t){var n=t[e.lang];s.formUtils.warn('Deprecated use of lang code "'+e.lang+'" use "'+n+'" instead'),e.lang=n}}s.fn.validateForm=function(e,t){return s.formUtils.warn("Use of deprecated function $.validateForm, use $.isValid instead"),this.isValid(e,t,!0)},s(window).on("formValidationPluginInit",function(e,t){a(t),n(t),i(t)}).on("validatorsLoaded formValidationSetup",function(e,t){t||(t=s("form")),r(t)})}(e),function(l){"use strict";var r={resolveErrorMessage:function(e,t,n,i,r){var a=i.validationErrorMsgAttribute+"-"+n.replace("validate_",""),o=e.attr(a);return o||((o=e.attr(i.validationErrorMsgAttribute))||((o="function"!=typeof t.errorMessageKey?r[t.errorMessageKey]:r[t.errorMessageKey(i)])||(o=t.errorMessage))),o},getParentContainer:function(e){if(e.valAttr("error-msg-container"))return l(e.valAttr("error-msg-container"));var t=e.parent();return"checkbox"===e.attr("type")&&e.closest(".checkbox").length?t=e.closest(".checkbox").parent():"radio"===e.attr("type")&&e.closest(".radio").length&&(t=e.closest(".radio").parent()),t.closest(".input-group").length&&(t=t.closest(".input-group").parent()),t},applyInputErrorStyling:function(e,t){e.addClass(t.errorElementClass).removeClass(t.successElementClass),this.getParentContainer(e).addClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess),""!==t.borderColorOnError&&e.css("border-color",t.borderColorOnError)},applyInputSuccessStyling:function(e,t){e.addClass(t.successElementClass),this.getParentContainer(e).addClass(t.inputParentClassOnSuccess)},removeInputStylingAndMessage:function(e,t){e.removeClass(t.successElementClass).removeClass(t.errorElementClass).css("border-color","");var n=r.getParentContainer(e);if(n.removeClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess),"function"==typeof t.inlineErrorMessageCallback){var i=t.inlineErrorMessageCallback(e,!1,t);i&&i.html("")}else n.find("."+t.errorMessageClass).remove()},removeAllMessagesAndStyling:function(e,t){if("function"==typeof t.submitErrorMessageCallback){var n=t.submitErrorMessageCallback(e,!1,t);n&&n.html("")}else e.find("."+t.errorMessageClass+".alert").remove();e.find("."+t.errorElementClass+",."+t.successElementClass).each(function(){r.removeInputStylingAndMessage(l(this),t)})},setInlineMessage:function(t,n,i){this.applyInputErrorStyling(t,i);var r,e=document.getElementById(t.attr("name")+"_err_msg"),a=!1,o=function(e){l.formUtils.$win.trigger("validationErrorDisplay",[t,e]),e.html(n)},s=function(){var e=!1;a.find("."+i.errorMessageClass).each(function(){if(this.inputReferer===t[0])return e=l(this),!1}),e?n?o(e):e.remove():""!==n&&(r=l('<div class="'+i.errorMessageClass+' alert"></div>'),o(r),r[0].inputReferer=t[0],a.prepend(r))};if(e)l.formUtils.warn("Using deprecated element reference "+e.id),a=l(e),s();else if("function"==typeof i.inlineErrorMessageCallback){if(!(a=i.inlineErrorMessageCallback(t,n,i)))return;s()}else{var u=this.getParentContainer(t);0===(r=u.find("."+i.errorMessageClass+".help-block")).length&&(r=l("<span></span>").addClass("help-block").addClass(i.errorMessageClass)).appendTo(u),o(r)}},setMessageInTopOfForm:function(e,t,n,i){var r='<div class="{errorMessageClass} alert alert-danger"><strong>{errorTitle}</strong><ul>{fields}</ul></div>',a=!1;if("function"!=typeof n.submitErrorMessageCallback||(a=n.submitErrorMessageCallback(e,t,n))){var o={errorTitle:i.errorTitle,fields:"",errorMessageClass:n.errorMessageClass};l.each(t,function(e,t){o.fields+="<li>"+t+"</li>"}),l.each(o,function(e,t){r=r.replace("{"+e+"}",t)}),a?a.html(r):e.children().eq(0).before(l(r))}}};l.formUtils=l.extend(l.formUtils||{},{dialogs:r})}(e),function(c,d,n){"use strict";var r=0;c.fn.validateOnBlur=function(n,i){var r=this,e=this.find("*[data-validation]");return e.each(function(){var e=c(this);if(e.is("[type=radio]")){var t=r.find('[type=radio][name="'+e.attr("name")+'"]');t.bind("blur.validation",function(){e.validateInputOnBlur(n,i,!0,"blur")}),i.validateCheckboxRadioOnClick&&t.bind("click.validation",function(){e.validateInputOnBlur(n,i,!0,"click")})}}),e.bind("blur.validation",function(){c(this).validateInputOnBlur(n,i,!0,"blur")}),i.validateCheckboxRadioOnClick&&this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation",function(){c(this).validateInputOnBlur(n,i,!0,"click")}),this},c.fn.validateOnEvent=function(n,i){return("FORM"===this[0].nodeName?this.find("*[data-validation-event]"):this).each(function(){var e=c(this),t=e.valAttr("event");t&&e.unbind(t+".validation").bind(t+".validation",function(e){9!==(e||{}).keyCode&&c(this).validateInputOnBlur(n,i,!0,t)})}),this},c.fn.showHelpOnFocus=function(e){return e||(e="data-validation-help"),this.find("textarea,input").each(function(){var t=c(this),n="jquery_form_help_"+ ++r,i=t.attr(e);t.removeClass("has-help-text").unbind("focus.help").unbind("blur.help"),i&&t.addClass("has-help-txt").bind("focus.help",function(){var e=t.parent().find("."+n);0===e.length&&(e=c("<span />").addClass(n).addClass("help").addClass("help-block").text(i).hide(),t.after(e)),e.fadeIn()}).bind("blur.help",function(){c(this).parent().find("."+n).fadeOut("slow")})}),this},c.fn.validate=function(n,i,e){var r=c.extend({},c.formUtils.LANG,e||{});this.each(function(){var e=c(this),t=(e.closest("form").get(0)||{}).validationConfig||c.formUtils.defaultConfig();e.one("validation",function(e,t){"function"==typeof n&&n(t,this,e)}),e.validateInputOnBlur(r,c.extend({},t,i||{}),!0)})},c.fn.willPostponeValidation=function(){return(this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!d.postponedValidation},c.fn.validateInputOnBlur=function(e,t,n,i){if(c.formUtils.eventType=i,this.willPostponeValidation()){var r=this,a=this.valAttr("postpone")||200;return d.postponedValidation=function(){r.validateInputOnBlur(e,t,n,i),d.postponedValidation=!1},setTimeout(function(){d.postponedValidation&&d.postponedValidation()},a),this}e=c.extend({},c.formUtils.LANG,e||{}),c.formUtils.dialogs.removeInputStylingAndMessage(this,t);var o=this,s=o.closest("form"),u=c.formUtils.validateInput(o,e,t,s,i),l=function(){o.validateInputOnBlur(e,t,!1,"blur.revalidated")};return"blur"===i&&o.unbind("validation.revalidate",l).one("validation.revalidate",l),n&&o.removeKeyUpValidation(),u.shouldChangeDisplay&&(u.isValid?c.formUtils.dialogs.applyInputSuccessStyling(o,t):c.formUtils.dialogs.setInlineMessage(o,u.errorMsg,t)),!u.isValid&&n&&o.validateOnKeyUp(e,t),this},c.fn.validateOnKeyUp=function(n,i){return this.each(function(){var t=c(this);t.valAttr("has-keyup-event")||t.valAttr("has-keyup-event","true").bind("keyup.validation",function(e){9!==e.keyCode&&t.validateInputOnBlur(n,i,!1,"keyup")})}),this},c.fn.removeKeyUpValidation=function(){return this.each(function(){c(this).valAttr("has-keyup-event",!1).unbind("keyup.validation")}),this},c.fn.valAttr=function(e,t){return t===n?this.attr("data-validation-"+e):!1===t||null===t?this.removeAttr("data-validation-"+e):(e=0<e.length?"-"+e:"",this.attr("data-validation"+e,t))},c.fn.isValid=function(a,o,n){if(c.formUtils.isLoadingModules){var e=this;return setTimeout(function(){e.isValid(a,o,n)},200),null}o=c.extend({},c.formUtils.defaultConfig(),o||{}),a=c.extend({},c.formUtils.LANG,a||{}),n=!1!==n,c.formUtils.errorDisplayPreventedWhenHalted&&(delete c.formUtils.errorDisplayPreventedWhenHalted,n=!1);var s=function(e,t){c.inArray(e,i)<0&&i.push(e),r.push(t),t.valAttr("current-error",e),n&&c.formUtils.dialogs.applyInputErrorStyling(t,o)},u=[],i=[],r=[],l=this,d=function(e,t){return"submit"===t||"button"===t||"reset"===t||-1<c.inArray(e,o.ignore||[])};if(n&&c.formUtils.dialogs.removeAllMessagesAndStyling(l,o),l.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var e=c(this),t=e.attr("type"),n="radio"===t||"checkbox"===t,i=e.attr("name");if(!d(i,t)&&(!n||c.inArray(i,u)<0)){n&&u.push(i);var r=c.formUtils.validateInput(e,a,o,l,"submit");r.isValid?r.isValid&&r.shouldChangeDisplay&&(e.valAttr("current-error",!1),c.formUtils.dialogs.applyInputSuccessStyling(e,o)):s(r.errorMsg,e)}}),"function"==typeof o.onValidate){var t=o.onValidate(l);c.isArray(t)?c.each(t,function(e,t){s(t.message,t.element)}):t&&t.element&&t.message&&s(t.message,t.element)}return c.formUtils.isValidatingEntireForm=!1,0<r.length&&n&&("top"===o.errorMessagePosition?c.formUtils.dialogs.setMessageInTopOfForm(l,i,o,a):c.each(r,function(e,t){c.formUtils.dialogs.setInlineMessage(t,t.valAttr("current-error"),o)}),o.scrollToTopOnError&&c.formUtils.$win.scrollTop(l.offset().top-20)),!n&&c.formUtils.haltValidation&&(c.formUtils.errorDisplayPreventedWhenHalted=!0),0===r.length&&!c.formUtils.haltValidation},c.fn.restrictLength=function(e){return new c.formUtils.lengthRestriction(this,e),this},c.fn.addSuggestions=function(t){var n=!1;return this.find("input").each(function(){var e=c(this);0<(n=c.split(e.attr("data-suggestions"))).length&&!e.hasClass("has-suggestions")&&(c.formUtils.suggest(e,n,t),e.addClass("has-suggestions"))}),this}}(e,window),function(u){"use strict";u.formUtils=u.extend(u.formUtils||{},{isLoadingModules:!1,loadedModules:{},registerLoadedModule:function(e){this.loadedModules[u.trim(e).toLowerCase()]=!0},hasLoadedModule:function(e){return u.trim(e).toLowerCase()in this.loadedModules},loadModules:function(t,e,i){if(u.formUtils.isLoadingModules)setTimeout(function(){u.formUtils.loadModules(t,e,i)},100);else{var n=function(e,r){var t=u.split(e),n=t.length,a=function(){0===--n&&(u.formUtils.isLoadingModules=!1,"function"==typeof i&&i())};0<n&&(u.formUtils.isLoadingModules=!0);var o="?_="+(new Date).getTime(),s=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];u.each(t,function(e,t){if(0===(t=u.trim(t)).length||u.formUtils.hasLoadedModule(t))a();else{var n=r+t+(".js"===t.slice(-3)?"":".js"),i=document.createElement("SCRIPT");"function"==typeof define&&define.amd?require([n+(".dev.js"===n.slice(-7)?o:"")],a):(i.type="text/javascript",i.onload=a,i.src=n+(".dev.js"===n.slice(-7)?o:""),i.onerror=function(){u.formUtils.warn("Unable to load form validation module "+n,!0),a()},i.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(a(),this.onload=null,this.onreadystatechange=null)},s.appendChild(i))}})};if(e)n(t,e);else{var r=function(){var e=!1;return u('script[src*="form-validator"]').each(function(){if(!(1<this.src.split("form-validator")[1].split("node_modules").length))return"/"===(e=this.src.substr(0,this.src.lastIndexOf("/"))+"/")&&(e=""),!1}),!1!==e&&(n(t,e),!0)};r()||u(function(){r()||"function"==typeof i&&i()})}}}})}(e),function(a){"use strict";a.split=function(e,n,t){t=void 0===t||!0===t;var i=new RegExp("[,|"+(t?"\\s":"")+"-]\\s*","g");if("function"!=typeof n){if(!e)return[];var r=[];return a.each(e.split(n||i),function(e,t){(t=a.trim(t)).length&&r.push(t)}),r}e&&a.each(e.split(i),function(e,t){if((t=a.trim(t)).length)return n(t,e)})},a.validate=function(r){var e=a.extend(a.formUtils.defaultConfig(),{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1});if(r=a.extend(e,r||{}),a(window).trigger("formValidationPluginInit",[r]),r.lang&&"en"!==r.lang){var t="lang/"+r.lang+".js";r.modules+=r.modules.length?","+t:t}a(r.form).each(function(e,t){t.validationConfig=r;var n=a(t);n.trigger("formValidationSetup",[n,r]),n.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"),n.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"),n.bind("submit.validation",function(e){var t=a(this),n=function(){return e.stopImmediatePropagation(),!1};if(a.formUtils.haltValidation)return n();if(a.formUtils.isLoadingModules)return setTimeout(function(){t.trigger("submit.validation")},200),n();var i=t.isValid(r.language,r);return a.formUtils.haltValidation?n():i&&"function"==typeof r.onSuccess?!1===r.onSuccess(t)?n():void 0:i||"function"!=typeof r.onError?!!i||n():(r.onError(t),n())}).bind("reset.validation",function(){a.formUtils.dialogs.removeAllMessagesAndStyling(n,r)}).addClass("has-validation-callback"),r.showHelpOnFocus&&n.showHelpOnFocus(),r.addSuggestions&&n.addSuggestions(),r.validateOnBlur&&(n.validateOnBlur(r.language,r),n.bind("html5ValidationAttrsFound",function(){n.validateOnBlur(r.language,r)})),r.validateOnEvent&&n.validateOnEvent(r.language,r)}),""!==r.modules&&a.formUtils.loadModules(r.modules,null,function(){"function"==typeof r.onModulesLoaded&&r.onModulesLoaded();var e="string"==typeof r.form?a(r.form):r.form;a.formUtils.$win.trigger("validatorsLoaded",[e,r])})}}(e),function(f,n){"use strict";var i=f(n);f.formUtils=f.extend(f.formUtils||{},{$win:i,defaultConfig:function(){return{ignore:[],errorElementClass:"error",successElementClass:"valid",borderColorOnError:"#b94a48",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"inline",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}</div>',messages:"<strong>{errorTitle}</strong><ul>{fields}</ul>",field:"<li>{msg}</li>"},scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:".",inputParentClassOnError:"has-error",inputParentClassOnSuccess:"has-success",validateHiddenInputs:!1,inlineErrorMessageCallback:!1,submitErrorMessageCallback:!1}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,addValidator:function(e){var t=0===e.name.indexOf("validate_")?e.name:"validate_"+e.name;void 0===e.validateOnKeyUp&&(e.validateOnKeyUp=!0),this.validators[t]=e},warn:function(e,t){"console"in n?"function"==typeof n.console.warn?n.console.warn(e):"function"==typeof n.console.log&&n.console.log(e):t&&alert(e)},getValue:function(e,t){var n=t?t.find(e):e;if(0<n.length){var i=n.eq(0).attr("type");return"radio"===i||"checkbox"===i?n.filter(":checked").val()||"":n.val()||""}return!1},validateInput:function(n,i,r,a,o){r=r||f.formUtils.defaultConfig(),i=i||f.formUtils.LANG,a.length||(a=n.parent());var s=this.getValue(n);n.valAttr("skipped",!1).one("beforeValidation",function(){(n.attr("disabled")||!n.is(":visible")&&!r.validateHiddenInputs)&&n.valAttr("skipped",1)}).trigger("beforeValidation",[s,i,r]);var e="true"===n.valAttr("optional"),t=!s&&e,u=n.attr(r.validationRuleAttribute),l=!0,d="",c={isValid:!0,shouldChangeDisplay:!0,errorMsg:""};if(!u||t||n.valAttr("skipped"))return c.shouldChangeDisplay=r.addValidClassOnAll,c;var h=n.valAttr("ignore");return h&&f.each(h.split(""),function(e,t){s=s.replace(new RegExp("\\"+t,"g"),"")}),f.split(u,function(e){0!==e.indexOf("validate_")&&(e="validate_"+e);var t=f.formUtils.validators[e];if(!t)throw new Error('Using undefined validator "'+e+'". Maybe you have forgotten to load the module that "'+e+'" belongs to?');if("validate_checkbox_group"===e&&(n=a.find('[name="'+n.attr("name")+'"]:eq(0)')),("keyup"!==o||t.validateOnKeyUp)&&(l=t.validatorFunction(s,n,r,i,a,o)),!l)return r.validateOnBlur&&n.validateOnKeyUp(i,r),d=f.formUtils.dialogs.resolveErrorMessage(n,t,e,r,i),!1}),!1===l?(n.trigger("validation",!1),c.errorMsg=d,c.isValid=!1,c.shouldChangeDisplay=!0):null===l?c.shouldChangeDisplay=!1:(n.trigger("validation",!0),c.shouldChangeDisplay=!0),"function"==typeof r.onElementValidate&&null!==d&&r.onElementValidate(c.isValid,n,a,d),n.trigger("afterValidation",[c,o]),c},parseDate:function(e,t,n){var i,r,a,o,s=t.replace(/[a-zA-Z]/gi,"").substring(0,1),u="^",l=t.split(s||null);if(f.each(l,function(e,t){u+=(0<e?"\\"+s:"")+"(\\d{"+t.length+"})"}),u+="$",n){var d=[];f.each(e.split(s),function(e,t){1===t.length&&(t="0"+t),d.push(t)}),e=d.join(s)}if(null===(i=e.match(new RegExp(u))))return!1;var c=function(e,t,n){for(var i=0;i<t.length;i++)if(t[i].substring(0,1)===e)return f.formUtils.parseDateInt(n[i+1]);return-1};return a=c("m",l,i),r=c("d",l,i),o=c("y",l,i),!(2===a&&28<r&&(o%4!=0||o%100==0&&o%400!=0)||2===a&&29<r&&(o%4==0||o%100!=0&&o%400==0)||12<a||0===a)&&!(this.isShortMonth(a)&&30<r||!this.isShortMonth(a)&&31<r||0===r)&&[o,a,r]},parseDateInt:function(e){return 0===e.indexOf("0")&&(e=e.replace("0","")),parseInt(e,10)},isShortMonth:function(e){return e%2==0&&e<7||e%2!=0&&7<e},lengthRestriction:function(n,i){var r=parseInt(i.text(),10),a=0,e=function(){
var e=n.val().length;if(r<e){var t=n.scrollTop();n.val(n.val().substring(0,r)),n.scrollTop(t)}(a=r-e)<0&&(a=0),i.text(a)};f(n).bind("keydown keyup keypress focus blur",e).bind("cut paste",function(){setTimeout(e,100)}),f(document).bind("ready",e)},numericRangeCheck:function(e,t){var n=f.split(t),i=parseInt(t.substr(3),10);return 1===n.length&&-1===t.indexOf("min")&&-1===t.indexOf("max")&&(n=[t,t]),2===n.length&&(e<parseInt(n[0],10)||e>parseInt(n[1],10))?["out",n[0],n[1]]:0===t.indexOf("min")&&e<i?["min",i]:0===t.indexOf("max")&&i<e?["max",i]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(t,e,n){var d={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},u=function(e,t){var n=t.offset();e.css({width:t.outerWidth(),left:n.left+"px",top:n.top+t.outerHeight()+"px"})};n&&f.extend(d,n),d.css.position="absolute",d.css["z-index"]=9999,t.attr("autocomplete","off"),0===this._numSuggestionElements&&i.bind("resize",function(){f(".jquery-form-suggestions").each(function(){var e=f(this),t=e.attr("data-suggest-container");u(e,f(".suggestions-"+t).eq(0))})}),this._numSuggestionElements++;var c=function(e){var t=e.valAttr("suggestion-nr");f.formUtils._selectedSuggestion=null,f.formUtils._previousTypedVal=null,f(".jquery-form-suggestion-"+t).fadeOut("fast")};return t.data("suggestions",e).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){f(this).trigger("keyup"),f.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var n=f(this),i=[],r=f.trim(n.val()).toLocaleLowerCase();if(r!==f.formUtils._previousTypedVal){f.formUtils._previousTypedVal=r;var a=!1,e=n.valAttr("suggestion-nr"),o=f(".jquery-form-suggestion-"+e);if(o.scrollTop(0),""!==r){var s=2<r.length;f.each(n.data("suggestions"),function(e,t){var n=t.toLocaleLowerCase();return n===r?(i.push("<strong>"+t+"</strong>"),!(a=!0)):void((0===n.indexOf(r)||s&&-1<n.indexOf(r))&&i.push(t.replace(new RegExp(r,"gi"),"<strong>$&</strong>")))})}a||0===i.length&&0<o.length?o.hide():0<i.length&&0===o.length?(o=f("<div></div>").css(d.css).appendTo("body"),t.addClass("suggestions-"+e),o.attr("data-suggest-container",e).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+e)):0<i.length&&!o.is(":visible")&&o.show(),0<i.length&&r.length!==i[0].length&&(u(o,n),o.html(""),f.each(i,function(e,t){f("<div></div>").append(t).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(o).click(function(){n.focus(),n.val(f(this).text()),n.trigger("change"),c(n)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(e){var t,n,i=e.keyCode?e.keyCode:e.which,r=f(this);if(13===i&&null!==f.formUtils._selectedSuggestion){if(t=r.valAttr("suggestion-nr"),0<(n=f(".jquery-form-suggestion-"+t)).length){var a=n.find("div").eq(f.formUtils._selectedSuggestion).text();r.val(a),r.trigger("change"),c(r),e.preventDefault()}}else{t=r.valAttr("suggestion-nr");var o=(n=f(".jquery-form-suggestion-"+t)).children();if(0<o.length&&-1<f.inArray(i,[38,40])){38===i?(null===f.formUtils._selectedSuggestion?f.formUtils._selectedSuggestion=o.length-1:f.formUtils._selectedSuggestion--,f.formUtils._selectedSuggestion<0&&(f.formUtils._selectedSuggestion=o.length-1)):40===i&&(null===f.formUtils._selectedSuggestion?f.formUtils._selectedSuggestion=0:f.formUtils._selectedSuggestion++,f.formUtils._selectedSuggestion>o.length-1&&(f.formUtils._selectedSuggestion=0));var s=n.innerHeight(),u=n.scrollTop(),l=n.children().eq(0).outerHeight()*f.formUtils._selectedSuggestion;return(l<u||u+s<l)&&n.scrollTop(l),o.removeClass("active-suggestion").css("background","none").eq(f.formUtils._selectedSuggestion).addClass("active-suggestion").css(d.activeSuggestionCSS),e.preventDefault(),!1}}}).unbind("blur.suggest").bind("blur.suggest",function(){c(f(this))}),t},LANG:{errorTitle:"Form submission failed!",requiredField:"This is a required field",requiredFields:"You have not answered all required fields",badTime:"You have not given a correct time",badEmail:"You have not given a correct e-mail address",badTelephone:"You have not given a correct phone number",badSecurityAnswer:"You have not given a correct answer to the security question",badDate:"You have not given a correct date",lengthBadStart:"The input value must be between ",lengthBadEnd:" characters",lengthTooLongStart:"The input value is longer than ",lengthTooShortStart:"The input value is shorter than ",notConfirmed:"Input values could not be confirmed",badDomain:"Incorrect domain value",badUrl:"The input value is not a correct URL",badCustomVal:"The input value is incorrect",andSpaces:" and spaces ",badInt:"The input value was not a correct number",badSecurityNumber:"Your social security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badUKNin:"Incorrect UK NIN",badUKUtr:"Incorrect UK UTR Number",badStrength:"The password isn't strong enough",badNumberOfSelectedOptionsStart:"You have to choose at least ",badNumberOfSelectedOptionsEnd:" answers",badAlphaNumeric:"The input value can only contain alphanumeric characters ",badAlphaNumericExtra:" and ",wrongFileSize:"The file you are trying to upload is too large (max %s)",wrongFileType:"Only files of type %s is allowed",groupCheckedRangeStart:"Please choose between ",groupCheckedTooFewStart:"Please choose at least ",groupCheckedTooManyStart:"Please choose a maximum of ",groupCheckedEnd:" item(s)",badCreditCard:"The credit card number is not correct",badCVV:"The CVV number was not correct",wrongFileDim:"Incorrect image dimensions,",imageTooTall:"the image can not be taller than",imageTooWide:"the image can not be wider than",imageTooSmall:"the image was too small",min:"min",max:"max",imageRatioNotAccepted:"Image ratio is not be accepted",badBrazilTelephoneAnswer:"The phone number entered is invalid",badBrazilCEPAnswer:"The CEP entered is invalid",badBrazilCPFAnswer:"The CPF entered is invalid",badPlPesel:"The PESEL entered is invalid",badPlNip:"The NIP entered is invalid",badPlRegon:"The REGON entered is invalid",badreCaptcha:"Please confirm that you are not a bot",passwordComplexityStart:"Password must contain at least ",passwordComplexitySeparator:", ",passwordComplexityUppercaseInfo:" uppercase letter(s)",passwordComplexityLowercaseInfo:" lowercase letter(s)",passwordComplexitySpecialCharsInfo:" special character(s)",passwordComplexityNumericCharsInfo:" numeric character(s)",passwordComplexityEnd:"."}})}(e,window),(f=e).formUtils.addValidator({name:"email",validatorFunction:function(e){var t=e.toLowerCase().split("@"),n=t[0],i=t[1];if(n&&i){if(0===n.indexOf('"')){var r=n.length;if((n=n.replace(/\"/g,"")).length!==r-2)return!1}return f.formUtils.validators.validate_domain.validatorFunction(t[1])&&0!==n.indexOf(".")&&"."!==n.substring(n.length-1,n.length)&&-1===n.indexOf("..")&&!/[^\w\+\.\-\#\-\_\~\!\$\&\'\(\)\*\+\,\;\=\:]/.test(n)}return!1},errorMessage:"",errorMessageKey:"badEmail"}),f.formUtils.addValidator({name:"domain",validatorFunction:function(e){return 0<e.length&&e.length<=253&&!/[^a-zA-Z0-9]/.test(e.slice(-2))&&!/[^a-zA-Z0-9]/.test(e.substr(0,1))&&!/[^a-zA-Z0-9\.\-]/.test(e)&&1===e.split("..").length&&1<e.split(".").length},errorMessage:"",errorMessageKey:"badDomain"}),f.formUtils.addValidator({name:"required",validatorFunction:function(e,t,n,i,r){switch(t.attr("type")){case"checkbox":return t.is(":checked");case"radio":return 0<r.find('input[name="'+t.attr("name")+'"]').filter(":checked").length;default:return""!==f.trim(e)}},errorMessage:"",errorMessageKey:function(e){return"top"===e.errorMessagePosition||"function"==typeof e.errorMessagePosition?"requiredFields":"requiredField"}}),f.formUtils.addValidator({name:"length",validatorFunction:function(e,t,n,i){var r=t.valAttr("length"),a=t.attr("type");if(void 0===r)return alert('Please add attribute "data-validation-length" to '+t[0].nodeName+" named "+t.attr("name")),!0;var o,s="file"===a&&void 0!==t.get(0).files?t.get(0).files.length:e.length,u=f.formUtils.numericRangeCheck(s,r);switch(u[0]){case"out":this.errorMessage=i.lengthBadStart+r+i.lengthBadEnd,o=!1;break;case"min":this.errorMessage=i.lengthTooShortStart+u[1]+i.lengthBadEnd,o=!1;break;case"max":this.errorMessage=i.lengthTooLongStart+u[1]+i.lengthBadEnd,o=!1;break;default:o=!0}return o},errorMessage:"",errorMessageKey:""}),f.formUtils.addValidator({name:"url",validatorFunction:function(e){if(/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)){var t=e.split("://")[1],n=t.indexOf("/");return-1<n&&(t=t.substr(0,n)),f.formUtils.validators.validate_domain.validatorFunction(t)}return!1},errorMessage:"",errorMessageKey:"badUrl"}),f.formUtils.addValidator({name:"number",validatorFunction:function(e,t,n){if(""!==e){var i,r,a=t.valAttr("allowing")||"",o=t.valAttr("decimal-separator")||n.decimalSeparator,s=!1,u=t.valAttr("step")||"",l=!1;if((t.attr("data-sanitize")||"").match(/(^|[\s])numberFormat([\s]|$)/i)){if(!window.numeral)throw new ReferenceError("The data-sanitize value numberFormat cannot be used without the numeral library. Please see Data Validation in http://www.formvalidator.net for more information.");e.length&&(e=String(numeral().unformat(e)))}if(-1===a.indexOf("number")&&(a+=",number"),-1===a.indexOf("negative")&&0===e.indexOf("-"))return!1;if(-1<a.indexOf("range")&&(i=parseFloat(a.substring(a.indexOf("[")+1,a.indexOf(";"))),r=parseFloat(a.substring(a.indexOf(";")+1,a.indexOf("]"))),s=!0),""!==u&&(l=!0),","===o){if(-1<e.indexOf("."))return!1;e=e.replace(",",".")}if(""===e.replace(/[0-9-]/g,"")&&(!s||i<=e&&e<=r)&&(!l||e%u==0))return!0;if(-1<a.indexOf("float")&&null!==e.match(new RegExp("^([0-9-]+)\\.([0-9]+)$"))&&(!s||i<=e&&e<=r)&&(!l||e%u==0))return!0}return!1},errorMessage:"",errorMessageKey:"badInt"}),f.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(e,t,n,i){var r="^([a-zA-Z0-9",a="]+)$",o=t.valAttr("allowing"),s="",u=!1;if(o){s=r+o+a;var l=o.replace(/\\/g,"");-1<l.indexOf(" ")&&(u=!0,l=l.replace(" ",""),l+=i.andSpaces||f.formUtils.LANG.andSpaces),i.badAlphaNumericAndExtraAndSpaces&&i.badAlphaNumericAndExtra?this.errorMessage=u?i.badAlphaNumericAndExtraAndSpaces+l:i.badAlphaNumericAndExtra+l+i.badAlphaNumericExtra:this.errorMessage=i.badAlphaNumeric+i.badAlphaNumericExtra+l}else s=r+a,this.errorMessage=i.badAlphaNumeric;return new RegExp(s).test(e)},errorMessage:"",errorMessageKey:""}),f.formUtils.addValidator({name:"custom",validatorFunction:function(e,t){return new RegExp(t.valAttr("regexp")).test(e)},errorMessage:"",errorMessageKey:"badCustomVal"}),f.formUtils.addValidator({name:"date",validatorFunction:function(e,t,n){var i=t.valAttr("format")||n.dateFormat||"yyyy-mm-dd",r="false"===t.valAttr("require-leading-zero");return!1!==f.formUtils.parseDate(e,i,r)},errorMessage:"",errorMessageKey:"badDate"}),f.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(e,t,n,i,r){var a=!0,o=t.attr("name"),s=f('input[type=checkbox][name^="'+o+'"]',r),u=s.filter(":checked").length,l=t.valAttr("qty");if(void 0===l){var d=t.get(0).nodeName;alert('Attribute "data-validation-qty" is missing from '+d+" named "+t.attr("name"))}var c=f.formUtils.numericRangeCheck(u,l);switch(c[0]){case"out":this.errorMessage=i.groupCheckedRangeStart+l+i.groupCheckedEnd,a=!1;break;case"min":this.errorMessage=i.groupCheckedTooFewStart+c[1]+(i.groupCheckedTooFewEnd||i.groupCheckedEnd),a=!1;break;case"max":this.errorMessage=i.groupCheckedTooManyStart+c[1]+(i.groupCheckedTooManyEnd||i.groupCheckedEnd),a=!1;break;default:a=!0}if(!a){var h=function(){s.unbind("click",h),s.filter("*[data-validation]").validateInputOnBlur(i,n,!1,"blur")};s.bind("click",h)}return a}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}function T(t,n){$t(t).forEach(function(e){return n(t[e],e)})}function w(n,i,e){var t=2<arguments.length&&e!==undefined?arguments[2]:0;return $t(n).reduce(function(e,t){return i(e,n[t],t)},t)}function Ge(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(t)):(t.forEach(function(e){e&&T(e,function(e,t){n[t]=e})}),n)}function s(e){return!!e&&"object"===(void 0===e?"undefined":Rt(e))}function N(e){return s(e)&&"[object Object]"===Vt.call(e)&&e.constructor===Object}function i(e){return e.replace(/\n\r?\s*/g,"")}function r(e,t){if(!e||!t)return"";if("function"==typeof pt.getComputedStyle){var n=pt.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}function a(e){return"string"==typeof e&&/\S/.test(e)}function n(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function o(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function d(){return gt===pt.document&&"undefined"!=typeof gt.createElement}function u(e){return s(e)&&1===e.nodeType}function t(i){return function(e,t){if(!a(e))return gt[i](null);a(t)&&(t=gt.querySelector(t));var n=u(t)?t:gt;return n[i]&&n[i](e)}}function J(e,t,n,i){var r=0<arguments.length&&e!==undefined?arguments[0]:"div",a=1<arguments.length&&t!==undefined?arguments[1]:{},o=2<arguments.length&&n!==undefined?arguments[2]:{},s=i,u=gt.createElement(r);return Object.getOwnPropertyNames(a).forEach(function(e){var t=a[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Xt.warn(Yt(Kt,e,t)),u.setAttribute(e,t)):"textContent"===e?b(u,t):u[e]=t}),Object.getOwnPropertyNames(o).forEach(function(e){u.setAttribute(e,o[e])}),s&&y(u,s),u}function b(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function Xe(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Ye(e,t){return n(t),e.classList?e.classList.contains(t):o(t).test(e.className)}function Ke(e,t){return e.classList?e.classList.add(t):Ye(e,t)||(e.className=(e.className+" "+t).trim()),e}function Qe(e,t){return e.classList?e.classList.remove(t):(n(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function Z(e,t,n){var i=Ye(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?Ke(e,t):Qe(e,t),e}function C(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})}function Je(e){var t={},n=",autoplay,controls,loop,muted,default,";if(e&&e.attributes&&0<e.attributes.length)for(var i=e.attributes,r=i.length-1;0<=r;r--){var a=i[r].name,o=i[r].value;"boolean"!=typeof e[a]&&-1===n.indexOf(","+a+",")||(o=null!==o),t[a]=o}return t}function ee(e,t){return e.getAttribute(t)}function te(e,t,n){e.setAttribute(t,n)}function ne(e,t){e.removeAttribute(t)}function f(){gt.body.focus(),gt.onselectstart=function(){return!1}}function p(){gt.onselectstart=function(){return!0}}function h(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){t[e]!==undefined&&(n[e]=t[e])}),n.height||(n.height=parseFloat(r(e,"height"))),n.width||(n.width=parseFloat(r(e,"width"))),n}}function c(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=gt.documentElement,i=gt.body,r=n.clientLeft||i.clientLeft||0,a=pt.pageXOffset||i.scrollLeft,o=t.left+a-r,s=n.clientTop||i.clientTop||0,u=pt.pageYOffset||i.scrollTop,l=t.top+u-s;return{left:Math.round(o),top:Math.round(l)}}function g(e,t){var n={},i=c(e),r=e.offsetWidth,a=e.offsetHeight,o=i.top,s=i.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-u+a)/a)),n.x=Math.max(0,Math.min(1,(l-s)/r)),n}function l(e){return s(e)&&3===e.nodeType}function _(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function m(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),u(e)||l(e)?e:"string"==typeof e&&/\S/.test(e)?gt.createTextNode(e):void 0}).filter(function(e){return e})}function y(t,e){return m(e).forEach(function(e){return t.appendChild(e)}),t}function S(e,t){return y(_(e),t)}function Ze(){return en++}function v(e){var t=e[nn];return t||(t=e[nn]=Ze()),tn[t]||(tn[t]={}),tn[t]}function k(e){var t=e[nn];return!!t&&!!Object.getOwnPropertyNames(tn[t]).length}function ie(e){var t=e[nn];if(t){delete tn[t];try{delete e[nn]}catch(n){e.removeAttribute?e.removeAttribute(nn):e[nn]=null}}}function x(e,t){var n=v(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ie(e)}function E(t,n,e,i){e.forEach(function(e){t(n,e,i)})}function A(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||pt.event;for(var r in e={},i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(e[r]=i[r]));if(e.target||(e.target=e.srcElement||gt),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&e.clientX!==undefined){var a=gt.documentElement,o=gt.body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&e.button!==undefined&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function et(s,e,t){if(Array.isArray(e))return E(et,s,e,t);var u=v(s);u.handlers||(u.handlers={}),u.handlers[e]||(u.handlers[e]=[]),t.guid||(t.guid=Ze()),u.handlers[e].push(t),u.dispatcher||(u.disabled=!1,u.dispatcher=function(e,t){if(!u.disabled){e=A(e);var n=u.handlers[e.type];if(n)for(var i=n.slice(0),r=0,a=i.length;r<a&&!e.isImmediatePropagationStopped();r++)try{i[r].call(s,e,t)}catch(o){Xt.error(o)}}}),1===u.handlers[e].length&&(s.addEventListener?s.addEventListener(e,u.dispatcher,!1):s.attachEvent&&s.attachEvent("on"+e,u.dispatcher))}function tt(t,e,n){if(k(t)){var i=v(t);if(i.handlers){if(Array.isArray(e))return E(tt,t,e,n);var r=function r(e){i.handlers[e]=[],x(t,e)};if(e){var a=i.handlers[e];if(a)if(n){if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);x(t,e)}else r(e)}else for(var s in i.handlers)r(s)}}}function O(e,t,n){var i=k(e)?v(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=A(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)O.call(null,r,t,n);else if(!r&&!t.defaultPrevented){var a=v(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function P(e,t,n){if(Array.isArray(t))return E(P,e,t,n);var i;(i=function i(){tt(e,t,i),n.apply(this,arguments)}).guid=n.guid=n.guid||Ze(),et(e,t,i)}function j(e,t){t&&(on=t),pt.setTimeout(sn,e)}function nt(e,t){var n=(1<arguments.length&&t!==undefined?arguments[1]:{}).eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=J("span",{className:"vjs-event-bus"});return Ge(e,_n),e.on("dispose",function(){return e.off()}),e}function re(e,t){return Ge(e,Cn),e.state=Ge({},e.state,t),"function"==typeof e.handleStateChanged&&fn(e)&&e.on("statechanged",e.handleStateChanged),e}function it(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function rt(e,t){return it(e)===it(t)}function at(){for(var n={},e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(function(e){e&&T(e,function(e,t){N(e)?(N(n[t])||(n[t]={}),n[t]=at(n[t],e)):n[t]=e})}),n}function M(e,t,n){if("number"!=typeof t||t<0||n<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}function D(e,t,n,i){return M(e,i,n.length-1),n[i][t]}function I(e){return e===undefined||0===e.length?{length:0,start:function t(){throw new Error("This TimeRanges object is empty")},end:function n(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:D.bind(null,"start",0,e),end:D.bind(null,"end",1,e)}}function ot(e,t){return Array.isArray(e)?I(e):e===undefined||t===undefined?I():I([[e,t]])}function st(e,t){var n=0,i=void 0,r=void 0;if(!t)return 0;e&&e.length||(e=ot(0,0));for(var a=0;a<e.length;a++)i=e.start(a),t<(r=e.end(a))&&(r=t),n+=r-i;return n/t}function ut(e){if(e instanceof ut)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:s(e)&&("number"==typeof e.code&&(this.code=e.code),Ge(this,e)),this.message||(this.message=ut.defaultMessages[this.code]||"")}function L(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(r){i=r}return[i,n]}function R(e){var t=li.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}function B(e,t,n){if(!ui(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===hi.call(e)?U(e,t,n):"string"==typeof e?F(e,t,n):H(e,t,n)}function U(e,t,n){for(var i=0,r=e.length;i<r;i++)fi.call(e,i)&&t.call(n,e[i],i,e)}function F(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e.charAt(i),i,e)}function H(e,t,n){for(var i in e)fi.call(e,i)&&t.call(n,e[i],i,e)}function V(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)yi.call(n,i)&&(e[i]=n[i])}return e}function $(e,t){for(var n=0;n<e.length;n++)t(e[n])}function q(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function z(e,t,n){var i=e;return ui(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=mi(t,{uri:e}),i.callback=n,i}function W(e,t,n){return G(t=z(e,t,n))}function G(i){function e(){4===d.readyState&&setTimeout(n,0)}function r(){var e=undefined;if(e=d.response?d.response:d.responseText||X(d),y)try{e=JSON.parse(e)}catch(t){}return e}function t(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,u(e,v)}function n(){if(!o){var e;clearTimeout(c),e=i.useXDR&&d.status===undefined?200:1223===d.status?204:d.status;var t=v,n=null;return 0!==e?(t={body:r(),statusCode:e,method:f,headers:{},url:h,rawRequest:d},d.getAllResponseHeaders&&(t.headers=gi(d.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),u(n,t,t.body)}}if("undefined"==typeof i.callback)throw new Error("callback argument missing");var a,o,s=!1,u=function l(e,t,n){s||(s=!0,i.callback(e,t,n))},d=i.xhr||null;d||(d=i.cors||i.useXDR?new W.XDomainRequest:new W.XMLHttpRequest);var c,h=d.url=i.uri||i.url,f=d.method=i.method||"GET",p=i.body||i.data,g=d.headers=i.headers||{},m=!!i.sync,y=!1,v={body:undefined,headers:{},statusCode:0,method:f,url:h,rawRequest:d};if("json"in i&&!1!==i.json&&(y=!0,g.accept||g.Accept||(g.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),p=JSON.stringify(!0===i.json?p:i.json))),d.onreadystatechange=e,d.onload=n,d.onerror=t,d.onprogress=function(){},d.onabort=function(){o=!0},d.ontimeout=t,d.open(f,h,!m,i.username,i.password),m||(d.withCredentials=!!i.withCredentials),!m&&0<i.timeout&&(c=setTimeout(function(){if(!o){o=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},i.timeout)),d.setRequestHeader)for(a in g)g.hasOwnProperty(a)&&d.setRequestHeader(a,g[a]);else if(i.headers&&!q(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(d.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(d),d.send(p||null),d}function X(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function Y(){}function K(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function Q(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function ae(){this.values=Mi(null)}function oe(e,t,n,i){var r=i?e.split(i):[e];for(var a in r)if("string"==typeof r[a]){var o=r[a].split(n);if(2===o.length)t(o[0],o[1])}}function se(t,e,o){function n(){var e=Q(t);if(null===e)throw new K(K.Errors.BadTimeStamp,"Malformed timestamp: "+a);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function i(e,t){var a=new ae;oe(e,function(e,t){switch(e){case"region":for(var n=o.length-1;0<=n;n--)if(o[n].id===t){a.set(e,o[n].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),r=i[0];a.integer(e,r),a.percent(e,r)&&a.set("snapToLines",!1),a.alt(e,r,["auto"]),2===i.length&&a.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),a.percent(e,i[0]),2===i.length&&a.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=a.get("region",null),t.vertical=a.get("vertical",""),t.line=a.get("line","auto"),t.lineAlign=a.get("lineAlign","start"),t.snapToLines=a.get("snapToLines",!0),t.size=a.get("size",100),t.align=a.get("align","middle"),t.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function r(){t=t.replace(/^\s+/,"")}var a=t;if(r(),e.startTime=n(),r(),"-->"!==t.substr(0,3))throw new K(K.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+a);t=t.substr(3),r(),e.endTime=n(),r(),i(t,e)}function ue(a,n){function e(){function e(e){return n=n.substr(e.length),e}if(!n)return null;var t=n.match(/^([^<]*)(<[^>]+>?)?/);return e(t[1]?t[1]:t[2])}function t(e){return Di[e]}function i(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],t);return e}function r(e,t){return!Ni[t.localName]||Ni[t.localName]===e.localName}function o(e,t){var n=Ii[e];if(!n)return null;var i=a.document.createElement(n);i.localName=n;var r=Li[e];return r&&t&&(i[r]=t.trim()),i}for(var s,u=a.document.createElement("div"),l=u,d=[];null!==(s=e());)if("<"!==s[0])l.appendChild(a.document.createTextNode(i(s)));else{if("/"===s[1]){d.length&&d[d.length-1]===s.substr(2).replace(">","")&&(d.pop(),l=l.parentNode);continue}var c,h=Q(s.substr(1,s.length-2));if(h){c=a.document.createProcessingInstruction("timestamp",h),l.appendChild(c);continue}var f=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(c=o(f[1],f[3])))continue;if(!r(l,c))continue;f[2]&&(c.className=f[2].substr(1).replace("."," ")),d.push(f[1]),l.appendChild(c),l=c}return u}function le(e){for(var t=0;t<Ri.length;t++){var n=Ri[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function de(e){function r(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}function a(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?i[e.length=0]:n}return"ruby"===t.tagName?a(e):t.childNodes?(r(e,t),a(e)):void 0}var t=[],n="";if(!e||!e.childNodes)return"ltr";for(r(t,e);n=a(t);)for(var i=0;i<n.length;i++)if(le(n.charCodeAt(i)))return"rtl";return"ltr"}function ce(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}function he(){}function fe(e,t,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)";i&&(r="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),he.call(this),this.cue=t,this.cueDiv=ue(e,t.text);var o={color:r,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=e.document.createElement("div"),o={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(o.direction=de(this.cueDiv),o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function pe(e){var t,n,i,r,a=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=t!==undefined?t:e.lineHeight,a&&!this.lineHeight&&(this.lineHeight=13)}function ge(e,t,s,u){function n(e,t){for(var n,i=new pe(e),r=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(s,t[a])||e.within(s)&&e.overlapsAny(u);)e.move(t[a]);if(e.within(s))return e;var o=e.intersectPercentage(s);o<r&&(n=new pe(e),r=o),e=new pe(i)}return n||i}var i=new pe(t),r=t.cue,a=ce(r),o=[];if(r.snapToLines){var l;switch(r.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var d=i.lineHeight,c=d*Math.round(a),h=s[l]+d,f=o[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/d)*d),a<0&&(c+=""===r.vertical?s.height:s.width,o=o.reverse()),i.move(f,c)}else{var p=i.lineHeight/s.height*100;switch(r.lineAlign){case"middle":a-=p/2;break;case"end":a-=p}switch(r.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],i=new pe(t)}var g=n(i,o);t.move(g.toCSSCompatValues(s))}function me(){}
function ye(e){return"string"==typeof e&&(!!$i[e.toLowerCase()]&&e.toLowerCase())}function ve(e){return"string"==typeof e&&(!!qi[e.toLowerCase()]&&e.toLowerCase())}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function _e(e,t,n){var i=this,r=/MSIE\s8\.0/.test(navigator.userAgent),a={};r?i=document.createElement("custom"):a.enumerable=!0,i.hasBeenReset=!1;var o="",s=!1,u=e,l=t,d=n,c=null,h="",f=!0,p="auto",g="start",m=50,y="middle",v=50,b="middle";if(Object.defineProperty(i,"id",be({},a,{get:function(){return o},set:function(e){o=""+e}})),Object.defineProperty(i,"pauseOnExit",be({},a,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(i,"startTime",be({},a,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",be({},a,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",be({},a,{get:function(){return d},set:function(e){d=""+e,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",be({},a,{get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",be({},a,{get:function(){return h},set:function(e){var t=ye(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",be({},a,{get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",be({},a,{get:function(){return p},set:function(e){if("number"!=typeof e&&e!==Vi)throw new SyntaxError("An invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",be({},a,{get:function(){return g},set:function(e){var t=ve(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",be({},a,{get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",be({},a,{get:function(){return y},set:function(e){var t=ve(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",be({},a,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",be({},a,{get:function(){return b},set:function(e){var t=ve(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),i.displayState=undefined,r)return i}function Te(e){return"string"==typeof e&&(!!Wi[e.toLowerCase()]&&e.toLowerCase())}function we(e){return"number"==typeof e&&0<=e&&e<=100}function Se(){var t=100,n=3,i=0,r=100,a=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!we(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!we(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!we(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!we(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!we(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t=Te(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})}function ke(e,t,n,i,r){var a=4<arguments.length&&r!==undefined?arguments[4]:{},o=e.textTracks();a.kind=t,n&&(a.label=n),i&&(a.language=i),a.tech=e;var s=new ji.text.TrackClass(a);return o.addTrack(s),s}function Ce(e,t){Ki[e]=Ki[e]||[],Ki[e].push(t)}function lt(e,t,n){e.setTimeout(function(){return Ee(t,Ki[t.type],n,e)},1)}function dt(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function ct(e,t,n){return e.reduceRight(xe(n),t[n]())}function ht(e,t,n,i){return t[n](e.reduce(xe(n),i))}function xe(n){return function(e,t){return t[n]?t[n](e):e}}function Ee(e,t,n,i,r,a){var o=0<arguments.length&&e!==undefined?arguments[0]:{},s=1<arguments.length&&t!==undefined?arguments[1]:[],u=n,l=i,d=4<arguments.length&&r!==undefined?arguments[4]:[],c=5<arguments.length&&a!==undefined&&arguments[5],h=s[0],f=s.slice(1);if("string"==typeof h)Ee(o,Ki[h],u,l,d,c);else if(h){var p=h(l);p.setSource(Ge({},o),function(e,t){if(e)return Ee(o,f,u,l,d,c);d.push(p),Ee(t,o.type===t.type?f:Ki[t.type],u,l,d,c)})}else f.length?Ee(o,f,u,l,d,c):c?u(o,d):Ee(o,Ki["*"],u,l,d,!0)}function Ae(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function Oe(e,t,n){try{e.style[t]=n}catch(i){return}}function Pe(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:e;e=e<0?0:e;var i=Math.floor(e%60),r=Math.floor(e/60%60),a=Math.floor(e/3600),o=Math.floor(n/60%60),s=Math.floor(n/3600);return(isNaN(e)||e===Infinity)&&(a=r=i="-"),(a=0<a||0<s?a+":":"")+(r=((a||10<=o)&&r<10?"0"+r:r)+":")+(i=i<10?"0"+i:i)}function je(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function Me(e,t){return je(e.options[e.options.selectedIndex].value,t)}function De(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(je(e.options[i].value,n)===t){e.selectedIndex=i;break}}function Ie(e,n,t){var i=void 0;if("string"==typeof e){var r=Ie.getPlayers();if(0===e.indexOf("#")&&(e=e.slice(1)),r[e])return n&&Xt.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&r[e].ready(t),r[e];i=Qt("#"+e)}else i=e;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(i.player||ka.players[i.playerId])return i.player||ka.players[i.playerId];n=n||{},Ie.hooks("beforesetup").forEach(function(e){var t=e(i,at(n));s(t)&&!Array.isArray(t)?n=at(n,t):Xt.error("please return an object in beforesetup hooks")});var a=new(En.getComponent("Player"))(i,n,t);return Ie.hooks("setup").forEach(function(e){return e(a)}),a}var Le,ft="6.2.0",Ne="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pt="undefined"!=typeof window?window:void 0!==Ne?Ne:"undefined"!=typeof self?self:{},Re={},Be=(Object.freeze||Object)({"default":Re}),Ue=Be&&Re||Be,Fe=void 0!==Ne?Ne:"undefined"!=typeof window?window:{};"undefined"!=typeof document?Le=document:(Le=Fe["__GLOBAL_DOCUMENT_CACHE@4"])||(Le=Fe["__GLOBAL_DOCUMENT_CACHE@4"]=Ue);var He,Ve,$e,qe,gt=Le,ze=pt.navigator&&pt.navigator.userAgent||"",We=/AppleWebKit\/([\d.]+)/i.exec(ze),mt=We?parseFloat(We.pop()):null,yt=/iPad/i.test(ze),vt=/iPhone/i.test(ze)&&!yt,bt=/iPod/i.test(ze),_t=vt||yt||bt,Tt=(He=ze.match(/OS (\d+)_/i))&&He[1]?He[1]:null,wt=/Android/i.test(ze),St=function(){var e=ze.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),kt=wt&&/webkit/i.test(ze)&&St<2.3,Ct=wt&&St<5&&mt<537,xt=/Firefox/i.test(ze),Et=/Edge/i.test(ze),At=!Et&&/Chrome/i.test(ze),Ot=(Ve=ze.match(/Chrome\/(\d+)/))&&Ve[1]?parseFloat(Ve[1]):null,Pt=/MSIE\s8\.0/.test(ze),jt=($e=/MSIE\s(\d+)\.\d/.exec(ze),!(qe=$e&&parseFloat($e[1]))&&/Trident\/7.0/i.test(ze)&&/rv:11.0/.test(ze)&&(qe=11),qe),Mt=/Safari/i.test(ze)&&!At&&!wt&&!Et,Dt=Mt||_t,It=d()&&("ontouchstart"in pt||pt.DocumentTouch&&pt.document instanceof pt.DocumentTouch),Lt=d()&&"backgroundSize"in pt.document.createElement("video").style,Nt=(Object.freeze||Object)({IS_IPAD:yt,IS_IPHONE:vt,IS_IPOD:bt,IS_IOS:_t,IOS_VERSION:Tt,IS_ANDROID:wt,ANDROID_VERSION:St,IS_OLD_ANDROID:kt,IS_NATIVE_ANDROID:Ct,IS_FIREFOX:xt,IS_EDGE:Et,IS_CHROME:At,CHROME_VERSION:Ot,IS_IE8:Pt,IE_VERSION:jt,IS_SAFARI:Mt,IS_ANY_SAFARI:Dt,TOUCH_ENABLED:It,BACKGROUND_SIZE_SUPPORTED:Lt}),Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ut=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ft=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ht=function(e,t){return e.raw=t,e},Vt=Object.prototype.toString,$t=function $t(e){return s(e)?Object.keys(e):[]},qt=void 0,zt="all",Wt=[],Gt=function Gt(e,t,n){var i=2<arguments.length&&n!==undefined?arguments[2]:!!jt&&jt<11,r=qt.levels[zt],a=new RegExp("^("+r+")$");"log"!==e&&t.unshift(e.toUpperCase()+":"),Wt&&Wt.push([].concat(t)),t.unshift("VIDEOJS:");var o=pt.console&&pt.console[e];o&&r&&a.test(e)&&(i&&(t=t.map(function(e){if(s(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),o.apply?o[Array.isArray(t)?"apply":"call"](pt.console,t):o(t))};(qt=function qt(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Gt("log",t)}).levels={all:"log|warn|error",error:"error",off:"",warn:"warn|error",DEFAULT:zt},qt.level=function(e){if("string"==typeof e){if(!qt.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');zt=e}return zt},qt.history=function(){return Wt?[].concat(Wt):[]},qt.history.clear=function(){Wt&&(Wt.length=0)},qt.history.disable=function(){null!==Wt&&(Wt.length=0,Wt=null)},qt.history.enable=function(){null===Wt&&(Wt=[])},qt.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gt("error",t)},qt.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gt("warn",t)};var Xt=qt,Yt=function Yt(e){for(var t="",n=0;n<arguments.length;n++)t+=i(e[n])+(arguments[n+1]||"");return t},Kt=Ht(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),Qt=t("querySelector"),Jt=t("querySelectorAll"),Zt=(Object.freeze||Object)({isReal:d,isEl:u,createEl:J,textContent:b,prependTo:Xe,hasClass:Ye,addClass:Ke,removeClass:Qe,toggleClass:Z,setAttributes:C,getAttributes:Je,getAttribute:ee,setAttribute:te,removeAttribute:ne,blockTextSelection:f,unblockTextSelection:p,getBoundingClientRect:h,findPosition:c,getPointerPosition:g,isTextNode:l,emptyEl:_,normalizeContent:m,appendContent:y,insertContent:S,$:Qt,$$:Jt}),en=1,tn={},nn="vdata"+(new Date).getTime(),rn=(Object.freeze||Object)({fixEvent:A,on:et,off:tt,trigger:O,one:P}),an=!1,on=void 0,sn=function sn(){if(d()){var e=gt.getElementsByTagName("video"),t=gt.getElementsByTagName("audio"),n=[];if(e&&0<e.length)for(var i=0,r=e.length;i<r;i++)n.push(e[i]);if(t&&0<t.length)for(var a=0,o=t.length;a<o;a++)n.push(t[a]);if(n&&0<n.length)for(var s=0,u=n.length;s<u;s++){var l=n[s];if(!l||!l.getAttribute){j(1);break}l.player===undefined&&null!==l.getAttribute("data-setup")&&on(l)}else an||j(1)}};d()&&"complete"===gt.readyState?an=!0:P(pt,"load",function(){an=!0});var un,ln=function ln(e){var t=gt.createElement("style");return t.className=e,t},dn=function dn(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},cn=function cn(e,t,n){var i;return t.guid||(t.guid=Ze()),(i=function i(){return t.apply(e,arguments)}).guid=n?n+"_"+t.guid:t.guid,i},hn=function hn(t,n){var i=Date.now();return function e(){var e=Date.now();n<=e-i&&(t.apply(undefined,arguments),i=e)}};(un=function un(){}).prototype.allowedEvents_={},un.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},et(this,e,t),this.addEventListener=n},un.prototype.addEventListener=un.prototype.on,un.prototype.off=function(e,t){tt(this,e,t)},un.prototype.removeEventListener=un.prototype.off,un.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},P(this,e,t),this.addEventListener=n},un.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=A(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),O(this,e)},un.prototype.dispatchEvent=un.prototype.trigger;var fn=function fn(t){return t instanceof un||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},pn=function pn(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},gn=function gn(e){if(!e.nodeName&&!fn(e))throw new Error("Invalid target; must be a DOM node or evented object.")},mn=function mn(e){if(!pn(e))throw new Error("Invalid event type; must be a non-empty string or array.")},yn=function yn(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},vn=function vn(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,i=void 0,r=void 0,a=void 0;return n?(i=e.eventBusEl_,3<=t.length&&t.shift(),r=t[0],a=t[1]):(i=t[0],r=t[1],a=t[2]),gn(i),mn(r),yn(a),{isTargetingSelf:n,target:i,type:r,listener:a=cn(e,a)}},bn=function bn(e,t,n,i){gn(e),e.nodeName?rn[t](e,n,i):e[t](n,i)},_n={on:function Tn(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,a,o=vn(this,n),s=o.isTargetingSelf,u=o.target,l=o.type,d=o.listener;(bn(u,"on",l,d),s)||((r=function r(){return e.off(u,l,d)}).guid=d.guid,(a=function a(){return e.off("dispose",r)}).guid=d.guid,bn(this,"on","dispose",r),bn(u,"on","dispose",a))},one:function wn(){for(var i=this,e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=vn(this,t),o=a.isTargetingSelf,s=a.target,u=a.type,l=a.listener;o?bn(s,"one",u,l):((r=function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.off(s,u,r),l.apply(null,t)}).guid=l.guid,bn(s,"one",u,r))},off:function Sn(e,t,n){if(!e||pn(e))tt(this.eventBusEl_,e,t);else{var i=e,r=t;gn(i),mn(r),yn(n),n=cn(this,n),this.off("dispose",n),i.nodeName?(tt(i,r,n),tt(i,"dispose",n)):fn(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function kn(e,t){return O(this.eventBusEl_,e,t)}},Cn={state:{},setState:function xn(e){var n=this;"function"==typeof e&&(e=e());var i=void 0;return T(e,function(e,t){n.state[t]!==e&&((i=i||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),i&&fn(this)&&this.trigger({changes:i,type:"statechanged"}),i}},En=function(){function d(e,t,n){if(Bt(this,d),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=at({},this.options_),t=this.options_=at(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+Ze()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),nt(this,{eventBusKey:this.el_?"el_":null}),re(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}return d.prototype.dispose=function e(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ie(this.el_),this.el_=null)},d.prototype.player=function t(){return this.player_},d.prototype.options=function n(e){return Xt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=at(this.options_,e)),this.options_},d.prototype.el=function i(){return this.el_},d.prototype.createEl=function r(e,t,n){return J(e,t,n)},d.prototype.localize=function a(e,r,t){var n=2<arguments.length&&t!==undefined?arguments[2]:e,i=this.player_.language&&this.player_.language(),a=this.player_.languages&&this.player_.languages(),o=a&&a[i],s=i&&i.split("-")[0],u=a&&a[s],l=n;return o&&o[e]?l=o[e]:u&&u[e]&&(l=u[e]),r&&(l=l.replace(/\{(\d+)\}/g,function(e,t){var n=r[t-1],i=n;return void 0===n&&(i=e),i})),l},d.prototype.contentEl=function o(){return this.contentEl_||this.el_},d.prototype.id=function s(){return this.id_},d.prototype.name=function u(){return this.name_},d.prototype.children=function l(){return this.children_},d.prototype.getChildById=function c(e){return this.childIndex_[e]},d.prototype.getChild=function h(e){if(e)return e=it(e),this.childNameIndex_[e]},d.prototype.addChild=function f(e,t,n){var i=1<arguments.length&&t!==undefined?arguments[1]:{},r=2<arguments.length&&n!==undefined?arguments[2]:this.children_.length,a=void 0,o=void 0;if("string"==typeof e){o=it(e);var s=i.componentClass||o;i.name=o;var u=d.getComponent(s);if(!u)throw new Error("Component "+s+" does not exist");if("function"!=typeof u)return null;a=new u(this.player_||this,i)}else a=e;if(this.children_.splice(r,0,a),"function"==typeof a.id&&(this.childIndex_[a.id()]=a),(o=o||a.name&&it(a.name()))&&(this.childNameIndex_[o]=a),"function"==typeof a.el&&a.el()){var l=this.contentEl().children[r]||null;this.contentEl().insertBefore(a.el(),l)}return a},d.prototype.removeChild=function p(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},d.prototype.initChildren=function g(){var r=this,i=this.options_.children;if(i){var a=this.options_,e=function e(e){var t=e.name,n=e.opts;if(a[t]!==undefined&&(n=a[t]),!1!==n){!0===n&&(n={}),n.playerOptions=r.options_.playerOptions;var i=r.addChild(t,n);i&&(r[t]=i)}},n=void 0,o=d.getComponent("Tech");(n=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(t){return!n.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t=void 0,n=void 0;return"string"==typeof e?n=i[t=e]||r.options_[t]||{}:(t=e.name,n=e),{name:t,opts:n}}).filter(function(e){var t=d.getComponent(e.opts.componentClass||it(e.name));return t&&!o.isTech(t)}).forEach(e)}},d.prototype.buildCSSClass=function m(){return""},d.prototype.ready=function y(e,t){var n=1<arguments.length&&t!==undefined&&arguments[1];e&&(this.isReady_?n?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e)))},d.prototype.triggerReady=function v(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},d.prototype.$=function b(e,t){return Qt(e,t||this.contentEl())},d.prototype.$$=function _(e,t){return Jt(e,t||this.contentEl())},d.prototype.hasClass=function T(e){return Ye(this.el_,e)},d.prototype.addClass=function w(e){Ke(this.el_,e)},d.prototype.removeClass=function S(e){Qe(this.el_,e)},d.prototype.toggleClass=function k(e,t){Z(this.el_,e,t)},d.prototype.show=function C(){this.removeClass("vjs-hidden")},d.prototype.hide=function x(){this.addClass("vjs-hidden")},d.prototype.lockShowing=function E(){this.addClass("vjs-lock-showing")},d.prototype.unlockShowing=function A(){this.removeClass("vjs-lock-showing")},d.prototype.getAttribute=function O(e){return ee(this.el_,e)},d.prototype.setAttribute=function P(e,t){te(this.el_,e,t)},d.prototype.removeAttribute=function j(e){ne(this.el_,e)},d.prototype.width=function M(e,t){return this.dimension("width",e,t)},d.prototype.height=function D(e,t){return this.dimension("height",e,t)},d.prototype.dimensions=function I(e,t){this.width(e,!0),this.height(t)},d.prototype.dimension=function L(e,t,n){if(t!==undefined)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+it(e)],10)},d.prototype.currentDimension=function N(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof pt.getComputedStyle){var n=pt.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var i="offset"+it(e);t=this.el_[i]}return t},d.prototype.currentDimensions=function R(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},d.prototype.currentWidth=function B(){return this.currentDimension("width")},d.prototype.currentHeight=function U(){return this.currentDimension("height")},d.prototype.focus=function F(){this.el_.focus()},d.prototype.blur=function H(){this.el_.blur()},d.prototype.emitTapEvents=function V(){var t=0,r=null,a=10,n=200,o=void 0;this.on("touchstart",function(e){1===e.touches.length&&(r={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),o=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)o=!1;else if(r){var t=e.touches[0].pageX-r.pageX,n=e.touches[0].pageY-r.pageY,i=Math.sqrt(t*t+n*n);a<i&&(o=!1)}});var e=function e(){o=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(r=null)===o&&((new Date).getTime()-t<n&&(e.preventDefault(),this.trigger("tap")))})},d.prototype.enableTouchActivity=function $(){if(this.player()&&this.player().reportUserActivity){var e=cn(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function n(){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},d.prototype.setTimeout=function q(e,t){e=cn(this,e);var n,i=pt.setTimeout(e,t);return(n=function n(){this.clearTimeout(i)}).guid="vjs-timeout-"+i,this.on("dispose",n),i},d.prototype.clearTimeout=function z(e){var t;return pt.clearTimeout(e),(t=function t(){}).guid="vjs-timeout-"+e,this.off("dispose",t),e},d.prototype.setInterval=function W(e,t){e=cn(this,e);var n,i=pt.setInterval(e,t);return(n=function n(){this.clearInterval(i)}).guid="vjs-interval-"+i,this.on("dispose",n),i},d.prototype.clearInterval=function G(e){var t;return pt.clearInterval(e),(t=function t(){}).guid="vjs-interval-"+e,this.off("dispose",t),e},d.prototype.requestAnimationFrame=function X(e){var t=this;if(this.supportsRaf_){e=cn(this,e);var n,i=pt.requestAnimationFrame(e);return(n=function n(){return t.cancelAnimationFrame(i)}).guid="vjs-raf-"+i,this.on("dispose",n),i}return this.setTimeout(e,1e3/60)},d.prototype.cancelAnimationFrame=function Y(e){var t;return this.supportsRaf_?(pt.cancelAnimationFrame(e),(t=function t(){}).guid="vjs-raf-"+e,this.off("dispose",t),e):this.clearTimeout(e)},d.registerComponent=function K(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=d.getComponent("Tech"),i=n&&n.isTech(t),r=d===t||d.prototype.isPrototypeOf(t.prototype);if(i||!r){var a=void 0;throw a=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+a+".")}e=it(e),d.components_||(d.components_={});var o=d.getComponent("Player");if("Player"===e&&o&&o.players){var s=o.players,u=Object.keys(s);if(s&&0<u.length&&u.map(function(e){return s[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return d.components_[e]=t},d.getComponent=function Q(e){if(e)return e=it(e),d.components_&&d.components_[e]?d.components_[e]:void 0},d}();En.prototype.supportsRaf_="function"==typeof pt.requestAnimationFrame&&"function"==typeof pt.cancelAnimationFrame,En.registerComponent("Component",En);for(var An={},On=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Pn=On[0],jn=void 0,Mn=0;Mn<On.length;Mn++)if(On[Mn][1]in gt){jn=On[Mn];break}if(jn)for(var Dn=0;Dn<jn.length;Dn++)An[Pn[Dn]]=jn[Dn];ut.prototype.code=0,ut.prototype.message="",ut.prototype.status=null,ut.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ut.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var In=0;In<ut.errorTypes.length;In++)ut[ut.errorTypes[In]]=In,ut.prototype[ut.errorTypes[In]]=In;var Ln,Nn=L,Rn={textTracksToJson:function Bn(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Ln(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(Ln))},jsonToTextTracks:function Un(e,n){return e.forEach(function(e){var t=n.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),n.textTracks()},trackToJson_:Ln=function Ln(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t){return n[t]&&(e[t]=n[t]),e},{cues:n.cues&&Array.prototype.map.call(n.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}},Fn="vjs-modal-dialog",Hn=27,Vn=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=J("div",{className:Fn+"-content"},{role:"document"}),n.descEl_=J("p",{className:Fn+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),b(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}return Ut(r,i),r.prototype.createEl=function e(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.prototype.buildCSSClass=function t(){return Fn+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},r.prototype.handleKeyPress=function n(e){e.which===Hn&&this.closeable()&&this.close()},r.prototype.label=function a(){return this.localize(this.options_.label||"Modal Window")},r.prototype.description=function o(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},r.prototype.open=function s(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",cn(this,this.handleKeyPress)),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.prototype.opened=function u(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},r.prototype.close=function l(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",cn(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.prototype.closeable=function d(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},r.prototype.fill=function c(){this.fillWith(this.content())},r.prototype.fillWith=function h(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),S(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},r.prototype.empty=function f(){this.trigger("beforemodalempty"),_(this.contentEl()),this.trigger("modalempty")},r.prototype.content=function p(e){return void 0!==e&&(this.content_=e),this.content_},r.prototype.conditionalFocus_=function g(){var e=gt.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(gt,"keydown",this.handleKeyDown))},r.prototype.conditionalBlur_=function m(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(gt,"keydown",this.handleKeyDown)},r.prototype.handleKeyDown=function y(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,r=0;r<t.length;r++)if(n===t[r]){i=r;break}gt.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}},r.prototype.focusableEls_=function v(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof pt.HTMLAnchorElement||e instanceof pt.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof pt.HTMLInputElement||e instanceof pt.HTMLSelectElement||e instanceof pt.HTMLTextAreaElement||e instanceof pt.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof pt.HTMLIFrameElement||e instanceof pt.HTMLObjectElement||e instanceof pt.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},r}(En);Vn.prototype.options_={pauseOnOpen:!0,temporary:!0},En.registerComponent("ModalDialog",Vn);var $n=function(u){function l(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:[],i=1<arguments.length&&t!==undefined?arguments[1]:null;Bt(this,l);var r=Ft(this,u.call(this));if(!i&&(i=r,Pt))for(var a in i=gt.createElement("custom"),l.prototype)"constructor"!==a&&(i[a]=l.prototype[a]);i.tracks_=[],Object.defineProperty(i,"length",{get:function o(){return this.tracks_.length}});for(var s=0;s<n.length;s++)i.addTrack(n[s]);return Ft(r,i)}return Ut(l,u),l.prototype.addTrack=function e(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function n(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},l.prototype.removeTrack=function t(e){for(var t=void 0,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},l.prototype.getTrackById=function n(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},l}(un);for(
var qn in $n.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},$n.prototype.allowedEvents_)$n.prototype["on"+qn]=null;var zn=function zn(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},Wn=function(s){function u(e){var t,n=0<arguments.length&&e!==undefined?arguments[0]:[];Bt(this,u);for(var i=void 0,r=n.length-1;0<=r;r--)if(n[r].enabled){zn(n,n[r]);break}if(Pt){for(var a in i=gt.createElement("custom"),$n.prototype)"constructor"!==a&&(i[a]=$n.prototype[a]);for(var o in u.prototype)"constructor"!==o&&(i[o]=u.prototype[o])}return(i=t=Ft(this,s.call(this,n,i))).changing_=!1,Ft(t,i)}return Ut(u,s),u.prototype.addTrack=function e(e){var t=this;e.enabled&&zn(this,e),s.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){t.changing_||(t.changing_=!0,zn(t,e),t.changing_=!1,t.trigger("change"))})},u}($n),Gn=function zn(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},Xn=function(l){function d(e){var t,n=0<arguments.length&&e!==undefined?arguments[0]:[];Bt(this,d);for(var i=void 0,r=n.length-1;0<=r;r--)if(n[r].selected){Gn(n,n[r]);break}if(Pt){for(var a in i=gt.createElement("custom"),$n.prototype)"constructor"!==a&&(i[a]=$n.prototype[a]);for(var o in d.prototype)"constructor"!==o&&(i[o]=d.prototype[o])}return(i=t=Ft(this,l.call(this,n,i))).changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function s(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function u(){}}),Ft(t,i)}return Ut(d,l),d.prototype.addTrack=function e(e){var t=this;e.selected&&Gn(this,e),l.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){t.changing_||(t.changing_=!0,Gn(t,e),t.changing_=!1,t.trigger("change"))})},d}($n),Yn=function(o){function s(e){var t,n=0<arguments.length&&e!==undefined?arguments[0]:[];Bt(this,s);var i=void 0;if(Pt){for(var r in i=gt.createElement("custom"),$n.prototype)"constructor"!==r&&(i[r]=$n.prototype[r]);for(var a in s.prototype)"constructor"!==a&&(i[a]=s.prototype[a])}return t=Ft(this,o.call(this,n,i)),Ft(i=t,i)}return Ut(s,o),s.prototype.addTrack=function e(e){o.prototype.addTrack.call(this,e),e.addEventListener("modechange",cn(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",cn(this,function(){this.trigger("selectedlanguagechange")}))},s}($n),Kn=function(){function s(e){var t=0<arguments.length&&e!==undefined?arguments[0]:[];Bt(this,s);var n=this;if(Pt)for(var i in n=gt.createElement("custom"),s.prototype)"constructor"!==i&&(n[i]=s.prototype[i]);n.trackElements_=[],Object.defineProperty(n,"length",{get:function r(){return this.trackElements_.length}});for(var a=0,o=t.length;a<o;a++)n.addTrackElement_(t[a]);if(Pt)return n}return s.prototype.addTrackElement_=function e(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function n(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},s.prototype.getTrackElementByTrack_=function t(e){for(var t=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},s.prototype.removeTrackElement_=function n(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},s}(),Qn=function(){function r(e){Bt(this,r);var t=this;if(Pt)for(var n in t=gt.createElement("custom"),r.prototype)"constructor"!==n&&(t[n]=r.prototype[n]);if(r.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function i(){return this.length_}}),Pt)return t}return r.prototype.setCues_=function e(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var r=function r(e){""+e in this||Object.defineProperty(this,""+e,{get:function t(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)},r.prototype.getCueById=function t(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},r}(),Jn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Zn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ei={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ti={disabled:"disabled",hidden:"hidden",showing:"showing"},ni=function(u){function l(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{};Bt(this,l);var n=Ft(this,u.call(this)),i=n;if(Pt)for(var r in i=gt.createElement("custom"),l.prototype)"constructor"!==r&&(i[r]=l.prototype[r]);var a={id:t.id||"vjs_track_"+Ze(),kind:t.kind||"",label:t.label||"",language:t.language||""},o=function o(e){Object.defineProperty(i,e,{get:function t(){return a[e]},set:function n(){}})};for(var s in a)o(s);return Ft(n,i)}return Ut(l,u),l}(un),ii=function ii(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=gt.createElement("a");n.href=e;var i=""===n.host&&"file:"!==n.protocol,r=void 0;i&&((r=gt.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),gt.body.appendChild(r));for(var a={},o=0;o<t.length;o++)a[t[o]]=n[t[o]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),i&&gt.body.removeChild(r),a},ri=function ri(e){if(!e.match(/^https?:\/\//)){var t=gt.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},ai=function ai(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},oi=function oi(e){var t=pt.location,n=ii(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},si=(Object.freeze||Object)({parseUrl:ii,getAbsoluteURL:ri,getFileExtension:ai,isCrossOrigin:oi}),ui=R,li=Object.prototype.toString,di=e(function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}(t=e.exports=n).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),ci=B,hi=Object.prototype.toString,fi=Object.prototype.hasOwnProperty,pi=function(e){return"[object Array]"===Object.prototype.toString.call(e)},gi=function(e){if(!e)return{};var r={};return ci(di(e).split("\n"),function(e){var t=e.indexOf(":"),n=di(e.slice(0,t)).toLowerCase(),i=di(e.slice(t+1));"undefined"==typeof r[n]?r[n]=i:pi(r[n])?r[n].push(i):r[n]=[r[n],i]}),r},mi=V,yi=Object.prototype.hasOwnProperty,vi=W;W.XMLHttpRequest=pt.XMLHttpRequest||Y,W.XDomainRequest="withCredentials"in new W.XMLHttpRequest?W.XMLHttpRequest:pt.XDomainRequest,$(["get","put","post","patch","head","delete"],function(i){W["delete"===i?"del":i]=function(e,t,n){return(t=z(e,t,n)).method=i.toUpperCase(),G(t)}});var bi=function bi(e,t){var n=new pt.WebVTT.Parser(pt,pt.vttjs,pt.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<i.length&&(pt.console&&pt.console.groupCollapsed&&pt.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return Xt.error(e)}),pt.console&&pt.console.groupEnd&&pt.console.groupEnd()),n.flush()},_i=function _i(e,r){var t={uri:e},n=oi(e);n&&(t.cors=n),vi(t,cn(this,function(e,t,n){if(e)return Xt.error(e,t);if(r.loaded_=!0,"function"!=typeof pt.WebVTT){if(r.tech_){var i=function i(){return bi(n,r)};r.tech_.on("vttjsloaded",i),r.tech_.on("vttjserror",function(){Xt.error("vttjs failed to load, stopping trying to process "+r.src),r.tech_.off("vttjsloaded",i)})}}else bi(n,r)}))},Ti=function(p){function g(e){var t,n=0<arguments.length&&e!==undefined?arguments[0]:{};if(Bt(this,g),!n.tech)throw new Error("A tech was not provided.");var i=at(n,{kind:ei[n.kind]||"subtitles",language:n.language||n.srclang||""}),r=ti[i.mode]||"disabled",a=i["default"];"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden");var o=t=Ft(this,p.call(this,i));if(o.tech_=i.tech,Pt)for(var s in g.prototype)"constructor"!==s&&(o[s]=g.prototype[s]);o.cues_=[],o.activeCues_=[];var u=new Qn(o.cues_),l=new Qn(o.activeCues_),d=!1,c=cn(o,function(){this.activeCues,d&&(this.trigger("cuechange"),d=!1)});return"disabled"!==r&&o.tech_.ready(function(){o.tech_.on("timeupdate",c)},!0),Object.defineProperty(o,"default",{get:function h(){return a},set:function f(){}}),Object.defineProperty(o,"mode",{get:function h(){return r},set:function f(e){var t=this;ti[e]&&("showing"===(r=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",c)},!0),this.trigger("modechange"))}}),Object.defineProperty(o,"cues",{get:function h(){return this.loaded_?u:null},set:function f(){}}),Object.defineProperty(o,"activeCues",{get:function h(){if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=e&&r.endTime>=e?t.push(r):r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e&&t.push(r)}if(d=!1,t.length!==this.activeCues_.length)d=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(d=!0);return this.activeCues_=t,l.setCues_(this.activeCues_),l},set:function f(){}}),i.src?(o.src=i.src,_i(i.src,o)):o.loaded_=!0,Ft(t,o)}return Ut(g,p),g.prototype.addCue=function e(e){var t=e;if(pt.vttjs&&!(e instanceof pt.vttjs.VTTCue)){for(var n in t=new pt.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},g.prototype.removeCue=function t(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},g}(ni);Ti.prototype.allowedEvents_={cuechange:"cuechange"};var wi=function(l){function d(e){var t,n=0<arguments.length&&e!==undefined?arguments[0]:{};Bt(this,d);var i=at(n,{kind:Zn[n.kind]||""}),r=t=Ft(this,l.call(this,i)),a=!1;if(Pt)for(var o in d.prototype)"constructor"!==o&&(r[o]=d.prototype[o]);return Object.defineProperty(r,"enabled",{get:function s(){return a},set:function u(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),i.enabled&&(r.enabled=i.enabled),r.loaded_=!0,Ft(t,r)}return Ut(d,l),d}(ni),Si=function(l){function d(e){var t,n=0<arguments.length&&e!==undefined?arguments[0]:{};Bt(this,d);var i=at(n,{kind:Jn[n.kind]||""}),r=t=Ft(this,l.call(this,i)),a=!1;if(Pt)for(var o in d.prototype)"constructor"!==o&&(r[o]=d.prototype[o]);return Object.defineProperty(r,"selected",{get:function s(){return a},set:function u(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),i.selected&&(r.selected=i.selected),Ft(t,r)}return Ut(d,l),d}(ni),ki=0,Ci=1,xi=2,Ei=3,Ai=function(u){function l(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{};Bt(this,l);var n=Ft(this,u.call(this)),i=void 0,r=n;if(Pt)for(var a in r=gt.createElement("custom"),l.prototype)"constructor"!==a&&(r[a]=l.prototype[a]);var o=new Ti(t);return r.kind=o.kind,r.src=o.src,r.srclang=o.language,r.label=o.label,r["default"]=o["default"],Object.defineProperty(r,"readyState",{get:function s(){return i}}),Object.defineProperty(r,"track",{get:function s(){return o}}),i=ki,o.addEventListener("loadeddata",function(){i=xi,r.trigger({type:"load",target:r})}),Pt?Ft(n,r):n}return Ut(l,u),l}(un);Ai.prototype.allowedEvents_={load:"load"},Ai.NONE=ki,Ai.LOADING=Ci,Ai.LOADED=xi,Ai.ERROR=Ei;var Oi={audio:{ListClass:Wn,TrackClass:wi,capitalName:"Audio"},video:{ListClass:Xn,TrackClass:Si,capitalName:"Video"},text:{ListClass:Yn,TrackClass:Ti,capitalName:"Text"}};Object.keys(Oi).forEach(function(e){Oi[e].getterName=e+"Tracks",Oi[e].privateName=e+"Tracks_"});var Pi={remoteText:{ListClass:Yn,TrackClass:Ti,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Kn,TrackClass:Ai,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ji=at(Oi,Pi);Pi.names=Object.keys(Pi),Oi.names=Object.keys(Oi),ji.names=[].concat(Pi.names).concat(Oi.names);var Mi=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();K.prototype=Mi(Error.prototype),(K.prototype.constructor=K).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ae.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var Di={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},Ii={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Li={v:"title",lang:"lang"},Ni={rt:"ruby"},Ri=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];he.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},he.prototype.formatStyle=function(e,t){return 0===e?0:e+t},fe.prototype=Mi(he.prototype),fe.prototype.constructor=fe,pe.prototype.move=function(e,t){switch(t=t!==undefined?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},pe.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},pe.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},pe.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},pe.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},pe.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},pe.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},pe.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},me.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},me.convertCueToDOMTree=function(e,t){return e&&t?ue(e,t):null};var Bi=.05,Ui="sans-serif",Fi="1.5%";me.processCues=function(i,r,e){function t(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!i||!r||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var a=i.document.createElement("div");if(a.style.position="absolute",a.style.left="0",a.style.right="0",a.style.top="0",a.style.bottom="0",a.style.margin=Fi,e.appendChild(a),t(r)){var o=[],s=pe.getSimpleBoxPosition(a),u={font:Math.round(s.height*Bi*100)/100+"px "+Ui};!function(){for(var e,t,n=0;n<r.length;n++)t=r[n],e=new fe(i,t,u),a.appendChild(e.div),ge(i,e,s,o),t.displayState=e.div,o.push(pe.getSimpleBoxPosition(e))}()}else for(var n=0;n<r.length;n++)a.appendChild(r[n].displayState)},me.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},me.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof K))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=a.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,a.buffer=e.substr(t),n}function n(e){var r=new ae;if(oe(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new ae;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")){var t=new(a.vttjs.VTTRegion||a.window.VTTRegion);t.width=r.get("width",100),t.lines=r.get("lines",3),t.regionAnchorX=r.get("regionanchorX",0),t.regionAnchorY=r.get("regionanchorY",100),t.viewportAnchorX=r.get("viewportanchorX",0),t.viewportAnchorY=r.get("viewportanchorY",100),t.scroll=r.get("scroll",""),a.onregion&&a.onregion(t),a.regionList.push({id:r.get("id"),region:t})}}function i(e){var n=new ae;oe(e,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",Q(t))}},/[^\d]:/,/,/),a.ontimestampmap&&a.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}function r(e){e.match(/X-TIMESTAMP-MAP/)?oe(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":i(t)}},/=/):oe(e,function(e,t){switch(e){case"Region":n(t)}},/:/)}var a=this;e&&(a.buffer+=a.decoder.decode(e,{stream:!0}));try{var o;if("INITIAL"===a.state){if(!/\r\n|\n/.test(a.buffer))return this;var s=(o=t()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new K(K.Errors.BadSignature);a.state="HEADER"}for(var u=!1;a.buffer;){if(!/\r\n|\n/.test(a.buffer))return this;switch(u?u=!1:o=t(),a.state){case"HEADER":/:/.test(o)?r(o):o||(a.state="ID");continue;case"NOTE":o||(a.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){a.state="NOTE";break}if(!o)continue;if(a.cue=new(a.vttjs.VTTCue||a.window.VTTCue)(0,0,""),a.state="CUE",-1===o.indexOf("-->")){a.cue.id=o;continue}case"CUE":try{se(o,a.cue,a.regionList)}catch(d){a.reportOrThrowError(d),a.cue=null,a.state="BADCUE";continue}a.state="CUETEXT";continue;case"CUETEXT":var l=-1!==o.indexOf("-->");if(!o||l&&(u=!0)){a.oncue&&a.oncue(a.cue),a.cue=null,a.state="ID";continue}a.cue.text&&(a.cue.text+="\n"),a.cue.text+=o;continue;case"BADCUE":o||(a.state="ID");continue}}}catch(d){a.reportOrThrowError(d),"CUETEXT"===a.state&&a.cue&&a.oncue&&a.oncue(a.cue),a.cue=null,a.state="INITIAL"===a.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new K(K.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var Hi=me,Vi="auto",$i={"":!0,lr:!0,rl:!0},qi={start:!0,middle:!0,end:!0,left:!0,right:!0};_e.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var zi=_e,Wi={"":!0,up:!0},Gi=Se,Xi=e(function(e){var t=e.exports={WebVTT:Hi,VTTCue:zi,VTTRegion:Gi};pt.vttjs=t,pt.WebVTT=t.WebVTT;var n=t.VTTCue,i=t.VTTRegion,r=pt.VTTCue,a=pt.VTTRegion;t.shim=function(){pt.VTTCue=n,pt.VTTRegion=i},t.restore=function(){pt.VTTCue=r,pt.VTTRegion=a},pt.VTTCue||t.shim()}),Yi=function(a){function o(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},i=1<arguments.length&&t!==undefined?arguments[1]:function(){};Bt(this,o),n.reportTouchActivity=!1;var r=Ft(this,a.call(this,null,n,i));return r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),ji.names.forEach(function(e){var t=ji[e];n&&n[t.getterName]&&(r[t.privateName]=n[t.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===n["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new ji.text.ListClass,r.initTrackListeners(),n.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return Ut(o,a),o.prototype.manualProgressOn=function e(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.prototype.manualProgressOff=function t(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.prototype.trackProgress=function n(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(cn(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},o.prototype.onDurationChange=function i(){this.duration_=this.duration()},o.prototype.buffered=function r(){return ot(0,0)},o.prototype.bufferedPercent=function s(){return st(this.buffered(),this.duration_)},o.prototype.stopTrackingProgress=function u(){this.clearInterval(this.progressInterval)},o.prototype.manualTimeUpdatesOn=function l(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.prototype.manualTimeUpdatesOff=function d(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.prototype.trackCurrentTime=function c(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},o.prototype.stopTrackingCurrentTime=function h(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.prototype.dispose=function f(){this.clearTracks(Oi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),a.prototype.dispose.call(this)},o.prototype.clearTracks=function p(e){var r=this;(e=[].concat(e)).forEach(function(e){for(var t=r[e+"Tracks"]()||[],n=t.length;n--;){var i=t[n];"text"===e&&r.removeRemoteTextTrack(i),t.removeTrack(i)}})},o.prototype.cleanupAutoTextTracks=function g(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},o.prototype.reset=function m(){},o.prototype.error=function y(e){return e!==undefined&&(this.error_=new ut(e),this.trigger("error")),this.error_},o.prototype.played=function v(){return this.hasStarted_?ot(0,0):ot()},o.prototype.setCurrentTime=function b(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.prototype.initTrackListeners=function _(){var r=this;Oi.names.forEach(function(e){var t=Oi[e],n=function n(){r.trigger(e+"trackchange")},i=r[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),r.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},o.prototype.addWebVttScript_=function T(){var e=this;if(!pt.WebVTT)if(gt.body.contains(this.el())){if(!this.options_["vtt.js"]&&N(Xi)&&0<Object.keys(Xi).length)return void this.trigger("vttjsloaded");var t=gt.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),pt.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},o.prototype.emulateTextTracks=function w(){var e=this,n=this.textTracks(),t=this.remoteTextTracks(),i=function i(e){return n.addTrack(e.track)},r=function r(e){return n.removeTrack(e.track)};t.on("addtrack",i),t.on("removetrack",r),this.addWebVttScript_();var a,o=function o(){return e.trigger("texttrackchange")};(a=function a(){o();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",o),"showing"===t.mode&&t.addEventListener("cuechange",o)}})(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){t.off("addtrack",i),t.off("removetrack",r),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++){n[e].removeEventListener("cuechange",o)}})},o.prototype.addTextTrack=function S(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return ke(this,e,t,n)},o.prototype.createRemoteTextTrack=function k(e){var t=at(e,{tech:this});return new Pi.remoteTextEl.TrackClass(t)},o.prototype.addRemoteTextTrack=function C(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},i=t,r=this.createRemoteTextTrack(n);return!0!==i&&!1!==i&&(Xt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),i=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==i&&this.autoRemoteTextTracks_.addTrack(r.track),r},o.prototype.removeRemoteTextTrack=function x(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},o.prototype.getVideoPlaybackQuality=function E(){return{}},o.prototype.setPoster=function A(){},o.prototype.playsinline=function O(){},o.prototype.setPlaysinline=function P(){},o.prototype.canPlayType=function j(){return""},o.canPlayType=function j(){return""},o.canPlaySource=function M(e){return o.canPlayType(e.type)},o.isTech=function D(e){return e.prototype instanceof o||e instanceof o||e===o},o.registerTech=function I(e,t){if(o.techs_||(o.techs_={}),!o.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!o.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!o.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=it(e),o.techs_[e]=t,"Tech"!==e&&o.defaultTechOrder_.push(e),t},o.getTech=function L(e){if(e)return e=it(e),o.techs_&&o.techs_[e]?o.techs_[e]:pt&&pt.videojs&&pt.videojs[e]?(Xt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),pt.videojs[e]):void 0},o}(En);ji.names.forEach(function(e){var t=ji[e];Yi.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Yi.prototype.featuresVolumeControl=!0,Yi.prototype.featuresFullscreenResize=!1,Yi.prototype.featuresPlaybackRate=!1,Yi.prototype.featuresProgressEvents=!1,Yi.prototype.featuresTimeupdateEvents=!1,Yi.prototype.featuresNativeTextTracks=!1,Yi.withSourceHandlers=function(r){r.registerSourceHandler=function(e,t){var n=r.sourceHandlers;n||(n=r.sourceHandlers=[]),t===undefined&&(t=n.length),n.splice(t,0,e)},r.canPlayType=function(e){for(var t=r.sourceHandlers||[],n=void 0,i=0;i<t.length;i++)if(n=t[i].canPlayType(e))return n;return""},r.selectSourceHandler=function(e,t){for(var n=r.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(e,t))return n[i];return null},r.canPlaySource=function(e,t){var n=r.selectSourceHandler(e,t);return n?n.canHandleSource(e,t):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){var t=r.selectSourceHandler(e,this.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:Xt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==r.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},En.registerComponent("Tech",Yi),Yi.registerTech("Tech",Yi),Yi.defaultTechOrder_=[];var Ki={},Qi={buffered:1,currentTime:1,duration:1,seekable:1,played:1},Ji={setCurrentTime:1},Zi=function Zi(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){e=Zi(e),Array.isArray(e)?t=t.concat(e):s(e)&&t.push(e)}),e=t}else e="string"==typeof e&&e.trim()?[{src:e}]:s(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[e]:[];return e},er=function(l){function d(e,t,n){Bt(this,d);var i=at({createEl:!1},t),r=Ft(this,l.call(this,e,i,n));if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var a=0,o=t.playerOptions.techOrder;a<o.length;a++){var s=it(o[a]),u=Yi.getTech(s);if(s||(u=En.getComponent(s)),u&&u.isSupported()){e.loadTech_(s);break}}return r}return Ut(d,l),d}(En);En.registerComponent("MediaLoader",er);var tr=function(s){function i(e,t){Bt(this,i);var n=Ft(this,s.call(this,e,t));return n.emitTapEvents(),n.enable(),n}return Ut(i,s),i.prototype.createEl=function e(e,t,n){var i=0<arguments.length&&e!==undefined?arguments[0]:"div",r=1<arguments.length&&t!==undefined?arguments[1]:{},a=2<arguments.length&&n!==undefined?arguments[2]:{};r=Ge({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),"button"===i&&Xt.error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead."),a=Ge({role:"button","aria-live":"polite"},a),this.tabIndex_=r.tabIndex;var o=s.prototype.createEl.call(this,i,r,a);return this.createControlTextEl(o),o},i.prototype.createControlTextEl=function t(e){return this.controlTextEl_=J("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.prototype.controlText=function n(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,this.controlTextEl_.innerHTML=i,this.nonIconControl||n.setAttribute("title",i)},i.prototype.buildCSSClass=function r(){return"vjs-control vjs-button "+s.prototype.buildCSSClass.call(this)},i.prototype.enable=function a(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],
this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},i.prototype.disable=function o(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},i.prototype.handleClick=function u(){},i.prototype.handleFocus=function l(){et(gt,"keydown",cn(this,this.handleKeyPress))},i.prototype.handleKeyPress=function d(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):s.prototype.handleKeyPress&&s.prototype.handleKeyPress.call(this,e)},i.prototype.handleBlur=function c(){tt(gt,"keydown",cn(this,this.handleKeyPress))},i}(En);En.registerComponent("ClickableComponent",tr);var nr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.update(),e.on("posterchange",cn(n,n.update)),n}return Ut(r,i),r.prototype.dispose=function e(){this.player().off("posterchange",this.update),i.prototype.dispose.call(this)},r.prototype.createEl=function t(){var e=J("div",{className:"vjs-poster",tabIndex:-1});return Lt||(this.fallbackImg_=J("img"),e.appendChild(this.fallbackImg_)),e},r.prototype.update=function n(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},r.prototype.setSrc=function a(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},r.prototype.handleClick=function o(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},r}(tr);En.registerComponent("PosterImage",nr);var ir="#222",rr="#ccc",ar={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},or=function(r){function a(n,e,t){Bt(this,a);var i=Ft(this,r.call(this,n,e,t));return n.on("loadstart",cn(i,i.toggleDisplay)),n.on("texttrackchange",cn(i,i.updateDisplay)),n.on("loadstart",cn(i,i.preselectTrack)),n.ready(cn(i,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",cn(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),i}return Ut(a,r),a.prototype.preselectTrack=function e(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,r=void 0,a=void 0,o=0;o<t.length;o++){var s=t[o];n&&n.enabled&&n.language===s.language?s.kind===n.kind?a=s:a||(a=s):n&&!n.enabled?r=i=a=null:s["default"]&&("descriptions"!==s.kind||i?s.kind in e&&!r&&(r=s):i=s)}a?a.mode="showing":r?r.mode="showing":i&&(i.mode="showing")},a.prototype.toggleDisplay=function t(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},a.prototype.createEl=function n(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},a.prototype.clearDisplay=function i(){"function"==typeof pt.WebVTT&&pt.WebVTT.processCues(pt,[],this.el_)},a.prototype.updateDisplay=function o(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,i=e.length;i--;){var r=e[i];"showing"===r.mode&&("descriptions"===r.kind?t=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},a.prototype.updateForTrack=function s(e){if("function"==typeof pt.WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],i=0;i<e.activeCues.length;i++)n.push(e.activeCues[i]);pt.WebVTT.processCues(pt,n,this.el_);for(var r=n.length;r--;){var a=n[r];if(a){var o=a.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&Oe(o.firstChild,"color",Ae(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Oe(o.firstChild,"backgroundColor",Ae(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Oe(o,"backgroundColor",Ae(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+ir+", 2px 2px 4px "+ir+", 2px 2px 5px "+ir:"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+ir+", 2px 2px "+ir+", 3px 3px "+ir:"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+rr+", 0 1px "+rr+", -1px -1px "+ir+", 0 -1px "+ir:"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+ir+", 0 0 4px "+ir+", 0 0 4px "+ir+", 0 0 4px "+ir)),t.fontPercent&&1!==t.fontPercent){var s=pt.parseFloat(o.style.fontSize);o.style.fontSize=s*t.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=ar[t.fontFamily])}}}},a}(En);En.registerComponent("TextTrackDisplay",or);var sr=function(e){function t(){return Bt(this,t),Ft(this,e.apply(this,arguments))}return Ut(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(En);En.registerComponent("LoadingSpinner",sr);var ur=function(t){function e(){return Bt(this,e),Ft(this,t.apply(this,arguments))}return Ut(e,t),e.prototype.createEl=function n(e,t,n){var i=1<arguments.length&&t!==undefined?arguments[1]:{},r=2<arguments.length&&n!==undefined?arguments[2]:{};e="button",i=Ge({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},i),r=Ge({type:"button","aria-live":"polite"},r);var a=En.prototype.createEl.call(this,e,i,r);return this.createControlTextEl(a),a},e.prototype.addChild=function i(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},i=this.constructor.name;return Xt.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),En.prototype.addChild.call(this,e,n)},e.prototype.enable=function r(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function a(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function o(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(tr);En.registerComponent("Button",ur);var lr=function(e){function t(){return Bt(this,t),Ft(this,e.apply(this,arguments))}return Ut(t,e),t.prototype.buildCSSClass=function n(){return"vjs-big-play-button"},t.prototype.handleClick=function i(){var e=this.player_.play(),t=this.player_.getChild("controlBar"),n=t&&t.getChild("playToggle");n?e?e.then(function(){return n.focus()}):this.setTimeout(function(){n.focus()},1):this.player_.focus()},t}(ur);lr.prototype.controlText_="Play Video",En.registerComponent("BigPlayButton",lr);var dr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("Close")),n}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function t(){this.trigger({type:"close",bubbles:!1})},r}(ur);En.registerComponent("CloseButton",dr);var cr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),n.on(e,"ended",n.handleEnded),n}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-play-control "+i.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function t(){this.player_.paused()?this.player_.play():this.player_.pause()},r.prototype.handlePlay=function n(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.prototype.handlePause=function a(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.prototype.handleEnded=function o(){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay")},r}(ur);cr.prototype.controlText_="Play",En.registerComponent("PlayToggle",cr);var hr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.on(e,"timeupdate",n.updateContent),n}return Ut(r,i),r.prototype.createEl=function e(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=J("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.prototype.updateContent=function t(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=this.localize("Current Time"),n=Pe(e,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n)},r}(En);En.registerComponent("CurrentTimeDisplay",hr);var fr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.on(e,"durationchange",n.updateContent),n.on(e,"timeupdate",n.updateContent),n.on(e,"loadedmetadata",n.updateContent),n}return Ut(r,i),r.prototype.createEl=function e(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=J("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.prototype.updateContent=function t(){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var t=this.localize("Duration Time"),n=Pe(e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n}},r}(En);En.registerComponent("DurationDisplay",fr);var pr=function(e){function t(){return Bt(this,t),Ft(this,e.apply(this,arguments))}return Ut(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(En);En.registerComponent("TimeDivider",pr);var gr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.on(e,"timeupdate",n.updateContent),n.on(e,"durationchange",n.updateContent),n}return Ut(r,i),r.prototype.createEl=function e(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=J("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.prototype.updateContent=function t(){if(this.player_.duration()){var e=this.localize("Remaining Time"),t=Pe(this.player_.remainingTime());t!==this.formattedTime_&&(this.formattedTime_=t,this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> -"+t)}},r}(En);En.registerComponent("RemainingTimeDisplay",gr);var mr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}return Ut(r,i),r.prototype.createEl=function e(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=J("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.prototype.updateShowing=function t(){this.player().duration()===Infinity?this.show():this.hide()},r}(En);En.registerComponent("LiveDisplay",mr);var yr=function(a){function i(e,t){Bt(this,i);var n=Ft(this,a.call(this,e,t));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on("focus",n.handleFocus),n.on("blur",n.handleBlur),n.on("click",n.handleClick),n.on(e,"controlsvisible",n.update),n.playerEvent&&n.on(e,n.playerEvent,n.update),n}return Ut(i,a),i.prototype.createEl=function e(e,t,n){var i=1<arguments.length&&t!==undefined?arguments[1]:{},r=2<arguments.length&&n!==undefined?arguments[2]:{};return i.className=i.className+" vjs-slider",i=Ge({tabIndex:0},i),r=Ge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),a.prototype.createEl.call(this,e,i,r)},i.prototype.handleMouseDown=function t(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),f(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},i.prototype.handleMouseMove=function n(){},i.prototype.handleMouseUp=function r(){var e=this.bar.el_.ownerDocument;p(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},i.prototype.update=function o(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===Infinity)&&(e=0);var n=(100*e).toFixed(2)+"%",i=t.el().style;return this.vertical()?i.height=n:i.width=n,e}}},i.prototype.calculateDistance=function s(e){var t=g(this.el_,e);return this.vertical()?t.y:t.x},i.prototype.handleFocus=function u(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},i.prototype.handleKeyPress=function l(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},i.prototype.handleBlur=function d(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},i.prototype.handleClick=function c(e){e.stopImmediatePropagation(),e.preventDefault()},i.prototype.vertical=function h(e){if(e===undefined)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},i}(En);En.registerComponent("Slider",yr);var vr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.partEls_=[],n.on(e,"progress",n.update),n}return Ut(r,i),r.prototype.createEl=function e(){return i.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},r.prototype.update=function t(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.partEls_,r=function r(e,t){var n=e/t||0;return 100*(1<=n?1:n)+"%"};this.el_.style.width=r(n,t);for(var a=0;a<e.length;a++){var o=e.start(a),s=e.end(a),u=i[a];u||(u=this.el_.appendChild(J()),i[a]=u),u.style.left=r(o,n),u.style.width=r(s-o,n)}for(var l=i.length;l>e.length;l--)this.el_.removeChild(i[l-1]);i.length=e.length},r}(En);En.registerComponent("LoadProgressBar",vr);var br=function(e){function t(){return Bt(this,t),Ft(this,e.apply(this,arguments))}return Ut(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function i(e,t,n){var i=h(this.el_),r=h(this.player_.el()),a=e.width*t;if(r&&i){var o=e.left-r.left+a,s=e.width-a+(r.right-e.right),u=i.width/2;o<u?u+=u-o:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",b(this.el_,n)}},t}(En);En.registerComponent("TimeTooltip",br);var _r=function(e){function t(){return Bt(this,t),Ft(this,e.apply(this,arguments))}return Ut(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function i(n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=Pe(r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),r.player_.duration()),t=r.getChild("timeTooltip");t&&t.update(n,i,e)})},t}(En);_r.prototype.options_={children:[]},jt&&!(8<jt)||_t||wt||_r.prototype.options_.children.push("timeTooltip"),En.registerComponent("PlayProgressBar",_r);var Tr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.update=hn(cn(n,n.update),25),n}return Ut(r,i),r.prototype.createEl=function e(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.prototype.update=function t(n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=r.player_.duration(),t=Pe(i*e,e);r.el_.style.left=n.width*i+"px",r.getChild("timeTooltip").update(n,i,t)})},r}(En);Tr.prototype.options_={children:["timeTooltip"]},En.registerComponent("MouseTimeDisplay",Tr);var wr=5,Sr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.update=hn(cn(n,n.update),50),n.on(e,["timeupdate","ended"],n.update),n}return Ut(r,i),r.prototype.createEl=function e(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.prototype.update=function t(){var e=i.prototype.update.call(this),t=this.player_.duration(),n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();return this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Pe(n,t),Pe(t,t)],"{1} of {2}")),this.bar.update(h(this.el_),e),e},r.prototype.getPercent=function n(){var e=(this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime())/this.player_.duration();return 1<=e?1:e},r.prototype.handleMouseDown=function a(e){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),i.prototype.handleMouseDown.call(this,e)},r.prototype.handleMouseMove=function o(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},r.prototype.handleMouseUp=function s(e){i.prototype.handleMouseUp.call(this,e),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},r.prototype.stepForward=function u(){this.player_.currentTime(this.player_.currentTime()+wr)},r.prototype.stepBack=function l(){this.player_.currentTime(this.player_.currentTime()-wr)},r.prototype.handleAction=function d(){this.player_.paused()?this.player_.play():this.player_.pause()},r.prototype.handleKeyPress=function c(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):i.prototype.handleKeyPress&&i.prototype.handleKeyPress.call(this,e)},r}(yr);Sr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},jt&&!(8<jt)||_t||wt||Sr.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Sr.prototype.playerEvent="timeupdate",En.registerComponent("SeekBar",Sr);var kr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.handleMouseMove=hn(cn(n,n.handleMouseMove),25),n.on(n.el_,"mousemove",n.handleMouseMove),n.throttledHandleMouseSeek=hn(cn(n,n.handleMouseSeek),25),n.on(["mousedown","touchstart"],n.handleMouseDown),n}return Ut(r,i),r.prototype.createEl=function e(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.prototype.handleMouseMove=function t(e){var t=this.getChild("seekBar"),n=t.getChild("mouseTimeDisplay"),i=t.el(),r=h(i),a=g(i,e).x;1<a?a=1:a<0&&(a=0),n&&n.update(r,a)},r.prototype.handleMouseSeek=function n(e){this.getChild("seekBar").handleMouseMove(e)},r.prototype.handleMouseDown=function a(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},r.prototype.handleMouseUp=function o(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},r}(En);kr.prototype.options_={children:["seekBar"]},En.registerComponent("ProgressControl",kr);var Cr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.on(e,"fullscreenchange",n.handleFullscreenChange),n}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-fullscreen-control "+i.prototype.buildCSSClass.call(this)},r.prototype.handleFullscreenChange=function t(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.prototype.handleClick=function n(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},r}(ur);Cr.prototype.controlText_="Fullscreen",En.registerComponent("FullscreenToggle",Cr);var xr=function xr(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Er=function(e){function t(){return Bt(this,t),Ft(this,e.apply(this,arguments))}return Ut(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(En);En.registerComponent("VolumeLevel",Er);var Ar=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready(function(){return n.updateARIAAttributes()}),n}return Ut(r,i),r.prototype.createEl=function e(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.prototype.handleMouseMove=function t(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},r.prototype.checkMuted=function n(){this.player_.muted()&&this.player_.muted(!1)},r.prototype.getPercent=function a(){return this.player_.muted()?0:this.player_.volume()},r.prototype.stepForward=function o(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.prototype.stepBack=function s(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.prototype.updateARIAAttributes=function u(){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},r.prototype.volumeAsPercentage_=function l(){return Math.round(100*this.player_.volume())},r.prototype.updateLastVolume_=function d(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},r}(yr);Ar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ar.prototype.playerEvent="volumechange",En.registerComponent("VolumeBar",Ar);var Or=function(r){function a(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};Bt(this,a),n.vertical=n.vertical||!1,("undefined"==typeof n.volumeBar||N(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical);var i=Ft(this,r.call(this,e,n));return xr(i,e),i.throttledHandleMouseMove=hn(cn(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}return Ut(a,r),a.prototype.createEl=function e(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},a.prototype.handleMouseDown=function t(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},a.prototype.handleMouseUp=function n(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},a.prototype.handleMouseMove=function i(e){this.volumeBar.handleMouseMove(e)},a}(En);Or.prototype.options_={children:["volumeBar"]},En.registerComponent("VolumeControl",Or);var Pr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return xr(n,e),n.on(e,["loadstart","volumechange"],n.update),n}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-mute-control "+i.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function t(){var e=this.player_.volume(),t=this.player_.lastVolume_();if(0===e){var n=t<.1?.1:t;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.prototype.update=function n(){this.updateIcon_(),this.updateControlText_()},r.prototype.updateIcon_=function a(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)Qe(this.el_,"vjs-vol-"+n);Ke(this.el_,"vjs-vol-"+t)},r.prototype.updateControlText_=function o(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},r}(ur);Pr.prototype.controlText_="Mute",En.registerComponent("MuteToggle",Pr);var jr=function(r){function a(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};Bt(this,a),"undefined"!=typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"==typeof n.volumeControl||N(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline);var i=Ft(this,r.call(this,e,n));return xr(i,e),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.muteToggle,"focus",i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i.on(i.muteToggle,"blur",i.sliderInactive_),i}return Ut(a,r),a.prototype.sliderActive_=function e(){this.addClass("vjs-slider-active")},a.prototype.sliderInactive_=function t(){this.removeClass("vjs-slider-active")},a.prototype.createEl=function n(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},a}(En);jr.prototype.options_={children:["muteToggle","volumeControl"]},En.registerComponent("VolumePanel",jr);var Mr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return t&&(n.menuButton_=t.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}return Ut(r,i),r.prototype.addItem=function e(e){this.addChild(e),e.on("click",cn(this,function(){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},r.prototype.createEl=function t(){var e=this.options_.contentElType||"ul";this.contentEl_=J(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=i.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),et(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},r.prototype.handleKeyPress=function n(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},r.prototype.stepForward=function a(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_+1),this.focus(e)},r.prototype.stepBack=function o(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_-1),this.focus(e)},r.prototype.focus=function s(e){var t=0<arguments.length&&e!==undefined?arguments[0]:0,n=this.children().slice();n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className)&&n.shift(),0<n.length&&(t<0?t=0:t>=n.length&&(t=n.length-1),n[this.focusedChild_=t].el_.focus())},r}(En);En.registerComponent("Menu",Mr);var Dr=function(a){function o(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};Bt(this,o);var i=Ft(this,a.call(this,e,n));i.menuButton_=new ur(e,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=ur.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}return Ut(o,a),o.prototype.update=function e(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},o.prototype.createMenu=function t(){var e=new Mr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=J("li",{className:"vjs-menu-title",innerHTML:it(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),Xe(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},o.prototype.createItems=function n(){},o.prototype.createEl=function i(){return a.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},o.prototype.buildWrapperCSSClass=function r(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+ur.prototype.buildCSSClass()+" "+a.prototype.buildCSSClass.call(this)},o.prototype.buildCSSClass=function s(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+a.prototype.buildCSSClass.call(this)},o.prototype.controlText=function u(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,n)},o.prototype.handleClick=function l(){this.one(this.menu.contentEl(),"mouseleave",cn(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},o.prototype.focus=function d(){this.menuButton_.focus()},o.prototype.blur=function c(){this.menuButton_.blur()},o.prototype.handleFocus=function h(){et(gt,"keydown",cn(this,this.handleKeyPress))},o.prototype.handleBlur=function f(){tt(gt,"keydown",cn(this,this.handleKeyPress))},o.prototype.handleKeyPress=function p(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},o.prototype.handleSubmenuKeyPress=function g(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},o.prototype.pressButton=function m(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),this.menu.focus())},o.prototype.unpressButton=function y(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},o.prototype.disable=function v(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},o.prototype.enable=function b(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},o}(En);En.registerComponent("MenuButton",Dr);var Ir=function(a){function o(e,t){Bt(this,o);var n=t.tracks,i=Ft(this,a.call(this,e,t));if(i.items.length<=1&&i.hide(),!n)return Ft(i);var r=cn(i,i.update);return n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),i.player_.on("ready",r),i.player_.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)}),i}return Ut(o,a),o}(Dr);En.registerComponent("TrackButton",Ir);var Lr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t))
;return n.selectable=t.selectable,n.selected(t.selected),n.selectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitem"),n}return Ut(r,i),r.prototype.createEl=function e(e,t,n){return this.nonIconControl=!0,i.prototype.createEl.call(this,"li",Ge({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),n)},r.prototype.handleClick=function t(){this.selected(!0)},r.prototype.selected=function n(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},r}(tr);En.registerComponent("MenuItem",Lr);var Nr=function(u){function l(e,t){Bt(this,l);var n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode;var r=Ft(this,u.call(this,e,t));r.track=n;var a=cn(r,r.handleTracksChange),o=cn(r,r.handleSelectedLanguageChange);if(e.on(["loadstart","texttrackchange"],a),i.addEventListener("change",a),i.addEventListener("selectedlanguagechange",o),r.on("dispose",function(){i.removeEventListener("change",a),i.removeEventListener("selectedlanguagechange",o)}),i.onchange===undefined){var s=void 0;r.on(["tap","click"],function(){if("object"!==Rt(pt.Event))try{s=new pt.Event("change")}catch(e){}s||(s=gt.createEvent("Event")).initEvent("change",!0,!0),i.dispatchEvent(s)})}return r}return Ut(l,u),l.prototype.handleClick=function e(e){var t=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[t]),u.prototype.handleClick.call(this,e),i)for(var r=0;r<i.length;r++){var a=i[r];a===this.track&&-1<n.indexOf(a.kind)?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},l.prototype.handleTracksChange=function t(){this.selected("showing"===this.track.mode)},l.prototype.handleSelectedLanguageChange=function n(){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},l}(Lr);En.registerComponent("TextTrackMenuItem",Nr);var Rr=function(i){function r(e,t){Bt(this,r),t.track={player:e,kind:t.kind,kinds:t.kinds,"default":!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0;var n=Ft(this,i.call(this,e,t));return n.selected(!0),n}return Ut(r,i),r.prototype.handleTracksChange=function e(){for(var e=this.player().textTracks(),t=!0,n=0,i=e.length;n<i;n++){var r=e[n];if(-1<this.options_.kinds.indexOf(r.kind)&&"showing"===r.mode){t=!1;break}}this.selected(t)},r.prototype.handleSelectedLanguageChange=function t(){for(var e=this.player().textTracks(),t=!0,n=0,i=e.length;n<i;n++){var r=e[n];if(-1<["captions","descriptions","subtitles"].indexOf(r.kind)&&"showing"===r.mode){t=!1;break}}t&&(this.player_.cache_.selectedLanguage={enabled:!1})},r}(Nr);En.registerComponent("OffTextTrackMenuItem",Rr);var Br=function(i){function r(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};return Bt(this,r),n.tracks=e.textTracks(),Ft(this,i.call(this,e,n))}return Ut(r,i),r.prototype.createItems=function e(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:[],i=1<arguments.length&&t!==undefined?arguments[1]:Nr,r=void 0;this.label_&&(r=this.label_+" off"),n.push(new Rr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var a=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<a.length;o++){var s=a[o];if(-1<this.kinds_.indexOf(s.kind)){var u=new i(this.player_,{track:s,selectable:!0});u.addClass("vjs-"+s.kind+"-menu-item"),n.push(u)}}return n},r}(Ir);En.registerComponent("TextTrackButton",Br);var Ur=function(o){function s(e,t){Bt(this,s);var n=t.track,i=t.cue,r=e.currentTime();t.selectable=!0,t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime;var a=Ft(this,o.call(this,e,t));return a.track=n,a.cue=i,n.addEventListener("cuechange",cn(a,a.update)),a}return Ut(s,o),s.prototype.handleClick=function e(){o.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},s.prototype.update=function t(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},s}(Lr);En.registerComponent("ChaptersTrackMenuItem",Ur);var Fr=function(i){function r(e,t,n){return Bt(this,r),Ft(this,i.call(this,e,t,n))}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-chapters-button "+i.prototype.buildCSSClass.call(this)},r.prototype.buildWrapperCSSClass=function t(){return"vjs-chapters-button "+i.prototype.buildWrapperCSSClass.call(this)},r.prototype.update=function n(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),i.prototype.update.call(this)},r.prototype.setTrack=function a(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},r.prototype.findChaptersTrack=function o(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if(n.kind===this.kind_)return n}},r.prototype.getMenuCaption=function s(){return this.track_&&this.track_.label?this.track_.label:this.localize(it(this.kind_))},r.prototype.createMenu=function u(){return this.options_.title=this.getMenuCaption(),i.prototype.createMenu.call(this)},r.prototype.createItems=function l(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],a=new Ur(this.player_,{track:this.track_,cue:r});e.push(a)}return e},r}(Br);Fr.prototype.kind_="chapters",Fr.prototype.controlText_="Chapters",En.registerComponent("ChaptersButton",Fr);var Hr=function(o){function s(e,t,n){Bt(this,s);var i=Ft(this,o.call(this,e,t,n)),r=e.textTracks(),a=cn(i,i.handleTracksChange);return r.addEventListener("change",a),i.on("dispose",function(){r.removeEventListener("change",a)}),i}return Ut(s,o),s.prototype.handleTracksChange=function e(){for(var e=this.player().textTracks(),t=!1,n=0,i=e.length;n<i;n++){var r=e[n];if(r.kind!==this.kind_&&"showing"===r.mode){t=!0;break}}t?this.disable():this.enable()},s.prototype.buildCSSClass=function t(){return"vjs-descriptions-button "+o.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function n(){return"vjs-descriptions-button "+o.prototype.buildWrapperCSSClass.call(this)},s}(Br);Hr.prototype.kind_="descriptions",Hr.prototype.controlText_="Descriptions",En.registerComponent("DescriptionsButton",Hr);var Vr=function(i){function r(e,t,n){return Bt(this,r),Ft(this,i.call(this,e,t,n))}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-subtitles-button "+i.prototype.buildCSSClass.call(this)},r.prototype.buildWrapperCSSClass=function t(){return"vjs-subtitles-button "+i.prototype.buildWrapperCSSClass.call(this)},r}(Br);Vr.prototype.kind_="subtitles",Vr.prototype.controlText_="Subtitles",En.registerComponent("SubtitlesButton",Vr);var $r=function(i){function r(e,t){Bt(this,r),t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem";var n=Ft(this,i.call(this,e,t));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+t.kind+" settings dialog"),n}return Ut(r,i),r.prototype.handleClick=function e(){this.player().getChild("textTrackSettings").open()},r}(Nr);En.registerComponent("CaptionSettingsMenuItem",$r);var qr=function(i){function r(e,t,n){return Bt(this,r),Ft(this,i.call(this,e,t,n))}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-captions-button "+i.prototype.buildCSSClass.call(this)},r.prototype.buildWrapperCSSClass=function t(){return"vjs-captions-button "+i.prototype.buildWrapperCSSClass.call(this)},r.prototype.createItems=function n(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(e.push(new $r(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e)},r}(Br);qr.prototype.kind_="captions",qr.prototype.controlText_="Captions",En.registerComponent("CaptionsButton",qr);var zr=function(r){function e(){return Bt(this,e),Ft(this,r.apply(this,arguments))}return Ut(e,r),e.prototype.createEl=function t(e,t,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",r.prototype.createEl.call(this,e,Ge({innerHTML:i},t),n)},e}(Nr);En.registerComponent("SubsCapsMenuItem",zr);var Wr=function(r){function a(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};Bt(this,a);var i=Ft(this,r.call(this,e,n));return i.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)&&(i.label_="captions"),i.menuButton_.controlText(it(i.label_)),i}return Ut(a,r),a.prototype.buildCSSClass=function e(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)},a.prototype.buildWrapperCSSClass=function t(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)},a.prototype.createItems=function n(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(e.push(new $r(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=r.prototype.createItems.call(this,e,zr)},a}(Br);Wr.prototype.kinds_=["captions","subtitles"],Wr.prototype.controlText_="Subtitles",En.registerComponent("SubsCapsButton",Wr);var Gr=function(o){function s(e,t){Bt(this,s);var n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled;var r=Ft(this,o.call(this,e,t));r.track=n;var a=cn(r,r.handleTracksChange);return i.addEventListener("change",a),r.on("dispose",function(){i.removeEventListener("change",a)}),r}return Ut(s,o),s.prototype.handleClick=function e(e){var t=this.player_.audioTracks();o.prototype.handleClick.call(this,e);for(var n=0;n<t.length;n++){var i=t[n];i.enabled=i===this.track}},s.prototype.handleTracksChange=function t(){this.selected(this.track.enabled)},s}(Lr);En.registerComponent("AudioTrackMenuItem",Gr);var Xr=function(i){function r(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};return Bt(this,r),n.tracks=e.audioTracks(),Ft(this,i.call(this,e,n))}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-audio-button "+i.prototype.buildCSSClass.call(this)},r.prototype.buildWrapperCSSClass=function t(){return"vjs-audio-button "+i.prototype.buildWrapperCSSClass.call(this)},r.prototype.createItems=function n(e){var t=0<arguments.length&&e!==undefined?arguments[0]:[];this.hideThreshold_=1;for(var n=this.player_.audioTracks(),i=0;i<n.length;i++){var r=n[i];t.push(new Gr(this.player_,{track:r,selectable:!0}))}return t},r}(Ir);Xr.prototype.controlText_="Audio Track",En.registerComponent("AudioTrackButton",Xr);var Yr=function(a){function o(e,t){Bt(this,o);var n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=1===i,t.selectable=!0;var r=Ft(this,a.call(this,e,t));return r.label=n,r.rate=i,r.on(e,"ratechange",r.update),r}return Ut(o,a),o.prototype.handleClick=function e(){a.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},o.prototype.update=function t(){this.selected(this.player().playbackRate()===this.rate)},o}(Lr);Yr.prototype.contentElType="button",En.registerComponent("PlaybackRateMenuItem",Yr);var Kr=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}return Ut(r,i),r.prototype.createEl=function e(){var e=i.prototype.createEl.call(this);return this.labelEl_=J("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},r.prototype.buildCSSClass=function t(){return"vjs-playback-rate "+i.prototype.buildCSSClass.call(this)},r.prototype.buildWrapperCSSClass=function n(){return"vjs-playback-rate "+i.prototype.buildWrapperCSSClass.call(this)},r.prototype.createMenu=function a(){var e=new Mr(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;0<=n;n--)e.addChild(new Yr(this.player(),{rate:t[n]+"x"}));return e},r.prototype.updateARIAAttributes=function o(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.prototype.handleClick=function s(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],i=0;i<t.length;i++)if(t[i]>e){n=t[i];break}this.player().playbackRate(n)},r.prototype.playbackRates=function u(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},r.prototype.playbackRateSupported=function l(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},r.prototype.updateVisibility=function d(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.prototype.updateLabel=function c(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},r}(Dr);Kr.prototype.controlText_="Playback Rate",En.registerComponent("PlaybackRateMenuButton",Kr);var Qr=function(e){function t(){return Bt(this,t),Ft(this,e.apply(this,arguments))}return Ut(t,e),t.prototype.buildCSSClass=function n(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function i(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(En);En.registerComponent("Spacer",Qr);var Jr=function(t){function e(){return Bt(this,e),Ft(this,t.apply(this,arguments))}return Ut(e,t),e.prototype.buildCSSClass=function n(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function i(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},e}(Qr);En.registerComponent("CustomControlSpacer",Jr);var Zr=function(e){function t(){return Bt(this,t),Ft(this,e.apply(this,arguments))}return Ut(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(En);Zr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},En.registerComponent("ControlBar",Zr);var ea=function(i){function r(e,t){Bt(this,r);var n=Ft(this,i.call(this,e,t));return n.on(e,"error",n.open),n}return Ut(r,i),r.prototype.buildCSSClass=function e(){return"vjs-error-display "+i.prototype.buildCSSClass.call(this)},r.prototype.content=function t(){var e=this.player().error();return e?this.localize(e.message):""},r}(Vn);ea.prototype.options_=at(Vn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),En.registerComponent("ErrorDisplay",ea);var ta="vjs-text-track-settings",na=["#000","Black"],ia=["#00F","Blue"],ra=["#0FF","Cyan"],aa=["#0F0","Green"],oa=["#F0F","Magenta"],sa=["#F00","Red"],ua=["#FFF","White"],la=["#FF0","Yellow"],da=["1","Opaque"],ca=["0.5","Semi-Transparent"],ha=["0","Transparent"],fa={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[na,ua,sa,aa,ia,la,oa,ra]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[da,ca,ha]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ua,na,sa,aa,ia,la,oa,ra]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function pa(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[da,ca]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ha,ca,da]}};fa.windowColor.options=fa.backgroundColor.options;var ga=function(i){function r(e,t){Bt(this,r),t.temporary=!1;var n=Ft(this,i.call(this,e,t));return n.updateDisplay=cn(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=J("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),t.persistTextTrackSettings===undefined&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),T(fa,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}return Ut(r,i),r.prototype.createElSelect_=function e(e,t,n){var i=this,r=1<arguments.length&&t!==undefined?arguments[1]:"",a=2<arguments.length&&n!==undefined?arguments[2]:"label",o=fa[e],s=o.id.replace("%s",this.id_);return[J(a,{id:s,className:"label"===a?"vjs-label":"",textContent:this.localize(o.label)},{}),J("select",{},{"aria-labelledby":r+" "+s},o.options.map(function(e){var t=s+"-"+e[1];return J("option",{id:t,textContent:i.localize(e[1]),value:e[0]},{"aria-labelledby":r+" "+s+" "+t})}))]},r.prototype.createElFgColor_=function t(){var e=J("legend",{id:"captions-text-legend-"+this.id_,textContent:this.localize("Text")}),t=this.createElSelect_("color",e.id),n=J("span",{className:"vjs-text-opacity vjs-opacity"},undefined,this.createElSelect_("textOpacity",e.id));return J("fieldset",{className:"vjs-fg-color vjs-track-setting"},undefined,[e].concat(t,n))},r.prototype.createElBgColor_=function n(){var e=J("legend",{id:"captions-background-"+this.id_,textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor",e.id),n=J("span",{className:"vjs-bg-opacity vjs-opacity"},undefined,this.createElSelect_("backgroundOpacity",e.id));return J("fieldset",{className:"vjs-bg-color vjs-track-setting"},undefined,[e].concat(t,n))},r.prototype.createElWinColor_=function a(){var e=J("legend",{id:"captions-window-"+this.id_,textContent:this.localize("Window")}),t=this.createElSelect_("windowColor",e.id),n=J("span",{className:"vjs-window-opacity vjs-opacity"},undefined,this.createElSelect_("windowOpacity",e.id));return J("fieldset",{className:"vjs-window-color vjs-track-setting"},undefined,[e].concat(t,n))},r.prototype.createElColors_=function o(){return J("div",{className:"vjs-track-settings-colors"},undefined,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},r.prototype.createElFont_=function s(){var e=J("fieldset",{className:"vjs-font-percent vjs-track-setting"},undefined,this.createElSelect_("fontPercent","","legend")),t=J("fieldset",{className:"vjs-edge-style vjs-track-setting"},undefined,this.createElSelect_("edgeStyle","","legend")),n=J("fieldset",{className:"vjs-font-family vjs-track-setting"},undefined,this.createElSelect_("fontFamily","","legend"));return J("div",{className:"vjs-track-settings-font"},undefined,[e,t,n])},r.prototype.createElControls_=function u(){var e=this.localize("restore all settings to the default values"),t=J("button",{className:"vjs-default-button",title:e,innerHTML:this.localize("Reset")+"<span class='vjs-control-text'> "+e+"</span>"}),n=J("button",{className:"vjs-done-button",textContent:this.localize("Done")});return J("div",{className:"vjs-track-settings-controls"},undefined,[t,n])},r.prototype.createEl=function l(){return i.prototype.createEl.call(this)},r.prototype.content=function d(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.prototype.label=function c(){return this.localize("Caption Settings Dialog")},r.prototype.description=function h(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.prototype.buildCSSClass=function f(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.prototype.getValues=function p(){var r=this;return w(fa,function(e,t,n){var i=Me(r.$(t.selector),t.parser);return i!==undefined&&(e[n]=i),e},{})},r.prototype.setValues=function g(n){var i=this;T(fa,function(e,t){De(i.$(e.selector),n[t],e.parser)})},r.prototype.setDefaults=function m(){var n=this;T(fa,function(e){var t=e.hasOwnProperty("default")?e["default"]:0;n.$(e.selector).selectedIndex=t})},r.prototype.restoreSettings=function y(){var e=void 0;try{e=JSON.parse(pt.localStorage.getItem(ta))}catch(t){Xt.warn(t)}e&&this.setValues(e)},r.prototype.saveSettings=function v(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?pt.localStorage.setItem(ta,JSON.stringify(e)):pt.localStorage.removeItem(ta)}catch(t){Xt.warn(t)}}},r.prototype.updateDisplay=function b(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},r.prototype.conditionalBlur_=function _(){this.previouslyActiveEl_=null,this.off(gt,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},r}(Vn);En.registerComponent("TextTrackSettings",ga);var ma=Ht(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),ya=function(d){function c(e,t){Bt(this,c);var n=Ft(this,d.call(this,e,t)),i=e.source,r=!1;if(i&&(n.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),n.el_.hasChildNodes()){for(var a=n.el_.childNodes,o=a.length,s=[];o--;){var u=a[o];"track"===u.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(u),n.remoteTextTracks().addTrack(u.track),n.textTracks().addTrack(u.track),r||n.el_.hasAttribute("crossorigin")||!oi(u.src)||(r=!0)):s.push(u))}for(var l=0;l<s.length;l++)n.el_.removeChild(s[l])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&r&&Xt.warn(Yt(ma)),(It||vt||Ct)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}return Ut(c,d),c.prototype.dispose=function e(){c.disposeMediaElement(this.el_),d.prototype.dispose.call(this)},c.prototype.proxyNativeTracks_=function t(){var l=this;Oi.names.forEach(function(e){var t=Oi[e],r=l.el()[t.getterName],a=l[t.getterName]();if(l["featuresNative"+t.capitalName+"Tracks"]&&r&&r.addEventListener){var n={change:function i(){a.trigger({type:"change",target:a,currentTarget:a,srcElement:a})},addtrack:function o(e){a.addTrack(e.track)},removetrack:function s(e){a.removeTrack(e.track)}},u=function u(){for(var e=[],t=0;t<a.length;t++){for(var n=!1,i=0;i<r.length;i++)if(r[i]===a[t]){n=!0;break}n||e.push(a[t])}for(;e.length;)a.removeTrack(e.shift())};Object.keys(n).forEach(function(e){var t=n[e];r.addEventListener(e,t),l.on("dispose",function(){return r.removeEventListener(e,t)})}),l.on("loadstart",u),l.on("dispose",function(){return l.off("loadstart",u)})}})},c.prototype.createEl=function n(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),c.disposeMediaElement(e),e=t}else{e=gt.createElement("video");var n=at({},this.options_.tag&&Je(this.options_.tag));It&&!0===this.options_.nativeControlsForTouch||delete n.controls,C(e,Ge(n,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}for(var i=["autoplay","preload","loop","muted","playsinline"],r=i.length-1;0<=r;r--){var a=i[r],o={};"undefined"!=typeof this.options_[a]&&(o[a]=this.options_[a]),C(e,o)}return e},c.prototype.handleLateInit_=function i(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function n(){t=!0};this.on("loadstart",n);var i=function i(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),2<=e.readyState&&r.push("loadeddata"),3<=e.readyState&&r.push("canplay"),4<=e.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},c.prototype.setCurrentTime=function r(e){try{this.el_.currentTime=e}catch(t){Xt(t,"Video is not ready. (Video.js)")}},c.prototype.duration=function a(){var e=this;if(this.el_.duration===Infinity&&wt&&At&&0===this.el_.currentTime){var t=function t(){0<e.el_.currentTime&&(e.el_.duration===Infinity&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},c.prototype.width=function o(){return this.el_.offsetWidth},c.prototype.height=function s(){return this.el_.offsetHeight},c.prototype.proxyWebkitFullscreen_=function u(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function t(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function n(){this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},c.prototype.supportsFullScreen=function l(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=pt.navigator&&pt.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},c.prototype.enterFullScreen=function h(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},c.prototype.exitFullScreen=function f(){this.el_.webkitExitFullScreen()},c.prototype.src=function p(e){if(e===undefined)return this.el_.src;this.setSrc(e)},c.prototype.reset=function g(){c.resetMediaElement(this.el_)},c.prototype.currentSrc=function m(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},c.prototype.setControls=function y(e){this.el_.controls=!!e},c.prototype.addTextTrack=function v(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):d.prototype.addTextTrack.call(this,e,t,n)},c.prototype.createRemoteTextTrack=function b(e){if(!this.featuresNativeTextTracks)return d.prototype.createRemoteTextTrack.call(this,e);var t=gt.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e["default"]&&(t["default"]=e["default"]),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},c.prototype.addRemoteTextTrack=function _(e,t){var n=d.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},c.prototype.removeRemoteTextTrack=function T(e){if(d.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),n=t.length;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])},c.prototype.playsinline=function w(){return this.el_.hasAttribute("playsinline")},c.prototype.setPlaysinline=function S(e){e?this.el_.setAttribute("playsinline","playsinline"):this.el_.removeAttribute("playsinline")},c.prototype.getVideoPlaybackQuality=function k(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),pt.performance&&"function"==typeof pt.performance.now?e.creationTime=pt.performance.now():pt.performance&&pt.performance.timing&&"number"==typeof pt.performance.timing.navigationStart&&(e.creationTime=pt.Date.now()-pt.performance.timing.navigationStart),e},c}(Yi);if(d()){ya.TEST_VID=gt.createElement("video");var va=gt.createElement("track");va.kind="captions",va.srclang="en",va.label="English",ya.TEST_VID.appendChild(va)}ya.isSupported=function(){try{ya.TEST_VID.volume=.5}catch(e){return!1}return!(!ya.TEST_VID||!ya.TEST_VID.canPlayType)},ya.canPlayType=function(e){return ya.TEST_VID.canPlayType(e)},ya.canPlaySource=function(e){return ya.canPlayType(e.type)},ya.canControlVolume=function(){try{var e=ya.TEST_VID.volume;return ya.TEST_VID.volume=e/2+.1,e!==ya.TEST_VID.volume}catch(t){return!1}},ya.canControlPlaybackRate=function(){if(wt&&At&&Ot<58)return!1;try{var e=ya.TEST_VID.playbackRate;return ya.TEST_VID.playbackRate=e/2+.1,e!==ya.TEST_VID.playbackRate}catch(t){return!1}},ya.supportsNativeTextTracks=function(){return Dt},ya.supportsNativeVideoTracks=function(){return!(!ya.TEST_VID||!ya.TEST_VID.videoTracks)},ya.supportsNativeAudioTracks=function(){return!(!ya.TEST_VID||!ya.TEST_VID.audioTracks)},ya.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],ya.prototype.featuresVolumeControl=ya.canControlVolume(),ya.prototype.featuresPlaybackRate=ya.canControlPlaybackRate(),ya.prototype.movingMediaElementInDOM=!_t,ya.prototype.featuresFullscreenResize=!0,ya.prototype.featuresProgressEvents=!0,ya.prototype.featuresTimeupdateEvents=!0,ya.prototype.featuresNativeTextTracks=ya.supportsNativeTextTracks(),ya.prototype.featuresNativeVideoTracks=ya.supportsNativeVideoTracks(),ya.prototype.featuresNativeAudioTracks=ya.supportsNativeAudioTracks();var ba=ya.TEST_VID&&ya.TEST_VID.constructor.prototype.canPlayType,_a=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Ta=/^video\/mp4/i;ya.patchCanPlayType=function(){4<=St&&!xt?ya.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&_a.test(e)?"maybe":ba.call(this,e)}:kt&&(ya.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Ta.test(e)?"maybe":ba.call(this,e)})},ya.unpatchCanPlayType=function(){var e=ya.TEST_VID.constructor.prototype.canPlayType;return ya.TEST_VID.constructor.prototype.canPlayType=ba,e},ya.patchCanPlayType(),ya.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(e){}}()}},ya.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(e){}}()}},["paused","currentTime","buffered","volume","muted","defaultMuted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){ya.prototype[e]=function(){return this.el_[e]}}),["volume","muted","defaultMuted","src","poster","preload","autoplay","loop","playbackRate","defaultPlaybackRate"].forEach(function(t){ya.prototype["set"+it(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){ya.prototype[e]=function(){return this.el_[e]()}}),Yi.withSourceHandlers(ya),ya.nativeSourceHandler={},ya.nativeSourceHandler.canPlayType=function(e){try{
return ya.TEST_VID.canPlayType(e)}catch(t){return""}},ya.nativeSourceHandler.canHandleSource=function(e){if(e.type)return ya.nativeSourceHandler.canPlayType(e.type);if(e.src){var t=ai(e.src);return ya.nativeSourceHandler.canPlayType("video/"+t)}return""},ya.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},ya.nativeSourceHandler.dispose=function(){},ya.registerSourceHandler(ya.nativeSourceHandler),Yi.registerTech("Html5",ya);var wa=Ht(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Sa=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],ka=function(d){function c(e,t,n){if(Bt(this,c),e.id=e.id||"vjs_video_"+Ze(),(t=Ge(c.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var i=e.closest("[lang]");i&&(t.language=i.getAttribute("lang"))}else for(var r=e;r&&1===r.nodeType;){if(Je(r).hasOwnProperty("lang")){t.language=r.getAttribute("lang");break}r=r.parentNode}var a=Ft(this,d.call(this,null,t,n));if(a.isReady_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=e,a.tagAttributes=e&&Je(e),a.language(a.options_.language),t.languages){var o={};Object.getOwnPropertyNames(t.languages).forEach(function(e){o[e.toLowerCase()]=t.languages[e]}),a.languages_=o}else a.languages_=c.prototype.options_.languages;a.cache_={},a.poster_=t.poster||"",a.controls_=!!t.controls,a.cache_.lastVolume=1,e.controls=!1,a.scrubbing_=!1,a.el_=a.createEl(),nt(a,{eventBusKey:"el_"});var s=at(a.options_);if(t.plugins){var u=t.plugins;Object.keys(u).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](u[e])},a)}a.options_.playerOptions=s,a.middleware_=[],a.initChildren(),a.isAudio("audio"===e.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),_t||a.addClass("vjs-workinghover"),c.players[a.id_]=a;var l=ft.split(".")[0];return a.addClass("vjs-v"+l),a.userActive(!0),a.reportUserActivity(),a.listenForUserActivity_(),a.on("fullscreenchange",a.handleFullscreenChange_),a.on("stageclick",a.handleStageClick_),a.changingSrc_=!1,a}return Ut(c,d),c.prototype.dispose=function e(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),c.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),d.prototype.dispose.call(this)},c.prototype.createEl=function t(){var e=this.tag,t=void 0,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");t=this.el_=n?e.parentNode:d.prototype.createEl.call(this,"div"),e.setAttribute("tabindex","-1"),e.removeAttribute("width"),e.removeAttribute("height");var i=Je(e);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?t.className+=" "+i[e]:t.setAttribute(e,i[e])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),!0!==pt.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=ln("vjs-styles-dimensions");var r=Qt(".vjs-styles-defaults"),a=Qt("head");a.insertBefore(this.styleEl_,r?r.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var o=e.getElementsByTagName("a"),s=0;s<o.length;s++){var u=o.item(s);Ke(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(t,e),Xe(e,t),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=t},c.prototype.width=function n(e){return this.dimension("width",e)},c.prototype.height=function i(e){return this.dimension("height",e)},c.prototype.dimension=function r(e,t){var n=e+"_";if(t===undefined)return this[n]||0;if(""===t)this[n]=undefined;else{var i=parseFloat(t);if(isNaN(i))return void Xt.error('Improper value "'+t+'" supplied for for '+e);this[n]=i}this.updateStyleEl_()},c.prototype.fluid=function a(e){if(e===undefined)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},c.prototype.aspectRatio=function o(e){if(e===undefined)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},c.prototype.updateStyleEl_=function s(){if(!0!==pt.VIDEOJS_NO_DYNAMIC_STYLE){var e=void 0,t=void 0,n=void 0,i=(this.aspectRatio_!==undefined&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];e=this.width_!==undefined?this.width_:this.height_!==undefined?this.height_/r:this.videoWidth()||300,t=this.height_!==undefined?this.height_:e*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),dn(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(0<=a&&(s.width=a),0<=o&&(s.height=o))}},c.prototype.loadTech_=function u(e,t){var n=this;this.tech_&&this.unloadTech_();var i=it(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Yi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]};ji.names.forEach(function(e){var t=ji[e];a[t.getterName]=n[t.privateName]}),Ge(a,this.options_[i]),Ge(a,this.options_[r]),Ge(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(a.startTime=this.cache_.currentTime);var o=Yi.getTech(e);if(!o)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new o(a),this.tech_.ready(cn(this,this.handleTechReady_),!0),Rn.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Sa.forEach(function(e){n.on(n.tech_,e,n["handleTech"+it(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||Xe(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},c.prototype.unloadTech_=function l(){var n=this;ji.names.forEach(function(e){var t=ji[e];n[t.privateName]=n[t.getterName]()}),this.textTracksJson_=Rn.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},c.prototype.tech=function h(e){return e===undefined&&Xt.warn(Yt(wa)),this.tech_},c.prototype.addTechControlsListeners_=function f(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},c.prototype.removeTechControlsListeners_=function p(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},c.prototype.handleTechReady_=function g(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){Xt("deleting tag.poster throws in some browsers",e)}this.play()}},c.prototype.handleTechLoadStart_=function m(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},c.prototype.hasStarted=function y(e){if(e===undefined)return!!this.hasStarted_;this.hasStarted_!==e&&((this.hasStarted_=e)?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},c.prototype.handleTechPlay_=function v(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},c.prototype.handleTechWaiting_=function b(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},c.prototype.handleTechCanPlay_=function _(){this.removeClass("vjs-waiting"),this.trigger("canplay")},c.prototype.handleTechCanPlayThrough_=function T(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},c.prototype.handleTechPlaying_=function w(){this.removeClass("vjs-waiting"),this.trigger("playing")},c.prototype.handleTechSeeking_=function S(){this.addClass("vjs-seeking"),this.trigger("seeking")},c.prototype.handleTechSeeked_=function k(){this.removeClass("vjs-seeking"),this.trigger("seeked")},c.prototype.handleTechFirstPlay_=function C(){this.options_.starttime&&(Xt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},c.prototype.handleTechPause_=function x(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},c.prototype.handleTechEnded_=function E(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},c.prototype.handleTechDurationChange_=function A(){this.duration(this.techGet_("duration"))},c.prototype.handleTechClick_=function O(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},c.prototype.handleTechTap_=function P(){this.userActive(!this.userActive())},c.prototype.handleTechTouchStart_=function j(){this.userWasActive=this.userActive()},c.prototype.handleTechTouchMove_=function M(){this.userWasActive&&this.reportUserActivity()},c.prototype.handleTechTouchEnd_=function D(e){e.preventDefault()},c.prototype.handleFullscreenChange_=function I(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},c.prototype.handleStageClick_=function L(){this.reportUserActivity()},c.prototype.handleTechFullscreenChange_=function N(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},c.prototype.handleTechError_=function R(){var e=this.tech_.error();this.error(e)},c.prototype.handleTechTextData_=function B(e,t){var n=null;1<arguments.length&&(n=t),this.trigger("textdata",n)},c.prototype.getCache=function U(){return this.cache_},c.prototype.techCall_=function F(t,n){this.ready(function(){if(t in Ji)return ht(this.middleware_,this.tech_,t,n);try{this.tech_&&this.tech_[t](n)}catch(e){throw Xt(e),e}},!0)},c.prototype.techGet_=function H(e){if(this.tech_&&this.tech_.isReady_){if(e in Qi)return ct(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw this.tech_[e]===undefined?Xt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(Xt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):Xt(t),t}}},c.prototype.play=function V(){if(this.changingSrc_)this.ready(function(){var e=this.techGet_("play");e!==undefined&&"function"==typeof e.then&&e.then(null,function(){})});else{if(this.isReady_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.ready(function(){this.tech_.one("loadstart",function(){var e=this.play();e!==undefined&&"function"==typeof e.then&&e.then(null,function(){})})})}},c.prototype.pause=function $(){this.techCall_("pause")},c.prototype.paused=function q(){return!1!==this.techGet_("paused")},c.prototype.played=function z(){return this.techGet_("played")||ot(0,0)},c.prototype.scrubbing=function W(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},c.prototype.currentTime=function G(e){if(void 0===e)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;this.techCall_("setCurrentTime",e)},c.prototype.duration=function X(e){if(e===undefined)return this.cache_.duration||0;(e=parseFloat(e)||0)<0&&(e=Infinity),e!==this.cache_.duration&&((this.cache_.duration=e)===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},c.prototype.remainingTime=function Y(){return this.duration()-this.currentTime()},c.prototype.buffered=function K(){var e=this.techGet_("buffered");return e&&e.length||(e=ot(0,0)),e},c.prototype.bufferedPercent=function Q(){return st(this.buffered(),this.duration())},c.prototype.bufferedEnd=function J(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return t<n&&(n=t),n},c.prototype.volume=function Z(e){var t=void 0;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},c.prototype.muted=function ee(e){if(e===undefined)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},c.prototype.defaultMuted=function te(e){return e!==undefined?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},c.prototype.lastVolume_=function ne(e){if(e===undefined||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},c.prototype.supportsFullScreen=function ie(){return this.techGet_("supportsFullScreen")||!1},c.prototype.isFullscreen=function re(e){if(e===undefined)return!!this.isFullscreen_;this.isFullscreen_=!!e},c.prototype.requestFullscreen=function ae(){var e=An;this.isFullscreen(!0),e.requestFullscreen?(et(gt,e.fullscreenchange,cn(this,function t(){this.isFullscreen(gt[e.fullscreenElement]),!1===this.isFullscreen()&&tt(gt,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},c.prototype.exitFullscreen=function oe(){var e=An;this.isFullscreen(!1),e.requestFullscreen?gt[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},c.prototype.enterFullWindow=function se(){this.isFullWindow=!0,this.docOrigOverflow=gt.documentElement.style.overflow,et(gt,"keydown",cn(this,this.fullWindowOnEscKey)),gt.documentElement.style.overflow="hidden",Ke(gt.body,"vjs-full-window"),this.trigger("enterFullWindow")},c.prototype.fullWindowOnEscKey=function ue(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},c.prototype.exitFullWindow=function le(){this.isFullWindow=!1,tt(gt,"keydown",this.fullWindowOnEscKey),gt.documentElement.style.overflow=this.docOrigOverflow,Qe(gt.body,"vjs-full-window"),this.trigger("exitFullWindow")},c.prototype.canPlayType=function de(e){for(var t=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],a=Yi.getTech(r);if(a||(a=En.getComponent(r)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else Xt.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},c.prototype.selectSource=function ce(e){var i=this,t=this.options_.techOrder.map(function(e){return[e,Yi.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(Xt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function n(e,n,i){var r=void 0;return e.some(function(t){return n.some(function(e){if(r=i(t,e))return!0})}),r},r=function r(n){return function(e,t){return n(t,e)}},a=function a(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?n(e,t,r(a)):n(t,e,a))||!1},c.prototype.src=function he(e){var n=this;if(void 0===e)return this.cache_.src;var i=Zi(e);i.length?(this.cache_.sources=i,this.changingSrc_=!0,this.cache_.source=i[0],lt(this,i[0],function(e,t){if(n.middleware_=t,n.src_(e))return 1<i.length?n.src(i.slice(1)):(n.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void n.triggerReady());n.changingSrc_=!1,n.cache_.src=e.src,dt(t,n.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},c.prototype.src_=function fe(e){var t=this.selectSource([e]);return!t||(rt(t.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source)),!1)},c.prototype.load=function pe(){this.techCall_("load")},c.prototype.reset=function ge(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},c.prototype.currentSources=function me(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},c.prototype.currentSource=function ye(){return this.cache_.source||{}},c.prototype.currentSrc=function ve(){return this.currentSource()&&this.currentSource().src||""},c.prototype.currentType=function be(){return this.currentSource()&&this.currentSource().type||""},c.prototype.preload=function _e(e){return e!==undefined?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},c.prototype.autoplay=function Te(e){return e!==undefined?(this.techCall_("setAutoplay",e),void(this.options_.autoplay=e)):this.techGet_("autoplay",e)},c.prototype.playsinline=function we(e){return e!==undefined?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},c.prototype.loop=function Se(e){return e!==undefined?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},c.prototype.poster=function ke(e){if(e===undefined)return this.poster_;e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange")},c.prototype.handleTechPosterChange_=function Ce(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},c.prototype.controls=function xe(e){return e!==undefined?(e=!!e,void(this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())))):!!this.controls_},c.prototype.usingNativeControls=function Ee(e){return e!==undefined?(e=!!e,void(this.usingNativeControls_!==e&&((this.usingNativeControls_=e)?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))))):!!this.usingNativeControls_},c.prototype.error=function Ae(e){return e===undefined?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ut(e),this.addClass("vjs-error"),Xt.error("(CODE:"+this.error_.code+" "+ut.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},c.prototype.reportUserActivity=function Oe(){this.userActivity_=!0},c.prototype.userActive=function Pe(e){if(e===undefined)return this.userActive_;(e=!!e)!==this.userActive_&&((this.userActive_=e)?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))},c.prototype.listenForUserActivity_=function je(){var e=void 0,t=void 0,n=void 0,i=cn(this,this.reportUserActivity),r=function r(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())},a=function a(){i(),this.clearInterval(e),e=this.setInterval(i,250)},o=function o(){i(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",r),this.on("mouseup",o),this.on("keydown",i),this.on("keyup",i);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;0<e&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},c.prototype.playbackRate=function Me(e){if(e===undefined)return this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},c.prototype.defaultPlaybackRate=function De(e){return e!==undefined?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},c.prototype.isAudio=function Ie(e){if(e===undefined)return!!this.isAudio_;this.isAudio_=!!e},c.prototype.addTextTrack=function Le(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},c.prototype.addRemoteTextTrack=function Ne(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},c.prototype.removeRemoteTextTrack=function Re(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).track,n=t===undefined?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},c.prototype.getVideoPlaybackQuality=function Be(){return this.techGet_("getVideoPlaybackQuality")},c.prototype.videoWidth=function Ue(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},c.prototype.videoHeight=function Fe(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},c.prototype.language=function He(e){if(e===undefined)return this.language_;this.language_=String(e).toLowerCase()},c.prototype.languages=function Ve(){return at(c.prototype.options_.languages,this.languages_)},c.prototype.toJSON=function $e(){var e=at(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=at(i)).player=undefined,e.tracks[n]=i}return e},c.prototype.createModal=function qe(e,t){var n=this;(t=t||{}).content=e||"";var i=new Vn(this,t);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},c.getTagSettings=function ze(e){var t={sources:[],tracks:[]},n=Je(e),i=n["data-setup"];if(Ye(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=Nn(i||"{}"),a=r[0],o=r[1];a&&Xt.error(a),Ge(n,o)}if(Ge(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,l=s.length;u<l;u++){var d=s[u],c=d.nodeName.toLowerCase();"source"===c?t.sources.push(Je(d)):"track"===c&&t.tracks.push(Je(d))}return t},c.prototype.flexNotSupported_=function We(){var e=gt.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},c}(En);ji.names.forEach(function(e){var t=ji[e];ka.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),ka.players={};var Ca=pt.navigator;ka.prototype.options_={techOrder:Yi.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Ca&&(Ca.languages&&Ca.languages[0]||Ca.userLanguage||Ca.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){ka.prototype[e]=function(){return this.techGet_(e)}}),Sa.forEach(function(e){ka.prototype["handleTech"+it(e)+"_"]=function(){return this.trigger(e)}}),En.registerComponent("Player",ka);var xa="plugin",Ea="activePlugins_",Aa={},Oa=function Oa(e){return Aa.hasOwnProperty(e)},Pa=function Pa(e){return Oa(e)?Aa[e]:undefined},ja=function ja(e,t){e[Ea]=e[Ea]||{},e[Ea][t]=!0},Ma=function Ma(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},Da=function Da(t,n){var i=function i(){Ma(this,{name:t,plugin:n,instance:null},!0);var e=n.apply(this,arguments);return ja(this,t),Ma(this,{name:t,plugin:n,instance:e}),e};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i},Ia=function Ia(r,a){return a.prototype.name=r,function(){Ma(this,{name:r,plugin:a,instance:null},!0);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new(Function.prototype.bind.apply(a,[null].concat([this].concat(t))));return this[r]=function(){return i},Ma(this,i.getEventHash()),i}},La=function(){function n(e){if(Bt(this,n),this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,nt(this),delete this.trigger,re(this,this.constructor.defaultState),ja(e,this.name),this.dispose=cn(this,this.dispose),e.on("dispose",this.dispose)}return n.prototype.getEventHash=function e(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},n.prototype.trigger=function t(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};return O(this.eventBusEl_,e,this.getEventHash(n))},n.prototype.handleStateChanged=function i(){},n.prototype.dispose=function r(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Ea][e]=!1,this.player=this.state=null,t[e]=Ia(e,Aa[e])},n.isBasic=function a(e){var t="string"==typeof e?Pa(e):e;return"function"==typeof t&&!n.prototype.isPrototypeOf(t.prototype)},n.registerPlugin=function o(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":Rt(e))+".");if(Oa(e))Xt.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(ka.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===t?"undefined":Rt(t))+".");return Aa[e]=t,e!==xa&&(n.isBasic(t)?ka.prototype[e]=Da(e,t):ka.prototype[e]=Ia(e,t)),t},n.deregisterPlugin=function s(e){if(e===xa)throw new Error("Cannot de-register base plugin.");Oa(e)&&(delete Aa[e],delete ka.prototype[e])},n.getPlugins=function u(e){var t=0<arguments.length&&e!==undefined?arguments[0]:Object.keys(Aa),n=void 0;return t.forEach(function(e){var t=Pa(e);t&&((n=n||{})[e]=t)}),n},n.getPluginVersion=function l(e){var t=Pa(e);return t&&t.VERSION||""},n}();La.getPlugin=Pa,La.BASE_PLUGIN_NAME=xa,La.registerPlugin(xa,La),ka.prototype.usingPlugin=function(e){return!!this[Ea]&&!0===this[Ea][e]},ka.prototype.hasPlugin=function(e){return!!Oa(e)};var Na=function Na(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Rt(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},Ra=function Ra(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},i=function i(){e.apply(this,arguments)},r={};for(var a in"object"===(void 0===n?"undefined":Rt(n))?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),r=n):"function"==typeof n&&(i=n),Na(i,e),r)r.hasOwnProperty(a)&&(i.prototype[a]=r[a]);return i};if("undefined"==typeof HTMLVideoElement&&d()&&(gt.createElement("video"),gt.createElement("audio"),gt.createElement("track")),Ie.hooks_={},Ie.hooks=function(e,t){return Ie.hooks_[e]=Ie.hooks_[e]||[],t&&(Ie.hooks_[e]=Ie.hooks_[e].concat(t)),Ie.hooks_[e]},Ie.hook=function(e,t){Ie.hooks(e,t)},Ie.removeHook=function(e,t){var n=Ie.hooks(e).indexOf(t);return!(n<=-1)&&(Ie.hooks_[e]=Ie.hooks_[e].slice(),Ie.hooks_[e].splice(n,1),!0)},!0!==pt.VIDEOJS_NO_DYNAMIC_STYLE&&d()){var Ba=Qt(".vjs-styles-defaults");if(!Ba){Ba=ln("vjs-styles-defaults");var Ua=Qt("head");Ua&&Ua.insertBefore(Ba,Ua.firstChild),dn(Ba,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return j(1,Ie),Ie.VERSION=ft,Ie.options=ka.prototype.options_,Ie.getPlayers=function(){return ka.players},Ie.players=ka.players,Ie.getComponent=En.getComponent,Ie.registerComponent=function(e,t){Yi.isTech(t)&&Xt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),En.registerComponent.call(En,e,t)},Ie.getTech=Yi.getTech,Ie.registerTech=Yi.registerTech,Ie.use=Ce,Ie.browser=Nt,Ie.TOUCH_ENABLED=It,Ie.extend=Ra,Ie.mergeOptions=at,Ie.bind=cn,Ie.registerPlugin=La.registerPlugin,Ie.plugin=function(e,t){return Xt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),La.registerPlugin(e,t)},Ie.getPlugins=La.getPlugins,Ie.getPlugin=La.getPlugin,Ie.getPluginVersion=La.getPluginVersion,Ie.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Ie.options.languages=at(Ie.options.languages,((n={})[e]=t,n)),Ie.options.languages[e]},Ie.log=Xt,Ie.createTimeRange=Ie.createTimeRanges=ot,Ie.formatTime=Pe,Ie.parseUrl=ii,Ie.isCrossOrigin=oi,Ie.EventTarget=un,Ie.on=et,Ie.one=P,Ie.off=tt,Ie.trigger=O,Ie.xhr=vi,Ie.TextTrack=Ti,Ie.AudioTrack=wi,Ie.VideoTrack=Si,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Ie[e]=function(){return Xt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Zt[e].apply(null,arguments)}}),Ie.computedStyle=r,Ie.dom=Zt,Ie.url=si,Ie}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsFlash=t(e.videojs)}(this,function(e){"use strict";function n(e){m[e]=function(){return this.el_.vjs_getProperty(e)}}e="default"in e?e["default"]:e;for(
var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i=e.getComponent("Tech"),a=e.dom,l=e.url,d=e.createTimeRange,c=e.mergeOptions,h=r&&r.navigator||{},f=function(i){function a(e,t){o(this,a);var n=u(this,i.call(this,e,t));return e.source&&n.ready(function(){this.setSource(e.source)},!0),e.startTime&&n.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)},!0),r.videojs=r.videojs||{},r.videojs.Flash=r.videojs.Flash||{},r.videojs.Flash.onReady=a.onReady,r.videojs.Flash.onEvent=a.onEvent,r.videojs.Flash.onError=a.onError,n.on("seeked",function(){this.lastSeekTarget_=undefined}),n}return s(a,i),a.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="//vjs.zencdn.net/swf/5.4.0/video-js.swf");var t=e.techId,n=c({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=c({wmode:"opaque",bgcolor:"#000000"},e.params),r=c({id:t,name:t,"class":"vjs-tech"},e.attributes);return this.el_=a.embed(e.swf,n,i,r),(this.el_.tech=this).el_},a.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},a.prototype.pause=function(){this.el_.vjs_pause()},a.prototype.src=function(e){return e===undefined?this.currentSrc():this.setSrc(e)},a.prototype.setSrc=function(e){var t=this;e=l.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},a.prototype.seeking=function(){return this.lastSeekTarget_!==undefined},a.prototype.setCurrentTime=function(e){var t=this.seekable();t.length&&(e=(e=e>t.start(0)?e:t.start(0))<t.end(t.length-1)?e:t.end(t.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),i.prototype.setCurrentTime.call(this))},a.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},a.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},a.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return 0<=e?e:Infinity},a.prototype.load=function(){this.el_.vjs_load()},a.prototype.poster=function(){this.el_.vjs_getProperty("poster")},a.prototype.setPoster=function(){},a.prototype.seekable=function(){var e=this.duration();return 0===e?d():d(0,e)},a.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?d():d(e[0][0],e[0][1])},a.prototype.supportsFullScreen=function(){return!1},a.prototype.enterFullScreen=function(){return!1},a.prototype.getVideoPlaybackQuality=function(){var e=this.el_.vjs_getProperty("getVideoPlaybackQuality");return r.performance&&"function"==typeof r.performance.now?e.creationTime=r.performance.now():r.performance&&r.performance.timing&&"number"==typeof r.performance.timing.navigationStart&&(e.creationTime=r.Date.now()-r.performance.timing.navigationStart),e},a}(i),p=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","loop","controls","volume","muted","defaultMuted"],g=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"],m=f.prototype,y=0;y<p.length;y++)n(p[y]),function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);m["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}(p[y]);for(var v=0;v<g.length;v++)n(g[v]);return f.isSupported=function(){return 10<=f.version()[0]},i.withSourceHandlers(f),f.nativeSourceHandler={},f.nativeSourceHandler.canPlayType=function(e){return e in f.formats?"maybe":""},f.nativeSourceHandler.canHandleSource=function(e){var t,n,i=void 0;return i=e.type?e.type.replace(/;.*/,"").toLowerCase():(t=e.src,(n=l.getFileExtension(t))?"video/"+n:""),f.nativeSourceHandler.canPlayType(i)},f.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},f.nativeSourceHandler.dispose=function(){},f.registerSourceHandler(f.nativeSourceHandler),f.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},f.onReady=function(e){var t=a.$("#"+e),n=t&&t.tech;n&&n.el()&&f.checkReady(n)},f.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){f.checkReady(e)},50))},f.onEvent=function(e,t){var n=a.$("#"+e).tech,i=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,i)},1)},f.onError=function(e,t){var n=a.$("#"+e).tech;if("srcnotfound"===t)return n.error(4);n.error("FLASH: "+t)},f.version=function(){var e="0,0,0";try{e=new r.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(n){try{h.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(h.plugins["Shockwave Flash 2.0"]||h.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return e.split(",")},f.embed=function(e,t,n,i){var r=f.getEmbedCode(e,t,n,i);return a.createEl("div",{innerHTML:r}).childNodes[0]},f.getEmbedCode=function(e,t,n,i){var r="",a="",o="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){r+=e+"="+t[e]+"&amp;"}),n=c({movie:e,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){a+='<param name="'+e+'" value="'+n[e]+'" />'}),i=c({data:e,width:"100%",height:"100%"},i),Object.getOwnPropertyNames(i).forEach(function(e){o+=e+'="'+i[e]+'" '}),'<object type="application/x-shockwave-flash" '+o+">"+a+"</object>"},(b=f).streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},b.streamFromParts=function(e,t){return e+"&"+t},b.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),i=void 0;return-1!==n?i=n+1:0===(n=i=e.lastIndexOf("/")+1)&&(n=i=e.length),t.connection=e.substring(0,n),t.stream=e.substring(i,e.length),t},b.isStreamingType=function(e){return e in b.streamingFormats},b.RTMP_RE=/^rtmp[set]?:\/\//i,b.isStreamingSrc=function(e){return b.RTMP_RE.test(e)},b.rtmpSourceHandler={},b.rtmpSourceHandler.canPlayType=function(e){return b.isStreamingType(e)?"maybe":""},b.rtmpSourceHandler.canHandleSource=function(e){return b.rtmpSourceHandler.canPlayType(e.type)||(b.isStreamingSrc(e.src)?"maybe":"")},b.rtmpSourceHandler.handleSource=function(e,t){var n=b.streamToParts(e.src);t.setRtmpConnection(n.connection),t.setRtmpStream(n.stream)},b.registerSourceHandler(b.rtmpSourceHandler),i.getTech("Flash")?(e.log.warn("Not using videojs-flash as it appears to already be registered"),e.log.warn("videojs-flash should only be used with video.js@6 and above")):e.registerTech("Flash",f),f.VERSION="2.0.0",f;var b}),function t(o,s,u){function l(n,e){if(!s[n]){if(!o[n]){var i="function"==typeof require&&require;if(!e&&i)return i(n,!0);if(d)return d(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var a=s[n]={exports:{}};o[n][0].call(a.exports,function(e){return l(o[n][1][e]||e)},a,a.exports,t,o,s,u)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(o,u,l){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(l,"__esModule",{value:!0});var n=t(o(15)),i=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),a=function(e){Object.defineProperties(e.frame,{id:{get:function(){return i["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return i["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return i["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},s=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},r=function(i,e,t){var o,r=n["default"].WebKitDataCue||n["default"].VTTCue;e&&e.forEach(function(e){this.inbandTextTrack_.addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},i),t&&(o=s(i.mediaSource_.duration),t.forEach(function(e){var n=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var t=new r(n,n,e.value||e.url||e.data||"");t.frame=e,t.value=e,a(t),this.metadataTrack_.addCue(t)},this)},i),i.metadataTrack_&&i.metadataTrack_.cues&&i.metadataTrack_.cues.length&&function(){for(var e=i.metadataTrack_.cues,t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);var r=t.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),a=Object.keys(r).sort(function(e,t){return Number(e)-Number(t)});a.forEach(function(e,t){var n=r[e],i=Number(a[t+1])||o;n.forEach(function(e){e.endTime=i})})}())};l["default"]={addTextTrackData:r,durationOfVideo:s},u.exports=l["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var i=e.remoteTextTracks()||[],r=0;r<i.length;r++){var a=i[r];a.kind===t&&a.label===n&&e.removeRemoteTextTrack(a)}};n.removeExistingTrack=i;var r=function(e){i(e,"captions","cc1"),i(e,"metadata","Timed Metadata")};n.cleanupTextTracks=r},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return/mp4a\.\d+.\d+/i.test(e)},r=function(e){return/avc1\.[\da-f]+/i.test(e)},a=function(e){var r={type:"",parameters:{}},t=e.trim().split(";");return r.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(1<t.length){var n=t[0].replace(/"/g,"").trim(),i=t[1].replace(/"/g,"").trim();r.parameters[n]=i}}),r},o=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})};n["default"]={isAudioCodec:i,parseContentType:a,isVideoCodec:r,translateLegacyCodecs:o},t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(2),i=function(e,t,n){var i=t.player_;n.captions&&n.captions.length&&!e.inbandTextTrack_&&((0,r.removeExistingTrack)(i,"captions","cc1"),e.inbandTextTrack_=i.addRemoteTextTrack({kind:"captions",label:"cc1"},!1).track),n.metadata&&n.metadata.length&&!e.metadataTrack_&&((0,r.removeExistingTrack)(i,"metadata","Timed Metadata",!0),e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};n["default"]=i,t.exports=n["default"]},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};n["default"]=i,t.exports=n["default"]},{}],6:[function(p,g,m){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(m,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,n=o,i=!0,s=l=void 0}},o=t(p(14)),s=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),u=t(p(7)),l=t(p(5)),d=p(3),c=p(2),h=function(){function e(){var t=this;n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=o["default"].getElementById(e.swfId),t.player_=(0,s["default"])(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.tech_.hls&&t.tech_.hls.on("dispose",function(){(0,c.cleanupTextTracks)(t.player_)}),t.swfObj&&t.swfObj.vjs_load()})}return i(e,s["default"].EventTarget),r(e,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=void 0;if("video/mp2t"!==(0,d.parseContentType)(e).type)throw new Error("NotSupportedError (Video.js)");return t=new u["default"](this),this.sourceBuffers.push(t),t}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),e}();m["default"]=h;try{Object.defineProperty(h.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(p){h.prototype.duration=NaN}for(var f in l["default"])h[f]=l["default"][f];g.exports=m["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(b,_,T){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(T,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=function(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,n=o,i=!0,s=l=void 0}},s=t(b(15)),u=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),l=t(b(23)),d=t(b(10)),c=t(b(4)),h=b(1),f=t(b(8)),p=t(b(37)),g=t(b(5)),m=function(e){s["default"].setTimeout(e,g["default"].TIME_BETWEEN_CHUNKS)},y=function(){return Math.random().toString(36).slice(2,8)},v=function(e,t){("number"!=typeof t||t<0)&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},r=function(){function r(e){var t=this;a(this,r),o(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);var n=void 0;this.chunkSize_=g["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,n=s["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(l["default"].getFlvHeader())));var i=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+i+y(),this.flashEncodedDataName_="vjs_flashEncodedData_"+i+y(),s["default"][this.flashEncodedHeaderName_]=function(){return delete s["default"][t.flashEncodedHeaderName_],n},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,p["default"])(f["default"]),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&t.receiveBuffer_(e.data.segment)},this.one("updateend",function(){t.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return u["default"].createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=v(e[0][0],3),e[0][1]=v(e[0][1],3)),u["default"].createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){(0,d["default"])(0,1/0,t.metadataTrack_),(0,d["default"])(0,1/0,t.inbandTextTrack_)}),this.mediaSource_.player_.tech_.hls.on("dispose",function(){t.transmuxer_.terminate()})}return n(r,u["default"].EventTarget),i(r,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw(t=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){(0,d["default"])(e,t,this.metadataTrack_),(0,d["default"])(e,t,this.inbandTextTrack_),this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var n=this;(0,c["default"])(this,this.mediaSource_,t),(0,h.addTextTrackData)(this,t.captions,t.metadata),m(function(){var e=n.convertTagsToData_(t);0===n.buffer_.length&&m(n.processBuffer_.bind(n)),e&&(n.buffer_.push(e),n.bufferSize_+=e.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=g["default"].BYTES_PER_CHUNK;if(this.buffer_.length){var n=this.buffer_[0].subarray(0,t);n.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=n.byteLength;for(var i=[],r=n.byteLength,a=0;a<r;a++)i.push(String.fromCharCode(n[a]));var o=s["default"].btoa(i.join(""));s["default"][this.flashEncodedDataName_]=function(){return m(e.processBuffer_.bind(e)),delete s["default"][e.flashEncodedDataName_],o},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(e){var t=0,n=this.mediaSource_.tech_,i=0,r=void 0,a=e.tags.videoTags,o=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||o.length)){var s=a[0]||{pts:1/0},u=o[0]||{pts:1/0};this.basePtsOffset_=Math.min(u.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(i=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(i=Math.max(i,n.currentTime()-this.timestampOffset)),i*=1e3,i+=this.basePtsOffset_):i=this.videoBufferEnd_+.1;var l=a.length;if(l&&a[l-1].pts>=i){for(;--l;){var d=a[l];if(!(d.pts>i)&&(d.keyFrame||d.metaDataTag))break}for(;l&&a[l-1].metaDataTag;)l--}var c=a.slice(l),h=void 0;for(h=isNaN(this.audioBufferEnd_)?i:this.audioBufferEnd_+.1,c.length&&(h=Math.min(h,c[0].pts)),l=0;l<o.length&&!(o[l].pts>=h);)l++;var f=o.slice(l);f.length&&(this.audioBufferEnd_=f[f.length-1].pts),c.length&&(this.videoBufferEnd_=c[c.length-1].pts);var p=this.getOrderedTags_(c,f);if(0!==p.length){if(p[0].pts<i&&n.seeking()){var g=n.currentTime()-(i-p[0].pts)/1e3;g<1/30&&(g=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(g)}catch(e){}}for(var m=0;m<p.length;m++)t+=p[m].bytes.byteLength;r=new Uint8Array(t);m=0;for(var y=0;m<p.length;m++)r.set(p[m].bytes,y),y+=p[m].bytes.byteLength;return r}}},{key:"getOrderedTags_",value:function(e,t){for(var n=void 0,i=[];e.length||t.length;)n=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),i.push(n);return i}}]),r}();T["default"]=r,_.exports=T["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=i(e(15)),s=i(e(23)),u=function(e){e.on("data",function(e){o["default"].postMessage({action:"data",segment:e})}),e.on("done",function(){o["default"].postMessage({action:"done"})})},l=function(){function t(e){r(this,t),this.options=e||{},this.init()}return a(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new s["default"].Transmuxer(this.options),u(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}}]),t}(),d=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new l(e.data.options):(this.messageHandlers||(this.messageHandlers=new l),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};n["default"]=function(e){return new d(e)},t.exports=n["default"]},{}],9:[function(p,g,m){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(m,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,n=o,i=!0,s=l=void 0}},o=t(p(15)),s=t(p(14)),u=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),l=t(p(12)),d=p(1),c=p(3),h=p(2),f=function(){function t(){var r=this;n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var e=void 0;for(e in this.nativeMediaSource_=new o["default"].MediaSource,this.nativeMediaSource_)e in t.prototype||"function"!=typeof this.nativeMediaSource_[e]||(this[e]=this.nativeMediaSource_[e].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){(this.duration_=e)===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?u["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){r.activeSourceBuffers_.length=0;for(var t=!1,n=!0,e=0;e<r.player_.audioTracks().length;e++){var i=r.player_.audioTracks()[e];if(i.enabled&&"main"!==i.kind){n=!(t=!0);break}}r.sourceBuffers.forEach(function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=t;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=n))return;r.activeSourceBuffers_.push(e)})},this.onPlayerMediachange_=function(){r.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(){var e=s["default"].querySelector('[src="'+r.url_+'"]');e&&(r.player_=(0,u["default"])(e.parentNode),r.player_.audioTracks&&r.player_.audioTracks()&&(r.player_.audioTracks().on("change",r.updateActiveSourceBuffers_),r.player_.audioTracks().on("addtrack",r.updateActiveSourceBuffers_),r.player_.audioTracks().on("removetrack",r.updateActiveSourceBuffers_)),r.player_.on("mediachange",r.onPlayerMediachange_))}),this.on("sourceended",function(){for(var e=(0,d.durationOfVideo)(r.duration),t=0;t<r.sourceBuffers.length;t++){var n=r.sourceBuffers[t],i=n.metadataTrack_&&n.metadataTrack_.cues;i&&i.length&&(i[i.length-1].endTime=e)}}),this.on("sourceclose",function(){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&((0,h.cleanupTextTracks)(this.player_),this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_))})}return i(t,u["default"].EventTarget),r(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=(0,c.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=(0,c.translateLegacyCodecs)(i)).filter(function(e){return(0,c.isAudioCodec)(e)||(0,c.isVideoCodec)(e)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),t=new l["default"](this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}();m["default"]=f,g.exports=m["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=t&&r.endTime>=e&&n.removeCue(r)};n["default"]=i,t.exports=n["default"]},{}],11:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=i(e(15)),s=i(e(31)),u=function(e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var n=e.data;e.data=n.buffer,o["default"].postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){o["default"].postMessage({action:"caption",data:e})}),e.on("done",function(){o["default"].postMessage({action:"done"})})},l=function(){function t(e){r(this,t),this.options=e||{},this.init()}return a(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new s["default"].Transmuxer(this.options),u(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(){this.transmuxer.flush()}}]),t}(),d=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new l(e.data.options):(this.messageHandlers||(this.messageHandlers=new l),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};n["default"]=function(e){return new d(e)},t.exports=n["default"]},{}],12:[function(g,m,y){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(y,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=function(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,n=o,i=!0,s=l=void 0}},u=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),s=t(g(4)),l=t(g(10)),d=g(1),c=t(g(37)),h=t(g(11)),f=g(3),p=function(e,t){var n=e.addSourceBuffer(t),i=Object.create(null);for(var r in i.updating=!1,i.realBuffer_=n)!function(t){"function"==typeof n[t]?i[t]=function(){return n[t].apply(n,arguments)}:void 0===i[t]&&Object.defineProperty(i,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})}(r);return i},r=function(){function r(e,t){var n=this;a(this,r),o(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,u["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=t,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1;var i={remux:!(this.appendAudioInitSegment_=!0)};this.codecs_.forEach(function(e){(0,f.isAudioCodec)(e)?n.audioCodec_=e:(0,f.isVideoCodec)(e)&&(n.videoCodec_=e)}),this.transmuxer_=(0,c["default"])(h["default"]),this.transmuxer_.postMessage({action:"init",options:i}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?n.data_(e):"done"===e.data.action?n.done_(e
):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,n=0,i=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return u["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return u["default"].createTimeRange();for(var a=this.videoBuffer_.buffered,o=this.audioBuffer_.buffered,s=a.length;s--;)i.push({time:a.start(s),type:"start"}),i.push({time:a.end(s),type:"end"});for(s=o.length;s--;)i.push({time:o.start(s),type:"start"}),i.push({time:o.end(s),type:"end"});for(i.sort(function(e,t){return e.time-t.time}),s=0;s<i.length;s++)"start"===i[s].type?2==++n&&(e=i[s].time):"end"===i[s].type&&1==--n&&(t=i[s].time),null!==e&&null!==t&&(r.push([e,t]),t=e=null);return u["default"].createTimeRanges(r)}})}return n(r,u["default"].EventTarget),i(r,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,s["default"])(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(){this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var i=this,r=["audio","video"];r.forEach(function(t){if(i[t+"Codec_"]&&!i[t+"Buffer_"]){var n=null;if(i.mediaSource_[t+"Buffer_"])(n=i.mediaSource_[t+"Buffer_"]).updating=!1;else{var e=t+'/mp4;codecs="'+i[t+"Codec_"]+'"';n=p(i.mediaSource_.nativeMediaSource_,e),i.mediaSource_[t+"Buffer_"]=n}i[t+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(e){n.addEventListener(e,function(){if("audio"!==t||!i.audioDisabled_)return"updateend"===e&&(i[t+"Buffer_"].updating=!1),r.every(function(e){return!("audio"!==e||!i.audioDisabled_)||t===e||!i[e+"Buffer_"]||!i[e+"Buffer_"].updating})?i.trigger(e):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"remove",value:function(e,t){this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,l["default"])(e,t,this.metadataTrack_),(0,l["default"])(e,t,this.inbandTextTrack_)}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,i=t.data,r=t.initSegment;return e[n].segments.push(i),e[n].bytes+=i.byteLength,e[n].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1),this.videoBuffer_&&(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,d.addTextTrackData)(this,e.captions,e.metadata)),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,i=void 0;if(e.bytes){i=new Uint8Array(e.bytes),e.segments.forEach(function(e){i.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(i)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),r}();y["default"]=r,m.exports=y["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(){},{}],14:[function(r,a){(function(e){var t,n=void 0!==e?e:"undefined"!=typeof window?window:{},i=r(13);"undefined"!=typeof document?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"])||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=i),a.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,n){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t){"use strict";var n,i=e(36);(n=function(){var s=new Uint8Array,u=0;n.prototype.init.call(this),this.setTimestamp=function(e){u=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},this.push=function(e){var t,n,i,r,a=0,o=0;for(s.length?(r=s.length,(s=new Uint8Array(e.byteLength+r)).set(s.subarray(0,r)),s.set(e,r)):s=e;3<=s.length-o;)if(s[o]!=="I".charCodeAt(0)||s[o+1]!=="D".charCodeAt(0)||s[o+2]!=="3".charCodeAt(0))if(!0&s[o]&&240==(240&s[o+1])){if(s.length-o<7)break;if((a=this.parseAdtsSize(s,o))>s.length)break;i={type:"audio",data:s.subarray(o,o+a),pts:u,dts:u},this.trigger("data",i),o+=a}else o++;else{if(s.length-o<10)break;if((a=this.parseId3TagSize(s,o))>s.length)break;n={type:"timed-metadata",data:s.subarray(o,o+a)},this.trigger("data",n),o+=a}t=s.length-o,s=0<t?s.subarray(o):new Uint8Array}}).prototype=new i,t.exports=n},{}],17:[function(e,t){"use strict";var n,i=e(36),d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(){var l;n.prototype.init.call(this),this.push=function(e){var t,n,i,r,a,o,s=0,u=0;if("audio"===e.type)for(l?(r=l,(l=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),l.set(e.data,r.byteLength)):l=e.data;s+5<l.length;)if(255===l[s]&&240==(246&l[s+1])){if(n=2*(1&~l[s+1]),t=(3&l[s+3])<<11|l[s+4]<<3|(224&l[s+5])>>5,o=9e4*(a=1024*(1+(3&l[s+6])))/d[(60&l[s+2])>>>2],i=s+t,l.byteLength<i)return;if(this.trigger("data",{pts:e.pts+u*o,dts:e.dts+u*o,sampleCount:a,audioobjecttype:1+(l[s+2]>>>6&3),channelcount:(1&l[s+2])<<2|(192&l[s+3])>>>6,samplerate:d[(60&l[s+2])>>>2],samplingfrequencyindex:(60&l[s+2])>>>2,samplesize:16,data:l.subarray(s+7+n,i)}),l.byteLength===i)return void(l=void 0);u++,l=l.subarray(i)}else s++},this.flush=function(){this.trigger("done")}}).prototype=new i,t.exports=n},{}],18:[function(e,t){"use strict";var u,l,_,n=e(36),T=e(35);(l=function(){var n,i,r=0;l.prototype.init.call(this),this.push=function(e){var t;for(i?((t=new Uint8Array(i.byteLength+e.data.byteLength)).set(i),t.set(e.data,i.byteLength),i=t):i=e.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}}).prototype=new n,_={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(u=function(){var n,i,r,a,o,s,b,t=new l;u.prototype.init.call(this),(n=this).push=function(e){"video"===e.type&&(i=e.trackId,r=e.pts,a=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:i,pts:r,dts:a,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=o(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=o(e.subarray(1)),t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",t)}),t.on("done",function(){n.trigger("done")}),this.flush=function(){t.flush()},b=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},o=function(e){for(var t,n,i=e.byteLength,r=[],a=1;a<i-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=e[o];return n},s=function(e){var t,n,i,r,a,o,s,u,l,d,c,h,f,p=0,g=0,m=0,y=0,v=1;if(n=(t=new T(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),_[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(c=3!==a?8:12,f=0;f<c;f++)t.readBoolean()&&b(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),s=t.readUnsignedExpGolomb(),f=0;f<s;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:h=[1,1];break;case 2:h=[12,11];break;case 3:h=[10,11];break;case 4:h=[16,11];break;case 5:h=[40,33];break;case 6:h=[24,11];break;case 7:h=[20,11];break;case 8:h=[32,11];break;case 9:h=[80,33];break;case 10:h=[18,11];break;case 11:h=[15,11];break;case 12:h=[64,33];break;case 13:h=[160,99];break;case 14:h=[4,3];break;case 15:h=[3,2];break;case 16:h=[2,1];break;case 255:h=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}h&&(v=h[0]/h[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*p-2*g)*v),height:(2-d)*(l+1)*16-2*m-2*y}}}).prototype=new n,t.exports={H264Stream:u,NalByteStream:l}},{}],19:[function(e,t){var n,i=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(e){for(var t=[];e--;)t.push(0);return t},o={96e3:[i,[227,64],a(154),[56]],88200:[i,[231],a(170),[56]],64e3:[i,[248,192],a(240),[56]],48e3:[i,[255,192],a(268),[55,148,128],a(54),[112]],44100:[i,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[i,[255,192],a(268),[55,234],a(226),[112]],24e3:[i,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[i,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[r,a(268),[3,121,16],a(47),[7]]};t.exports=(n=o,Object.keys(n).reduce(function(e,t){return e[t]=new Uint8Array(n[t].reduce(function(e,t){return e.concat(t)},[])),e},{}))},{}],20:[function(e,t){"use strict";var n=e(36),i=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};i.prototype=new n,i.prototype.flush=function(e){var t,n,i,r,a={tags:{},captions:[],metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&++this.processedTracks<this.numberOfTracks)return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,i=0;i<this.pendingCaptions.length;i++)(n=this.pendingCaptions[i]).startTime=n.startPts-r,n.startTime/=9e4,n.endTime=n.endPts-r,n.endTime/=9e4,a.captions.push(n);for(i=0;i<this.pendingMetadata.length;i++)(t=this.pendingMetadata[i]).cueTime=t.pts-r,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},t.exports=i},{}],21:[function(e,t){"use strict";var u=e(22),n=function(e,t,n){var i,r,a,o=new Uint8Array(9),s=new DataView(o.buffer);return e=e||0,t=void 0===t||t,n=void 0===n||n,s.setUint8(0,70),s.setUint8(1,76),s.setUint8(2,86),s.setUint8(3,1),s.setUint8(4,(t?4:0)|(n?1:0)),s.setUint32(5,o.byteLength),e<=0?((r=new Uint8Array(o.byteLength+4)).set(o),r.set([0,0,0,0],o.byteLength)):((i=new u(u.METADATA_TAG)).pts=i.dts=0,i.writeMetaDataDouble("duration",e),a=i.finalize().length,(r=new Uint8Array(o.byteLength+a)).set(o),r.set(s.byteLength,a)),r};t.exports=n},{}],22:[function(e,t){"use strict";var l;(l=function(e,n){var t,i=0,r=16384,a=function(e,t){var n,i=e.position+t;i<e.bytes.byteLength||((n=new Uint8Array(2*i)).set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},o=l.widthBytes||new Uint8Array("width".length),s=l.heightBytes||new Uint8Array("height".length),u=l.videocodecidBytes||new Uint8Array("videocodecid".length);if(!l.widthBytes){for(t=0;t<"width".length;t++)o[t]="width".charCodeAt(t);for(t=0;t<"height".length;t++)s[t]="height".charCodeAt(t);for(t=0;t<"videocodecid".length;t++)u[t]="videocodecid".charCodeAt(t);l.widthBytes=o,l.heightBytes=s,l.videocodecidBytes=u}switch(this.keyFrame=!1,e){case l.VIDEO_TAG:this.length=16,r*=6;break;case l.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case l.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(r),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=n,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var i,r=t||0;i=r+(n=n||e.byteLength),a(this,n),this.bytes.set(e.subarray(r,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){a(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){a(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(0<i)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===i+4?this.length-=4:0<i&&(t=i+4,n=this.length-t,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),i=0},this.writeMetaDataDouble=function(e,t){var n;if(a(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(o,this.position),this.position+=5;else if("height"===e)this.bytes.set(s,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(u,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var n;for(a(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)a(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,t;switch(this.bytes[0]){case l.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||n?16:32),this.bytes[12]=n?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case l.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=n?0:1;break;case l.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return t=this.length-11,this.bytes[1]=(16711680&t)>>>16,this.bytes[2]=(65280&t)>>>8,this.bytes[3]=(255&t)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=l.frameTime(this.bytes),this}}).AUDIO_TAG=8,l.VIDEO_TAG=9,l.METADATA_TAG=18,l.isAudioFrame=function(e){return l.AUDIO_TAG===e[0]},l.isVideoFrame=function(e){return l.VIDEO_TAG===e[0]},l.isMetaData=function(e){return l.METADATA_TAG===e[0]},l.isKeyFrame=function(e){return l.isVideoFrame(e)?23===e[11]:!!l.isAudioFrame(e)||!!l.isMetaData(e)},l.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,(t|=e[6]<<0)|e[7]<<24},t.exports=l},{}],23:[function(e,t){t.exports={tag:e(22),Transmuxer:e(25),getFlvHeader:e(21)}},{}],24:[function(e,t){"use strict";var n=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})};t.exports=n},{}],25:[function(e,t){"use strict";var p,g,m,i,s,u,n=e(36),l=e(22),y=e(27),v=e(17),b=e(18).H264Stream,_=e(20),d=e(24);i=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var n=new l(l.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},u=function(e,t){var n,i=new l(l.VIDEO_TAG,!0);for(i.dts=t,i.pts=t,i.writeByte(1),i.writeByte(e.profileIdc),i.writeByte(e.profileCompatibility),i.writeByte(e.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(e.sps[0].length),i.writeBytes(e.sps[0]),i.writeByte(e.pps.length),n=0;n<e.pps.length;++n)i.writeShort(e.pps[n].length),i.writeBytes(e.pps[n]);return i},(m=function(r){var a,o=[];m.prototype.init.call(this),this.push=function(e){i(r,e),r&&void 0===r.channelcount&&(r.audioobjecttype=e.audioobjecttype,r.channelcount=e.channelcount,r.samplerate=e.samplerate,r.samplingfrequencyindex=e.samplingfrequencyindex,r.samplesize=e.samplesize,r.extraData=r.audioobjecttype<<11|r.samplingfrequencyindex<<7|r.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),o.push(e)},this.flush=function(){var e,t,n,i=new d;if(0!==o.length){for(n=-1/0;o.length;)e=o.shift(),(r.extraData!==a||1e3<=e.pts-n)&&((t=new l(l.METADATA_TAG)).pts=e.pts,t.dts=e.dts,t.writeMetaDataDouble("audiocodecid",10),t.writeMetaDataBoolean("stereo",2===r.channelcount),t.writeMetaDataDouble("audiosamplerate",r.samplerate),t.writeMetaDataDouble("audiosamplesize",16),i.push(t.finalize()),a=r.extraData,(t=new l(l.AUDIO_TAG,!0)).pts=e.pts,t.dts=e.dts,t.view.setUint16(t.position,r.extraData),t.position+=2,t.length=Math.max(t.length,t.position),i.push(t.finalize()),n=e.pts),(t=new l(l.AUDIO_TAG)).pts=e.pts,t.dts=e.dts,t.writeBytes(e.data),i.push(t.finalize());a=null,this.trigger("data",{track:r,tags:i.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")}}).prototype=new n,(g=function(r){var a,o,n=[];g.prototype.init.call(this),this.finishFrame=function(e,t){if(t){if(a&&r&&r.newMetadata&&(t.keyFrame||0===e.length)){var n=s(a,t.dts).finalize(),i=u(r,t.dts).finalize();n.metaDataTag=i.metaDataTag=!0,e.push(n),e.push(i),r.newMetadata=!1}t.endNalUnit(),e.push(t.finalize()),o=null}},this.push=function(e){i(r,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){for(var e,t=new d;n.length&&"access_unit_delimiter_rbsp"!==n[0].nalUnitType;)n.shift();if(0!==n.length){for(;n.length;)"seq_parameter_set_rbsp"===(e=n.shift()).nalUnitType?(r.newMetadata=!0,a=e.config,r.width=a.width,r.height=a.height,r.sps=[e.data],r.profileIdc=a.profileIdc,r.levelIdc=a.levelIdc,r.profileCompatibility=a.profileCompatibility,o.endNalUnit()):"pic_parameter_set_rbsp"===e.nalUnitType?(r.newMetadata=!0,r.pps=[e.data],o.endNalUnit()):"access_unit_delimiter_rbsp"===e.nalUnitType?(o&&this.finishFrame(t,o),(o=new l(l.VIDEO_TAG)).pts=e.pts,o.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(o.keyFrame=!0),o.endNalUnit()),o.startNalUnit(),o.writeBytes(e.data);o&&this.finishFrame(t,o),this.trigger("data",{track:r,tags:t.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new n,(p=function(e){var t,n,i,r,a,o,s,u,l,d,c,h,f=this;p.prototype.init.call(this),e=e||{},this.metadataStream=new y.MetadataStream,e.metadataStream=this.metadataStream,t=new y.TransportPacketStream,n=new y.TransportParseStream,i=new y.ElementaryStream,r=new y.TimestampRolloverStream("video"),a=new y.TimestampRolloverStream("audio"),o=new y.TimestampRolloverStream("timed-metadata"),s=new v,u=new b,h=new _(e),t.pipe(n).pipe(i),i.pipe(r).pipe(u),i.pipe(a).pipe(s),i.pipe(o).pipe(this.metadataStream).pipe(h),c=new y.CaptionStream,u.pipe(c).pipe(h),i.on("data",function(e){var t,n,i;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(i=e.tracks[t]);n&&!l&&(h.numberOfTracks++,l=new g(n),u.pipe(l).pipe(h)),i&&!d&&(h.numberOfTracks++,d=new m(i),s.pipe(d).pipe(h))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},h.on("data",function(e){f.trigger("data",e)}),h.on("done",function(){f.trigger("done")})}).prototype=new n,t.exports=p},{}],26:[function(e,t){"use strict";var n=e(36),i=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,r=i=0}return n},r=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},a=function(e,t){var n,i,r,a,o=[];if(!(64&t[0]))return o;for(i=31&t[0],n=0;n<i;n++)a={type:3&t[(r=3*n)+2],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],o.push(a));return o},o=function(){o.prototype.init.call(this),this.captionPackets_=[],this.field1_=new d,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};o.prototype=new n,o.prototype.push=function(e){var t,n;"sei_rbsp"===e.nalUnitType&&(4===(t=i(e.escapedRBSP)).payloadType&&(n=r(t))&&(this.captionPackets_=this.captionPackets_.concat(a(e.pts,n))))},o.prototype.flush=function(){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0),this.field1_.flush()};var s={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},u=function(e){return null===e?"":(e=s[e]||e,String.fromCharCode(e))},l=function(){for(var e=[],t=15;t--;)e.push("");return e},d=function(){d.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=l(),this.nonDisplayed_=l(),this.lastControlCode_=null,this.push=function(e){if(0===e.type){var t,n,i,r;if((t=32639&e.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);switch(this.lastControlCode_=4096==(61440&t)?t:null,t){case 0:break;case 5152:this.mode_="popOn";break;case 5167:this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;break;case 5157:this.topRow_=13,this.mode_="rollUp";break;case 5158:this.topRow_=12,this.mode_="rollUp";break;case 5159:this.topRow_=11,this.mode_="rollUp";break;case 5165:this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;break;case 5153:"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);break;case 5164:this.flushDisplayed(e.pts),this.displayed_=l();break;case 5166:this.nonDisplayed_=l();break;default:if(r=255&t,16<=(i=t>>>8)&&i<=23&&64<=r&&r<=127&&(16!==i||r<96)&&(i=32,r=null),(17===i||25===i)&&48<=r&&r<=63&&(i=9834,r=""),16==(240&i))return;0===i&&(i=null),0===r&&(r=null),this[this.mode_](e.pts,i,r)}}}};d.prototype=new n,d.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("\n");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t})},d.prototype.popOn=function(e,t,n){var i=this.nonDisplayed_[14];i+=u(t),i+=u(n),this.nonDisplayed_[14]=i},d.prototype.rollUp=function(e,t,n){var i=this.displayed_[14];""===i&&(this.flushDisplayed(e),this.startPts_=e),i+=u(t),i+=u(n),this.displayed_[14]=i},d.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<14;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[14]=""},t.exports={CaptionStream:o,Cea608Stream:d}},{}],27:[function(e,t){"use strict";var n,s,r,i=e(36),a=e(26),l=e(29),o=e(30).TimestampRolloverStream,d=e(29);(n=function(){var r=new Uint8Array(188),a=0;n.prototype.init.call(this),this.push=function(e){var t,n=0,i=188;for(a?((t=new Uint8Array(e.byteLength+a)).set(r.subarray(0,a)),t.set(e,a),a=0):t=e;i<t.byteLength;)71!==t[n]||71!==t[i]?(n++,i++):(this.trigger("data",t.subarray(n,i)),n+=188,i+=188);n<t.byteLength&&(r.set(t.subarray(n),0),a=t.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}}).prototype=new i,(s=function(){var i,r,a,o;s.prototype.init.call(this),(o=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(e,t){var n=0;t.payloadUnitStartIndicator&&(n+=e[n]+1),"pat"===t.type?r(e.subarray(n),t):a(e.subarray(n),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],o.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=o.pmtPid},a=function(e,t){var n,i;if(1&e[5]){for(o.programMapTable={},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;)o.programMapTable[(31&e[i+1])<<8|e[i+2]]=e[i],i+=5+((15&e[i+3])<<8|e[i+4]);for(t.programMapTable=o.programMapTable;o.packetsWaitingForPmt.length;)o.processPes_.apply(o,o.packetsWaitingForPmt.shift())}},this.push=function(e){var t={},n=4;t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(n+=e[n]+1),0===t.pid?(t.type="pat",i(e.subarray(n),t),this.trigger("data",t)):t.pid===this.pmtPid?(t.type="pmt",i(e.subarray(n),t),this.trigger("data",t)):void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,t]):this.processPes_(e,n,t)},this.processPes_=function(e,t,n){n.streamType=this.programMapTable[n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new i,s.STREAM_TYPES={h264:27,adts:15},(r=function(){var o=this,n={data:[],size:0},i={data:[],size:0},a={data:[],size:0},s=function(e,t){var n;t.dataAlignmentIndicator=0!=(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},u=function(e,t){var n,i=new Uint8Array(e.size),r={type:t},a=0;if(e.data.length){for(r.trackId=e.data[0].pid;e.data.length;)n=e.data.shift(),i.set(n.data,a),a+=n.data.byteLength;s(i,r),e.size=0,o.trigger("data",r)}};r.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var e,t;switch(r.streamType){case l.H264_STREAM_TYPE:case d.H264_STREAM_TYPE:e=n,t="video";break;case l.ADTS_STREAM_TYPE:e=i,t="audio";break;case l.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&u(e,t),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var e,t,n={type:"metadata",tracks:[]},i=r.programMapTable;for(e in i)i.hasOwnProperty(e)&&((t={timelineStartInfo:{baseMediaDecodeTime:0}}).id=+e,i[e]===d.H264_STREAM_TYPE?(t.codec="avc",t.type="video"):i[e]===d.ADTS_STREAM_TYPE&&(t.codec="adts",t.type="audio"),n.tracks.push(t));o.trigger("data",n)}})[r.type]()},this.flush=function(){u(n,"video"),u(i,"audio"),u(a,"timed-metadata"),this.trigger("done")}}).prototype=new i;var u={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:n,TransportParseStream:s,ElementaryStream:r,TimestampRolloverStream:o,CaptionStream:a.CaptionStream,Cea608Stream:a.Cea608Stream,MetadataStream:e(28)};for(var c in l)l.hasOwnProperty(c)&&(u[c]=l[c]);t.exports=u},{}],28:[function(e,t){"use strict";var n,i=e(36),r=e(29),a=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},o=function(e,t,n){return decodeURIComponent(a(e,t,n))},s=function(e,t,n){return unescape(a(e,t,n))},h=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},f={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=o(e.data,1,t),e.value=o(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=o(e.data,1,t),e.url=o(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=s(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(n=function(e){var t,u={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},l=0,d=[],c=0;if(n.prototype.init.call(this),this.dispatchType=r.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(t=0;t<u.descriptor.length;t++)this.dispatchType+=("00"+u.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,i,r,a;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(c=0,d.length=0),0===d.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0
)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(u.debug&&console.log("Skipping unrecognized metadata packet"));if(d.push(e),c+=e.data.byteLength,1===d.length&&(l=h(e.data.subarray(6,10)),l+=10),!(c<l)){for(t={data:new Uint8Array(l),frames:[],pts:d[0].pts,dts:d[0].dts},a=0;a<l;)t.data.set(d[0].data.subarray(0,l-a),a),a+=d[0].data.byteLength,c-=d[0].data.byteLength,d.shift();n=10,64&t.data[5]&&(n+=4,n+=h(t.data.subarray(10,14)),l-=h(t.data.subarray(16,20)));do{if((i=h(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((r={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)}).key=r.id,f[r.id]&&(f[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var o=r.data,s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;s*=4,s+=3&o[7],r.timeStamp=s,void 0===t.pts&&void 0===t.dts&&(t.pts=r.timeStamp,t.dts=r.timeStamp),this.trigger("timestamp",r)}t.frames.push(r),n+=10,n+=i}while(n<l);this.trigger("data",t)}}}}).prototype=new i,t.exports=n},{}],29:[function(e,t){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],30:[function(e,t){"use strict";var n=e(36),i=function(e,t){var n=1;for(t<e&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e},r=function(e){var t,n;r.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=i(e.dts,n),e.pts=i(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.discontinuity=function(){t=n=void 0}};r.prototype=new n,t.exports={TimestampRolloverStream:r,handleRollover:i}},{}],31:[function(e,t){t.exports={generator:e(32),Transmuxer:e(33).Transmuxer,AudioSegmentStream:e(33).AudioSegmentStream,VideoSegmentStream:e(33).VideoSegmentStream}},{}],32:[function(e,t){"use strict";var u,n,i,r,a,o,s,l,d,c,h,f,p,g,m,y,v,b,_,T,w,S,k,C,x,E,A,O,P,j,M,D,I,L,N,R,B,U,F,H,V,$=Math.pow(2,32)-1;!function(){var e;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in k)k.hasOwnProperty(e)&&(k[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),x=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),O=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:A,audio:O},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),L=I,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=I,j=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),u=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},n=function(){return u(k.dinf,u(k.dref,D))},i=function(e){return u(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},r=function(){return u(k.ftyp,C,x,C,E)},y=function(e){return u(k.hdlr,P[e])},a=function(e){return u(k.mdat,e)},m=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),u(k.mdhd,t)},g=function(e){return u(k.mdia,m(e),y(e.type),s(e))},o=function(e){return u(k.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(e){return u(k.minf,"video"===e.type?u(k.vmhd,j):u(k.smhd,M),n(),b(e))},l=function(e,t){for(var n=[],i=t.length;i--;)n[i]=T(t[i]);return u.apply(null,[k.moof,o(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=f(e[t]);return u.apply(null,[k.moov,h(4294967295)].concat(n).concat(c(e)))},c=function(e){for(var t=e.length,n=[];t--;)n[t]=w(e[t]);return u.apply(null,[k.mvex].concat(n))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return u(k.mvhd,t)},v=function(e){var t,n,i=e.samples||[],r=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)t=i[n].flags,r[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return u(k.sdtp,r)},b=function(e){return u(k.stbl,_(e),u(k.stts,R),u(k.stsc,L),u(k.stsz,N),u(k.stco,I))},_=function(e){return u(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?H(e):V(e))},H=function(e){var t,n=e.sps||[],i=e.pps||[],r=[],a=[];for(t=0;t<n.length;t++)r.push((65280&n[t].byteLength)>>>8),r.push(255&n[t].byteLength),r=r.concat(Array.prototype.slice.call(n[t]));for(t=0;t<i.length;t++)a.push((65280&i[t].byteLength)>>>8),a.push(255&i[t].byteLength),a=a.concat(Array.prototype.slice.call(i[t]));return u(k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u(k.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(r).concat([i.length]).concat(a))),u(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},V=function(e){return u(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},p=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return u(k.tkhd,t)},T=function(e){var t,n,i,r,a,o,s;return t=u(k.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/($+1)),s=Math.floor(e.baseMediaDecodeTime%($+1)),n=u(k.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),a=92,"audio"===e.type?(i=S(e,a),u(k.traf,t,n,i)):(r=v(e),i=S(e,r.length+a),u(k.traf,t,n,i,r))},f=function(e){return e.duration=e.duration||4294967295,u(k.trak,p(e),g(e))},w=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),u(k.trex,t)},F=function(e,t){var n=0,i=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,t){var n,i,r,a;for(t+=20+16*(i=e.samples||[]).length,n=F(i,t),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return u(k.trun,new Uint8Array(n))},B=function(e,t){var n,i,r,a;for(t+=20+8*(i=e.samples||[]).length,n=F(i,t),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return u(k.trun,new Uint8Array(n))},S=function(e,t){return"audio"===e.type?B(e,t):U(e,t)},t.exports={ftyp:r,mdat:a,moof:l,moov:d,initSegment:function(e){var t,n=r(),i=d(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}}},{}],33:[function(e,t){"use strict";var l,s,o,u,d,c,h,f,p,g,m,n=e(36),y=e(32),v=e(27),b=e(17),_=e(18).H264Stream,T=e(16),w=e(19),S=e(34),k=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],C=["width","height","profileIdc","levelIdc","profileCompatibility"];d=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},c=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},g=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},m=function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n},(s=function(r){var a=[],o=0,t=0,l=0,d=1/0;s.prototype.init.call(this),this.push=function(t){h(r,t),r&&k.forEach(function(e){r[e]=t[e]}),a.push(t)},this.setEarliestDts=function(e){t=e-r.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){d=e},this.setAudioAppendStart=function(e){l=e},this.flush=function(){var e,t,n,i;0!==a.length&&(e=this.trimAdtsFramesByEarliestDts_(a),r.baseMediaDecodeTime=p(r),this.prefixWithSilence_(r,e),r.samples=this.generateSampleTable_(e),n=y.mdat(this.concatenateFrameData_(e)),a=[],t=y.moof(o,[r]),i=new Uint8Array(t.byteLength+n.byteLength),o++,i.set(t),i.set(n,t.byteLength),f(r),this.trigger("data",{track:r,boxes:i})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var n,i,r,a=0,o=0,s=0,u=0;if(t.length&&(n=S.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(9e4/(e.samplerate/1024)),l&&d&&(o=n-Math.max(l,d),u=(s=Math.floor(o/a))*a),!(s<1||45e3<u))){for((i=w[e.samplerate])||(i=t[0].data),r=0;r<s;r++)t.splice(r,0,{data:i});e.baseMediaDecodeTime-=Math.floor(S.videoTsToAudioTs(u,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return r.minSegmentDts>=t?e:(r.minSegmentDts=1/0,e.filter(function(e){return e.dts>=t&&(r.minSegmentDts=Math.min(r.minSegmentDts,e.dts),r.minSegmentPts=r.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(e){var t,n,i=0,r=new Uint8Array(m(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}}).prototype=new n,(l=function(s){var t,n,o=0,u=[];l.prototype.init.call(this),delete s.minPTS,this.gopCache_=[],this.push=function(e){h(s,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,s.sps=[e.data],C.forEach(function(e){s[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,s.pps=[e.data]),u.push(e)},this.flush=function(){for(var e,t,n,i,r,a;u.length&&"access_unit_delimiter_rbsp"!==u[0].nalUnitType;)u.shift();if(0===u.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");e=this.groupNalsIntoFrames_(u),(n=this.groupFramesIntoGops_(e))[0][0].keyFrame||((t=this.getGopForFusion_(u[0],s))?(n.unshift(t),n.byteLength+=t.byteLength,n.nalCount+=t.nalCount,n.pts=t.pts,n.dts=t.dts,n.duration+=t.duration):n=this.extendFirstKeyFrame_(n)),h(s,n),s.samples=this.generateSampleTable_(n),r=y.mdat(this.concatenateNalData_(n)),this.gopCache_.unshift({gop:n.pop(),pps:s.pps,sps:s.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),u=[],s.baseMediaDecodeTime=p(s),this.trigger("baseMediaDecodeTime",s.baseMediaDecodeTime),this.trigger("timelineStartInfo",s.timelineStartInfo),i=y.moof(o,[s]),a=new Uint8Array(i.byteLength+r.byteLength),o++,a.set(i),a.set(r,i.byteLength),this.trigger("data",{track:s,boxes:a}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){f(s),n=t=void 0},this.getGopForFusion_=function(e){var t,n,i,r,a,o=1/0;for(a=0;a<this.gopCache_.length;a++)i=(r=this.gopCache_[a]).gop,s.pps&&g(s.pps[0],r.pps[0])&&s.sps&&g(s.sps[0],r.sps[0])&&(i.dts<s.timelineStartInfo.dts||-1e4<=(t=e.dts-i.dts-i.duration)&&t<=45e3&&(!n||t<o)&&(n=r,o=t));return n?n.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,i=[],r=[];for(t=i.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},this.groupFramesIntoGops_=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},this.generateSampleTable_=function(e,t){var n,i,r,a,o,s=t||0,u=[];for(n=0;n<e.length;n++)for(a=e[n],i=0;i<a.length;i++)o=a[i],(r=d()).dataOffset=s,r.compositionTimeOffset=o.pts-o.dts,r.duration=o.duration,r.size=4*o.length,r.size+=o.byteLength,o.keyFrame&&(r.flags.dependsOn=2),s+=r.size,u.push(r);return u},this.concatenateNalData_=function(e){var t,n,i,r,a,o,s=0,u=e.byteLength,l=e.nalCount,d=new Uint8Array(u+4*l),c=new DataView(d.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)o=a[i],c.setUint32(s,o.data.byteLength),s+=4,d.set(o.data,s),s+=o.data.byteLength;return d}}).prototype=new n,h=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},f=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},p=function(e){var t,n=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=n,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},(u=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,u.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new n,u.prototype.flush=function(e){var t,n,i,r,a=0,o={captions:[],metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,C.forEach(function(e){o.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,k.forEach(function(e){o.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=y.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,o.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts-s,n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(o=function(e){var i,r,a=this,n=!0;o.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new v.MetadataStream,t.aacStream=new T,t.audioTimestampRolloverStream=new v.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new v.TimestampRolloverStream("timed-metadata"),t.adtsStream=new b,t.coalesceStream=new u(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new s(r),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new v.MetadataStream,n.packetStream=new v.TransportPacketStream,n.parseStream=new v.TransportParseStream,n.elementaryStream=new v.ElementaryStream,n.videoTimestampRolloverStream=new v.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new v.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new v.TimestampRolloverStream("timed-metadata"),n.adtsStream=new b,n.h264Stream=new _,n.captionStream=new v.CaptionStream,n.coalesceStream=new u(e,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)i||"video"!==e.tracks[t].type?r||"audio"!==e.tracks[t].type||((r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(i=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;i&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new l(i),n.videoSegmentStream.on("timelineStartInfo",function(e){r&&(r.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){r&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),r&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new s(r),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,f(r),r.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),i&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,f(i),i.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.push=function(e){if(n){var t=c(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()}}).prototype=new n,t.exports={Transmuxer:o,VideoSegmentStream:l,AudioSegmentStream:s,AUDIO_PROPERTIES:k,VIDEO_PROPERTIES:C}},{}],34:[function(e,t){var n,i,r,a,o,s;n=function(e){return 9e4*e},i=function(e,t){return e*t},r=function(e){return e/9e4},a=function(e,t){return e/t},o=function(e,t){return n(a(e,t))},s=function(e,t){return i(r(e),t)},t.exports={secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s}},{}],35:[function(e,t){"use strict";var n;n=function(i){var r=i.byteLength,a=0,o=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+o},this.loadWord=function(){var e=i.byteLength-r,t=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");t.set(i.subarray(e,e+n)),a=new DataView(t.buffer).getUint32(0),o=8*n,r-=n},this.skipBits=function(e){var t;e<o||(e-=o,e-=8*(t=Math.floor(e/8)),r-=t,this.loadWord()),a<<=e,o-=e},this.readBits=function(e){var t=Math.min(o,e),n=a>>>32-t;return 0<(o-=t)?a<<=t:0<r&&this.loadWord(),0<(t=e-t)?n<<t|this.readBits(t):n},this.skipLeadingZeros=function(){var e;for(e=0;e<o;++e)if(0!=(a&2147483648>>>e))return a<<=e,o-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},{}],36:[function(e,t){"use strict";var n=function(){this.init=function(){var o={};this.on=function(e,t){o[e]||(o[e]=[]),o[e]=o[e].concat(t)},this.off=function(e,t){var n;return!!o[e]&&(n=o[e].indexOf(t),o[e]=o[e].slice(),o[e].splice(n,1),-1<n)},this.trigger=function(e,t){var n,i,r,a;if(n=o[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,t);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){o={}}}};n.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},t.exports=n},{}],37:[function(e,t,n,i,r,a){var c=i,h=r,f=a,p=JSON.stringify;t.exports=function(e){for(var t,n=Object.keys(f),i=0,r=n.length;i<r;i++){var a=n[i];if(f[a].exports===e){t=a;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var o={};for(i=0,r=n.length;i<r;i++){o[a=n[i]]=a}h[t]=[Function(["require","module","exports"],"("+e+")(self)"),o]}var s=Math.floor(Math.pow(16,8)*Math.random()).toString(16),u={};u[t]=t,h[s]=[Function(["require"],"require("+p(t)+")(self)"),u];var l="("+c+")({"+Object.keys(h).map(function(e){return p(e)+":["+h[e][0]+","+p(h[e][1])+"]"}).join(",")+"},{},["+p(s)+"])",d=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(d.createObjectURL(new Blob([l],{type:"text/javascript"})))}},{}],38:[function(h,e,f){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(f,"__esModule",{value:!0});var n=t(h(15)),i=t(h(6)),r=t(h(9)),a=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),o=0,s={mode:"auto"};a["default"].mediaSources={};var u=function(e,t){var n=a["default"].mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},l=function(){return!!n["default"].MediaSource&&!!n["default"].MediaSource.isTypeSupported&&n["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},d=function(e){var t=a["default"].mergeOptions(s,e);if(this.MediaSource={open:u,supportsNativeMediaSources:l},"html5"===t.mode||"auto"===t.mode&&l())return new r["default"];if(a["default"].getTech("Flash"))return new i["default"];throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};(f.MediaSource=d).open=u,d.supportsNativeMediaSources=l;var c={createObjectURL:function(e){var t=void 0;return e instanceof r["default"]?(t=n["default"].URL.createObjectURL(e.nativeMediaSource_),e.url_=t):e instanceof i["default"]?(t="blob:vjs-media-source/"+o,o++,a["default"].mediaSources[t]=e):(t=n["default"].URL.createObjectURL(e),e.url_=t),t}};f.URL=c,a["default"].MediaSource=d,a["default"].URL=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[38]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsContribHls=e()}}(function(){var r;return function Z(a,o,s){function u(n,e){if(!o[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=o[n]={exports:{}};a[n][0].call(r.exports,function(e){var t=a[n][1][e];return u(t||e)},r,r.exports,Z,a,o,s)}return o[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var h=function(){function n(e,t){var n=[],i=!0,r=!1,a=undefined;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(u){r=!0,a=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=i(e("global/window")),p=function p(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},r=function r(e,t,n){var i=arguments.length<=2||n===undefined?0:arguments[2];if(e.segments)for(var r=i,a=undefined,o=0;o<e.segments.length;o++){var s=e.segments[o];if(a||(a=p(t,r+s.duration/2)),a){if("cueIn"in s){a.endTime=r,a.adEndTime=r,r+=s.duration,a=null;continue}if(r<a.endTime){r+=s.duration;continue}a.endTime+=s.duration}else if("cueOut"in s&&((a=new f["default"].VTTCue(r,r+s.duration,s.cueOut)).adStartTime=r,a.adEndTime=r+parseFloat(s.cueOut),t.addCue(a)),"cueOutCont"in s){var u=undefined,l=undefined,d=s.cueOutCont.split("/").map(parseFloat),c=h(d,2);u=c[0],l=c[1],(a=new f["default"].VTTCue(r,r+s.duration,"")).adStartTime=r-u,a.adEndTime=a.adStartTime+l,t.addCue(a)}r+=s.duration}};n["default"]={updateAdCues:r,findAdCue:p},t.exports=n["default"]},{"global/window":30}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function i(e,t){return e.start(t)+"-"+e.end(t)},a=function a(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},o=function o(e){return 32<=e&&e<126?String.fromCharCode(e):"."},r={hexDump:function s(e){for(var t=Array.prototype.slice.call(e),n=16,i="",r=(undefined,undefined,0);r<t.length/n;r++)i+=t.slice(r*n,r*n+n).map(a).join("")+" "+t.slice(r*n,r*n+n).map(o).join("")+"\n";return i},tagDump:function u(e){return r.hexDump(e.bytes)},textRanges:function l(e){var t="",n=undefined;for(n=0;n<e.length;n++)t+=i(e,n)+" ";return t},createTransferableMessage:function d(n){var i={};return Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t}),i},initSegmentId:function c(e){var t=e.byterange||{length:Infinity,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}};n["default"]=r,t.exports=n["default"]},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={GOAL_BUFFER_LENGTH:30,BANDWIDTH_VARIANCE:1.2},t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(e("global/window")),o=e("aes-decrypter"),s=e("./bin-utils"),r=function r(e){e.onmessage=function(e){var n=e.data,t=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),i=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),r=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new o.Decrypter(t,i,r,function(e,t){a["default"].postMessage((0,s.createTransferableMessage)({source:n.source,decrypted:t}),[t.buffer])})}};n["default"]=function(e){return new r(e)},t.exports=n["default"]},{"./bin-utils":2,"aes-decrypter":23,"global/window":30}],5:[function(a,e,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var L=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),N=function n(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},R=t(a("./playlist-loader")),B=t(a("./segment-loader")),U=t(a("./vtt-segment-loader")),F=t(a("./ranges")),H=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),V=t(a("./ad-cue-tags")),$=t(a("./sync-controller")),i=a("videojs-contrib-media-sources/es5/codec-utils"),q=t(a("webworkify")),z=t(a(
"./decrypter-worker")),W=undefined,f={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},G=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],X=function X(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Y=function Y(e,t){if(typeof e!=typeof t)return!0;if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1},K=function K(e){var t={codecCount:0},n=undefined;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,(n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(e))&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},Q=function Q(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,i.translateLegacyCodecs)([e])[0]})};o.mapLegacyAvcCodecs_=Q;var p=function p(e,t,n){return e+"/"+t+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'},g=function g(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"},m=function m(e){var t=e.attributes||{};return t.CODECS?K(t.CODECS):f},J=function J(e,t){var n=g(t),i=m(t),r=t.attributes||{},a=!0,o=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&r.AUDIO){var s=e.mediaGroups.AUDIO[r.AUDIO];if(s)for(var u in a=!(o=!0),s)if(!s[u].uri){a=!0;break}}o&&!i.audioProfile&&(H["default"].log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=f.audioProfile);var l={};i.videoCodec&&(l.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(l.audio="mp4a.40."+i.audioProfile);var d=p("audio",n,[l.audio]),c=p("video",n,[l.video]),h=p("video",n,[l.video,l.audio]);return o?!a&&l.video?[c,d]:[h,d]:l.video?[h]:[d]};o.mimeTypesForPlaylist_=J;var r=function(){function g(e){var t=this;D(this,g),N(Object.getPrototypeOf(g.prototype),"constructor",this).call(this);var n=e.url,i=e.withCredentials,r=e.mode,a=e.tech,o=e.bandwidth,s=e.externHls,u=e.useCueTags,l=e.blacklistDuration;if(!n)throw new Error("A non-empty playlist URL is required");W=s,this.withCredentials=i,this.tech_=a,this.hls_=a.hls,this.mode_=r,this.useCueTags_=u,this.blacklistDuration=l,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.audioGroups_={},this.subtitleGroups_={groups:{},tracks:{}},this.mediaSource=new H["default"].MediaSource({mode:r}),this.audioinfo_=null,this.mediaSource.on("audioinfo",this.handleAudioinfoUpdate_.bind(this)),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=H["default"].createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new $["default"],this.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!0).track,this.decrypter_=(0,q["default"])(z["default"]);var d={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function c(){return t.seekable()},seeking:function h(){return t.tech_.seeking()},duration:function f(){return t.mediaSource.duration},hasPlayed:function p(){return t.hasPlayed_()},bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new R["default"](n,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.audioPlaylistLoader_=null,this.subtitlePlaylistLoader_=null,this.mainSegmentLoader_=new B["default"](H["default"].mergeOptions(d,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"})),this.audioSegmentLoader_=new B["default"](H["default"].mergeOptions(d,{loaderType:"audio"})),this.subtitleSegmentLoader_=new U["default"](H["default"].mergeOptions(d,{loaderType:"vtt"})),this.setupSegmentLoaderListeners_(),G.forEach(function(e){t[e+"_"]=X.bind(t,e)}),this.masterPlaylistLoader_.load()}return I(g,H["default"].EventTarget),L(g,[{key:"setupMasterPlaylistLoaderListeners_",value:function e(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=i.masterPlaylistLoader_.media(),t=1.5*i.masterPlaylistLoader_.targetDuration*1e3;i.masterPlaylistLoader_.isLowestEnabledRendition_()?i.requestOptions_.timeout=0:i.requestOptions_.timeout=t,e.endList&&"none"!==i.tech_.preload()&&(i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load()),i.fillAudioTracks_(),i.setupAudio(),i.fillSubtitleTracks_(),i.setupSubtitles();try{i.setupSourceBuffers_()}catch(Z){return H["default"].log.warn("Failed to create SourceBuffers",Z),i.mediaSource.endOfStream("decode")}i.setupFirstPlay(),i.trigger("audioupdate"),i.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e,t,n=i.masterPlaylistLoader_.media();if(!n)return i.initialMedia_=i.selectPlaylist(),void i.masterPlaylistLoader_.media(i.initialMedia_);i.useCueTags_&&i.updateAdCues_(n),i.mainSegmentLoader_.playlist(n,i.requestOptions_),i.updateDuration(),i.tech_.paused()||i.mainSegmentLoader_.load(),n.endList||(t=function t(){var e=i.seekable();0!==e.length&&i.mediaSource.addSeekableRange_(e.start(0),e.end(0))},i.duration()!==Infinity?(e=function e(){i.duration()===Infinity?t():i.tech_.one("durationchange",e)},i.tech_.one("durationchange",e)):t())}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=i.masterPlaylistLoader_.media(),t=1.5*i.masterPlaylistLoader_.targetDuration*1e3;undefined,undefined;i.masterPlaylistLoader_.isLowestEnabledRendition_()?i.requestOptions_.timeout=0:i.requestOptions_.timeout=t,i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load(),i.activeAudioGroup().filter(function(e){return e.enabled})[0]||(i.setupAudio(),i.trigger("audioupdate")),i.setupSubtitles(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=i.masterPlaylistLoader_.media();i.stuckAtPlaylistEnd_(e)&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),i.tech_.trigger("playliststuck"))})}},{key:"setupSegmentLoaderListeners_",value:function t(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){e.masterPlaylistLoader_.media(e.selectPlaylist())}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("error",function(){H["default"].log.warn("Problem encountered with the current alternate audio track. Switching back to default."),e.audioSegmentLoader_.abort(),e.audioPlaylistLoader_=null,e.setupAudio()}),this.subtitleSegmentLoader_.on("error",this.handleSubtitleError_.bind(this))}},{key:"handleAudioinfoUpdate_",value:function n(e){if(!W.supportsAudioInfoChange_()&&this.audioInfo_&&Y(this.audioInfo_,e.info)){var t="had different audio properties (channels, sample rate, etc.) or changed in some other way.  This behavior is currently unsupported in Firefox 48 and below due to an issue: \n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1247138\n\n",n=this.activeAudioGroup().map(function(e){return e.enabled}).indexOf(!0),i=this.activeAudioGroup()[n],r=this.activeAudioGroup().filter(function(e){return e.properties_&&e.properties_["default"]})[0];this.audioPlaylistLoader_?(t="The audio track '"+i.label+"' that we tried to switch to "+t+" Unfortunately this means we will have to return you to the main track '"+r.label+"'. Sorry!",r.enabled=!0,this.activeAudioGroup().splice(n,1),this.trigger("audioupdate")):(t="The rendition that we tried to switch to "+t+"Unfortunately that means we will have to blacklist the current playlist and switch to another. Sorry!",this.blacklistCurrentPlaylist()),H["default"].log.warn(t),this.setupAudio()}else this.audioInfo_=e.info}},{key:"mediaSecondsLoaded_",value:function i(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"fillAudioTracks_",value:function r(){var e=this.master().mediaGroups||{};for(var t in e&&e.AUDIO&&0!==Object.keys(e.AUDIO).length&&"html5"===this.mode_||(e.AUDIO={main:{"default":{"default":!0}}}),e.AUDIO)for(var n in this.audioGroups_[t]||(this.audioGroups_[t]=[]),e.AUDIO[t]){var i=e.AUDIO[t][n],r=new H["default"].AudioTrack({id:n,kind:this.audioTrackKind_(i),enabled:!1,language:i.language,label:n});r.properties_=i,this.audioGroups_[t].push(r)}(this.activeAudioGroup().filter(function(e){return e.properties_["default"]})[0]||this.activeAudioGroup()[0]).enabled=!0}},{key:"audioTrackKind_",value:function a(e){var t=e["default"]?"main":"alternative";return e.characteristics&&0<=e.characteristics.indexOf("public.accessibility.describes-video")&&(t="main-desc"),t}},{key:"fillSubtitleTracks_",value:function o(){var e=this.master().mediaGroups||{};for(var t in e.SUBTITLES)for(var n in this.subtitleGroups_.groups[t]||(this.subtitleGroups_.groups[t]=[]),e.SUBTITLES[t]){var i=e.SUBTITLES[t][n];if(!i.forced&&(this.subtitleGroups_.groups[t].push(H["default"].mergeOptions({id:n},i)),"undefined"==typeof this.subtitleGroups_.tracks[n])){var r=this.tech_.addRemoteTextTrack({id:n,kind:"subtitles",enabled:!1,language:i.language,label:n},!0).track;this.subtitleGroups_.tracks[n]=r}}}},{key:"load",value:function s(){this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load(),this.subtitlePlaylistLoader_&&this.subtitleSegmentLoader_.load()}},{key:"activeAudioGroup",value:function u(){var e=this.masterPlaylistLoader_.media(),t=undefined;return e.attributes&&e.attributes.AUDIO&&(t=this.audioGroups_[e.attributes.AUDIO]),t||this.audioGroups_.main}},{key:"activeSubtitleGroup_",value:function l(){var e=this.masterPlaylistLoader_.media(),t=undefined;return e?(e.attributes&&e.attributes.SUBTITLES&&(t=this.subtitleGroups_.groups[e.attributes.SUBTITLES]),t||this.subtitleGroups_.groups.main):null}},{key:"activeSubtitleTrack_",value:function d(){for(var e in this.subtitleGroups_.tracks)if("showing"===this.subtitleGroups_.tracks[e].mode)return this.subtitleGroups_.tracks[e];return null}},{key:"handleSubtitleError_",value:function c(){H["default"].log.warn("Problem encountered loading the subtitle track. Switching back to default."),this.subtitleSegmentLoader_.abort();var e=this.activeSubtitleTrack_();e&&(e.mode="disabled"),this.setupSubtitles()}},{key:"setupAudio",value:function h(){var t=this,e=this.activeAudioGroup(),n=e.filter(function(e){return e.enabled})[0];n||((n=e.filter(function(e){return e.properties_["default"]})[0]||e[0]).enabled=!0),this.audioPlaylistLoader_&&(this.audioPlaylistLoader_.dispose(),this.audioPlaylistLoader_=null),this.audioSegmentLoader_.pause(),n.properties_.resolvedUri?(this.audioSegmentLoader_.resetEverything(),this.audioPlaylistLoader_=new R["default"](n.properties_.resolvedUri,this.hls_,this.withCredentials),this.audioPlaylistLoader_.load(),this.audioPlaylistLoader_.on("loadedmetadata",function(){var e=t.audioPlaylistLoader_.media();t.audioSegmentLoader_.playlist(e,t.requestOptions_),(!t.tech_.paused()||e.endList&&"none"!==t.tech_.preload())&&t.audioSegmentLoader_.load(),e.endList||t.audioPlaylistLoader_.trigger("firstplay")}),this.audioPlaylistLoader_.on("loadedplaylist",function(){var e=undefined;t.audioPlaylistLoader_&&(e=t.audioPlaylistLoader_.media()),e?t.audioSegmentLoader_.playlist(e,t.requestOptions_):t.audioPlaylistLoader_.media(t.audioPlaylistLoader_.playlists.master.playlists[0])}),this.audioPlaylistLoader_.on("error",function(){H["default"].log.warn("Problem encountered loading the alternate audio track. Switching back to default."),t.audioSegmentLoader_.abort(),t.setupAudio()})):this.mainSegmentLoader_.resetEverything()}},{key:"setupSubtitles",value:function f(){var t=this,e=this.activeSubtitleGroup_(),n=this.activeSubtitleTrack_();if(this.subtitleSegmentLoader_.pause(),n){var i=e.filter(function(e){return e.id===n.id})[0];this.subtitlePlaylistLoader_&&this.subtitlePlaylistLoader_.media()&&this.subtitlePlaylistLoader_.media().resolvedUri===i.resolvedUri||(this.subtitlePlaylistLoader_&&this.subtitlePlaylistLoader_.dispose(),this.subtitleSegmentLoader_.resetEverything(),this.subtitlePlaylistLoader_=new R["default"](i.resolvedUri,this.hls_,this.withCredentials),this.subtitlePlaylistLoader_.on("loadedmetadata",function(){var e=t.subtitlePlaylistLoader_.media();t.subtitleSegmentLoader_.playlist(e,t.requestOptions_),t.subtitleSegmentLoader_.track(t.activeSubtitleTrack_()),(!t.tech_.paused()||e.endList&&"none"!==t.tech_.preload())&&t.subtitleSegmentLoader_.load()}),this.subtitlePlaylistLoader_.on("loadedplaylist",function(){var e=undefined;t.subtitlePlaylistLoader_&&(e=t.subtitlePlaylistLoader_.media()),e&&t.subtitleSegmentLoader_.playlist(e,t.requestOptions_)}),this.subtitlePlaylistLoader_.on("error",this.handleSubtitleError_.bind(this))),this.subtitlePlaylistLoader_.media()&&this.subtitlePlaylistLoader_.media().resolvedUri===i.resolvedUri?this.subtitleSegmentLoader_.load():this.subtitlePlaylistLoader_.load()}else this.subtitlePlaylistLoader_&&(this.subtitlePlaylistLoader_.dispose(),this.subtitlePlaylistLoader_=null)}},{key:"fastQualityChange_",value:function p(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function m(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===Infinity&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function y(){var e=undefined,t=this.masterPlaylistLoader_.media();return!(!t||this.tech_.paused()||this.hasPlayed_())&&(t.endList||(this.trigger("firstplay"),(e=this.seekable()).length&&this.tech_.setCurrentTime(e.end(0))),this.hasPlayed_=function(){return!0},this.load(),!0)}},{key:"handleSourceOpen_",value:function v(){try{this.setupSourceBuffers_()}catch(Z){return H["default"].log.warn("Failed to create Source Buffers",Z),this.mediaSource.endOfStream("decode")}this.tech_.autoplay()&&this.tech_.play(),this.trigger("sourceopen")}},{key:"stuckAtPlaylistEnd_",value:function b(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var n=W.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=F["default"].TIME_FUDGE_FACTOR;var a=r.end(r.length-1);return a-i<=F["default"].TIME_FUDGE_FACTOR&&n-a<=F["default"].TIME_FUDGE_FACTOR}},{key:"blacklistCurrentPlaylist",value:function _(e){var t=arguments.length<=0||e===undefined?{}:arguments[0],n=undefined,i=undefined;if(!(n=t.playlist||this.masterPlaylistLoader_.media())){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(Z){return this.trigger("error")}}var r=this.masterPlaylistLoader_.isFinalRendition_();return r?(H["default"].log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(n.excludeUntil=Date.now()+1e3*this.blacklistDuration,this.tech_.trigger("blacklistplaylist"),i=this.selectPlaylist(),H["default"].log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i))}},{key:"pauseLoading",value:function T(){this.mainSegmentLoader_.pause(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.pause(),this.subtitlePlaylistLoader_&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function w(e){var t=F["default"].findRange(this.tech_.buffered(),e);if(!this.masterPlaylistLoader_||!this.masterPlaylistLoader_.media())return 0;if(!this.masterPlaylistLoader_.media().segments)return 0;var n="flash"===this.mode_||"auto"===this.mode_&&!H["default"].MediaSource.supportsNativeMediaSources();if(t&&t.length&&!n)return e;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.audioPlaylistLoader_&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.subtitlePlaylistLoader_&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load(),this.subtitlePlaylistLoader_&&this.subtitleSegmentLoader_.load())}},{key:"duration",value:function S(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:W.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function k(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function C(){var e=undefined,t=undefined;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(e=W.Playlist.seekable(n,i)).length){if(this.audioPlaylistLoader_){if(n=this.audioPlaylistLoader_.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(t=W.Playlist.seekable(n,i)).length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=H["default"].createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function x(){var e=this,t=this.mediaSource.duration,n=W.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function r(){e.mediaSource.duration=n,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",r)};0<i.length&&(n=Math.max(n,i.end(i.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function E(){this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.audioPlaylistLoader_&&this.audioPlaylistLoader_.dispose(),this.subtitlePlaylistLoader_&&this.subtitlePlaylistLoader_.dispose(),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function A(){return this.masterPlaylistLoader_.master}},{key:"media",value:function O(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function P(){var e=this.masterPlaylistLoader_.media(),t=undefined;if(e&&"open"===this.mediaSource.readyState){if((t=J(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(t[0]),t[1]&&this.audioSegmentLoader_.mimeType(t[1]),this.excludeIncompatibleVariants_(e)}}},{key:"excludeIncompatibleVariants_",value:function j(e){var t=this.masterPlaylistLoader_.master,i=2,r=null,n=undefined;e.attributes&&e.attributes.CODECS&&(n=K(e.attributes.CODECS),r=n.videoCodec,i=n.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes&&e.attributes.CODECS){var n=e.attributes.CODECS;t=K(n),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+Q(n)+'"')&&(e.excludeUntil=Infinity)}t.codecCount!==i&&(e.excludeUntil=Infinity),t.videoCodec!==r&&(e.excludeUntil=Infinity)})}},{key:"updateAdCues_",value:function M(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),V["default"].updateAdCues(e,this.cueTagsTrack_,t)}}]),g}();o.MasterPlaylistController=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad-cue-tags":1,"./decrypter-worker":4,"./playlist-loader":8,"./ranges":10,"./segment-loader":14,"./sync-controller":17,"./vtt-segment-loader":18,"videojs-contrib-media-sources/es5/codec-utils":64,webworkify:75}],6:[function(a,e,_){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(_,"__esModule",{value:!0});var c=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),o=a("./bin-utils"),s={FAILURE:2,TIMEOUT:-101,ABORTED:-102};_.REQUEST_ERRORS=s;var n=function n(e){undefined;var t=undefined;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t},h=function h(e){var t={};return e.byterange&&(t.Range=n(e.byterange)),t},f=function f(e){e.forEach(function(e){e.abort()})},u=function u(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},i=function i(e){var t=e.target,n=Date.now()-t.requestTime,i={bandwidth:Infinity,bytesReceived:0,roundTripTime:n||0};return e.lengthComputable&&(i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3)),i},l=function l(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:s.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:s.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:s.FAILURE,xhr:t}:null},p=function p(a,o){return function(e,t){var n=t.response,i=l(e,t);if(i)return o(i,a);if(16!==n.byteLength)return o({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:s.FAILURE,xhr:t},a);var r=new DataView(n);return a.key.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),o(null,a)}},g=function g(r,a){return function(e,t){var n=t.response,i=l(e,t);return i?a(i,r):0===n.byteLength?a({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:s.FAILURE,xhr:t},r):(r.map.bytes=new Uint8Array(t.response),a(null,r))}},m=function m(r,a){return function(e,t){var n=t.response,i=l(e,t);return i?a(i,r):0===n.byteLength?a({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:s.FAILURE,xhr:t},r):(r.stats=u(t),r.key?r.encryptedBytes=new Uint8Array(t.response):r.bytes=new Uint8Array(t.response),a(null,r))}},d=function d(n,i,r){var a=function a(e){if(e.data.source===i.requestId){n.removeEventListener("message",a);var t=e.data.decrypted;return i.bytes=new Uint8Array(t.bytes,t.byteOffset,t.byteLength),r(null,i)}};n.addEventListener("message",a),n.postMessage((0,o.createTransferableMessage)({source:i.requestId,encrypted:i.encryptedBytes,key:i.key.bytes,iv:i.key.iv}),[i.encryptedBytes.buffer,i.key.bytes.buffer])},y=function y(e){return e.reduce(function(e,t){return t.code>e.code?t:e})},v=function v(i,r,a){var o=[],s=0;return function(e,t){if(e&&(f(i),o.push(e)),(s+=1)===i.length){if(t.endOfAllRequests=Date.now(),0<o.length){var n=y(o);return a(n,t)}return t.encryptedBytes?d(r,t,a):a(null,t)}}},b=function b(t,n){return function(e){return t.stats=i(e),n(e,t)}},r=function r(e,t,n,i,r,a){var o=[],s=v(o,n,a);if(i.key){var u=e(c["default"].mergeOptions(t,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),p(i,s));o.push(u)}if(i.map&&!i.map.bytes){var l=e(c["default"].mergeOptions(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:h(i.map)}),g(i,s));o.push(l)}var d=e(c["default"].mergeOptions(t,{uri:i.resolvedUri,responseType:"arraybuffer",headers:h(i)}),m(i,s));return d.addEventListener("progress",b(i,r)),o.push(d),function(){return f(o)}};_.mediaSegmentRequest=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2}],7:[function(i,r,a){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var p=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),g=t(i("global/window")),m=t(i("./ranges")),y=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),v=["seeking","seeked","pause","playing","error"],n=function(){function a(e){var t=this;f(this,a),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=y["default"].log.bind(y["default"],"playback-watcher ->")),this.logger_("initialize");var n=function n(){return t.techWaiting_()},i=function i(){return t.cancelTimer_()},r=function r(){return t.fixesBadSeeks_()};this.tech_.on("seekablechanged",r),this.tech_.on("waiting",n),this.tech_.on(v,i),this.monitorCurrentTime_(),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",r),t.tech_.off("waiting",n),t.tech_.off(v,i),t.checkCurrentTimeTimeout_&&g["default"].clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}return p(a,[{key:"monitorCurrentTime_",value:function e(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&g["default"].clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=g["default"].setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function t(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function n(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function i(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.outsideOfSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Trying to seek outside of seekable at time "+t+" with seekable range "+m["default"].printableRange(e)+". Seeking to "+n+"."),this.tech_.setCurrentTime(n),!0}return!1}},{key:"waiting_",value:function r(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=m["default"].findRange(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger("unknownwaiting")):void 0}}},{key:"techWaiting_",value:function o(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.fellOutOfLiveWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger("liveresync"),!0}var i=this.tech_.buffered(),r=m["default"].findNextRange(i,t);if(this.videoUnderflow_(r,i,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger("videounderflow"),!0;if(0<r.length){var a=r.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1}},{key:"outsideOfSeekableWindow_",value:function s(e,t){return!!e.length&&(t<e.start(0)-.1||t>e.end(e.length-1)+.1)}},{key:"fellOutOfLiveWindow_",value:function u(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0))}},{key:"videoUnderflow_",value:function l(e,t,n){if(0===e.length){var i=this.gapFromVideoUnderflow_(t,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function d(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),i=m["default"].findNextRange(t,n);this.cancelTimer_(),0!==i.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+m["default"].TIME_FUDGE_FACTOR))}},{key:"gapFromVideoUnderflow_",value:function c(e,t){for(var n=m["default"].findGaps(e),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(t-r<4&&2<t-r)return{start:r,end:a}}return null}},{key:"logger_",value:function h(){}}]),a}();a["default"]=n,r.exports=a["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ranges":10,"global/window":30}],8:[function(i,r,a){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var d,c=t(i("./resolve-url")),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,h=i("./playlist.js"),n=t(i("./stream")),f=t(i("m3u8-parser")),p=t(i("global/window")),l=function l(e,t,n){var i=t.slice(),r=undefined,a=undefined;for(n=n||0,r=Math.min(e.length,t.length+n),a=n;a<r;a++)i[a-n]=(0,u.mergeOptions)(e[a],i[a-n]);return i},g=function g(e,t){for(var n=!1,i=(0,u.mergeOptions)(e,{}),r=e.playlists.length,a=undefined,o=undefined,s=undefined;r--;)if((a=i.playlists[r]).uri===t.uri){if(a.segments&&t.segments&&a.segments.length===t.segments.length&&a.mediaSequence===t.mediaSequence)continue;for(i.playlists[r]=(0,u.mergeOptions)(a,t),i.playlists[t.uri]=i.playlists[r],a.segments&&(i.playlists[r].segments=l(a.segments,t.segments,t.mediaSequence-a.mediaSequence)),s=0,i.playlists[r].segments&&(s=i.playlists[r].segments.length);s--;)(o=i.playlists[r].segments[s]).resolvedUri||(o.resolvedUri=(0,c["default"])(a.resolvedUri,o.uri)),o.key&&!o.key.resolvedUri&&(o.key.resolvedUri=(0,c["default"])(a.resolvedUri,o.key.uri)),o.map&&!o.map.resolvedUri&&(o.map.resolvedUri=(0,c["default"])(a.resolvedUri,o.map.uri));n=!0}return n?i:null};(d=function d(a,e,t){var n=this,o=this,i=undefined,s=undefined,u=undefined,r=undefined,l=undefined;if(d.prototype.constructor.call(this),this.hls_=e,!a)throw new Error("A non-empty playlist URL is required");r=function(e,t,n){o.setBandwidth(u||e),u=null,n&&(o.state=n),o.error={playlist:o.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:500<=e.status?4:2},o.trigger("error")},l=function(e,t){var n=undefined,i=undefined,r=undefined;o.setBandwidth(u||e),u=null,o.state="HAVE_METADATA",(n=new f["default"].Parser).push(e.responseText),n.end(),n.manifest.uri=t,r=g(o.master,n.manifest),i=1e3*(n.manifest.targetDuration||10),o.targetDuration=n.manifest.targetDuration,r?(o.master=r,o.media_=o.master.playlists[n.manifest.uri]):(i/=2,o.trigger("playlistunchanged")),o.media().endList||(p["default"].clearTimeout(s),s=p["default"].setTimeout(function(){o.trigger("mediaupdatetimeout")},i)),o.trigger("loadedplaylist")},o.state="HAVE_NOTHING",i=this.dispose,o.dispose=function(){o.stopRequest(),p["default"].clearTimeout(s),i.call(this)},o.stopRequest=function(){if(u){var e=u;u=null,e.onreadystatechange=null,e.abort()}},o.enabledPlaylists_=function(){return o.master.playlists.filter(h.isEnabled).length},o.isLowestEnabledRendition_=function(){if(1===o.master.playlists.length)return!0;var n=o.media().attributes.BANDWIDTH||Number.MAX_VALUE;return 0===o.master.playlists.filter(function(e){if(!(0,h.isEnabled)(e))return!1;var t=0;return e&&e.attributes&&(t=e.attributes.BANDWIDTH),t<n}).length},o.isFinalRendition_=function(){return 1===o.master.playlists.filter(h.isEnabled).length},o.media=function(n){var i=o.state,e=undefined;if(!n)return o.media_;if("HAVE_NOTHING"===o.state)throw new Error("Cannot switch media playlist from "+o.state);if("string"==typeof n){if(!o.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=o.master.playlists[n]}if(e=!o.media_||n.uri!==o.media_.uri,o.master.playlists[n.uri].endList)return u&&(u.onreadystatechange=null,u.abort(),u=null),o.state="HAVE_METADATA",o.media_=n,void(e&&(o.trigger("mediachanging"),o.trigger("mediachange")));if(e){if(o.state="SWITCHING_MEDIA",u){if((0,c["default"])(o.master.uri,n.uri)===u.url
)return;u.onreadystatechange=null,u.abort(),u=null}this.media_&&this.trigger("mediachanging"),u=this.hls_.xhr({uri:(0,c["default"])(o.master.uri,n.uri),withCredentials:t},function(e,t){if(u){if(e)return r(u,n.uri,i);l(t,n.uri),"HAVE_MASTER"===i?o.trigger("loadedmetadata"):o.trigger("mediachange")}})}},o.setBandwidth=function(e){o.bandwidth=e.bandwidth},o.on("mediaupdatetimeout",function(){"HAVE_METADATA"===o.state&&(o.state="HAVE_CURRENT_METADATA",u=this.hls_.xhr({uri:(0,c["default"])(o.master.uri,o.media().uri),withCredentials:t},function(e){if(u)return e?r(u,o.media().uri,"HAVE_METADATA"):void l(u,o.media().uri)}))}),o.on("firstplay",function(){var e=o.media();e&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0})}),o.pause=function(){o.stopRequest(),p["default"].clearTimeout(s),"HAVE_NOTHING"===o.state&&(o.started=!1)},o.load=function(e){var t=o.media();if(p["default"].clearTimeout(s),e){var n=t?t.targetDuration/2*1e3:5e3;s=p["default"].setTimeout(o.load.bind(null,!1),n)}else o.started?t&&!t.endList?o.trigger("mediaupdatetimeout"):o.trigger("loadedplaylist"):o.start()},o.start=function(){o.started=!0,u=n.hls_.xhr({uri:a,withCredentials:t},function(e,t){var n=undefined,i=undefined,r=undefined;if(u){if(u=null,e)return o.error={status:t.status,message:"HLS playlist request error at URL: "+a,responseText:t.responseText,code:2},"HAVE_NOTHING"===o.state&&(o.started=!1),o.trigger("error");if((n=new f["default"].Parser).push(t.responseText),n.end(),o.state="HAVE_MASTER",n.manifest.uri=a,n.manifest.playlists){for(o.master=n.manifest,r=o.master.playlists.length;r--;)i=o.master.playlists[r],(o.master.playlists[i.uri]=i).resolvedUri=(0,c["default"])(o.master.uri,i.uri);return["AUDIO","SUBTITLES"].forEach(function(e){for(var t in o.master.mediaGroups[e])for(var n in o.master.mediaGroups[e][t]){var i=o.master.mediaGroups[e][t][n];i.uri&&(i.resolvedUri=(0,c["default"])(o.master.uri,i.uri))}}),o.trigger("loadedplaylist"),void(u||o.media(n.manifest.playlists[0]))}return o.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:p["default"].location.href,playlists:[{uri:a}]},o.master.playlists[a]=o.master.playlists[0],o.master.playlists[0].resolvedUri=a,l(t,a),o.trigger("loadedmetadata")}})}}).prototype=new n["default"],a["default"]=d,r.exports=a["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist.js":9,"./resolve-url":13,"./stream":16,"global/window":30,"m3u8-parser":31}],9:[function(b,e,_){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(_,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,i=t(b("global/window")),a={UNSAFE_LIVE_SEGMENTS:3},o=function o(e,t){var n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if("undefined"!=typeof r.start)return{result:r.start,precise:!0};if("undefined"!=typeof r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if("undefined"!=typeof(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,"undefined"!=typeof r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},s=function s(e,t){for(var n=0,i=undefined,r=t-e.mediaSequence;r<e.segments.length;r++){if("undefined"!=typeof(i=e.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,"undefined"!=typeof i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},u=function u(e,t,n){var i=undefined,r=undefined;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(i=o(e,t)).precise?i.result:(r=s(e,t)).precise?r.result:i.result+n},l=function l(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return i["default"].Infinity}return u(e,t,n)};_.duration=l;var d=function d(e,t,n){var i=0;if(n<t){var r=[n,t];t=r[0],n=r[1]}if(t<0){for(var a=t;a<Math.min(0,n);a++)i+=e.targetDuration;t=0}for(a=t;a<n;a++)i+=e.segments[a].duration;return i};_.sumDurations=d;var c=function c(e,t,n){if(!e||!e.segments)return null;if(e.endList)return l(e);if(null===t)return null;t=t||0;var i=n?Math.max(0,e.segments.length-a.UNSAFE_LIVE_SEGMENTS):Math.max(0,e.segments.length);return u(e,e.mediaSequence+i,t)};_.playlistEnd=c;var n=function n(e,t){var n=t||0,i=c(e,t,!0);return null===i?(0,r.createTimeRange)():(0,r.createTimeRange)(n,i)};_.seekable=n;var h,f=function f(e){return e-Math.floor(e)==0},p=(h=function h(e,t){if(f(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),a=t*r;if(f(a)||i===n)return(a+e)/r}}).bind(null,1),g=h.bind(null,-1),m=function m(e,t,n,i){var r=undefined,a=undefined,o=e.segments.length,s=t-i;if(s<0){if(0<n)for(r=n-1;0<=r;r--)if(a=e.segments[r],0<(s+=g(a.duration)))return{mediaIndex:r,startTime:i-d(e,n,r)};return{mediaIndex:0,startTime:t}}if(n<0){for(r=n;r<0;r++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(r=n;r<o;r++)if(a=e.segments[r],(s-=p(a.duration))<0)return{mediaIndex:r,startTime:i+d(e,n,r)};return{mediaIndex:o-1,startTime:t}};_.getMediaInfoForTime_=m;var y=function y(e){return e.excludeUntil&&e.excludeUntil>Date.now()};_.isBlacklisted=y;var v=function v(e){var t=y(e);return!e.disabled&&!t};_.isEnabled=v,a.duration=l,a.seekable=n,a.getMediaInfoForTime_=m,a.isEnabled=v,a.isBlacklisted=y,a.playlistEnd=c,_["default"]=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":30}],10:[function(e,g,m){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(m,"__esModule",{value:!0});var a=function(){function n(e,t){var n=[],i=!0,r=!1,a=undefined;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(u){r=!0,a=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),i=1/30,l=function l(e,t){var n=a(t,2),i=n[0],r=n[1];return Math.min(Math.max(i,e),r)},r=function r(e,t){var n=[],i=undefined;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return u["default"].createTimeRanges(n)},n=function n(e,n){return r(e,function(e,t){return e-i<=n&&n<=t+i})},o=function o(e,t){return r(e,function(e){return t<=e-i})},s=function s(e){if(e.length<2)return u["default"].createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return u["default"].createTimeRanges(t)},d=function d(e,t){var n=undefined,i=undefined,r=undefined,a=[],o=[],s=function s(e){return e[0]<=r&&e[1]>=r};if(e)for(n=0;n<e.length;n++)i=e.start(n),r=e.end(n),o.push([i,r]);if(t)for(n=0;n<t.length;n++)i=t.start(n),r=t.end(n),o.some(s)||a.push(r);return 1!==a.length?null:a[0]},c=function c(e,t){var n=null,i=null,r=0,a=[],o=[];if(!(e&&e.length&&t&&t.length))return u["default"].createTimeRange();for(var s=e.length;s--;)a.push({time:e.start(s),type:"start"}),a.push({time:e.end(s),type:"end"});for(s=t.length;s--;)a.push({time:t.start(s),type:"start"}),a.push({time:t.end(s),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),s=0;s<a.length;s++)"start"===a[s].type?2===++r&&(n=a[s].time):"end"===a[s].type&&1===--r&&(i=a[s].time),null!==n&&null!==i&&(o.push([n,i]),i=n=null);return u["default"].createTimeRanges(o)},h=function h(e,t,n,i){for(var r=t.end(0)-t.start(0),a=r-(e.end(0)-e.start(0)),o=c(e,i),s=c(t,i),u=0,l=0,d=o.length;d--;)u+=o.end(d)-o.start(d),o.start(d)===n&&(u+=a);for(d=s.length;d--;)l+=s.end(d)-s.start(d);return Math.max(u,l)/r*100},f=function f(e,t,n,i){var r=e+t,a=u["default"].createTimeRanges([[e,r]]),o=u["default"].createTimeRanges([[l(e,[n,r]),r]]);if(o.start(0)===o.end(0))return 0;var s=h(o,a,n,i);return isNaN(s)||s===Infinity||s===-Infinity?0:s},p=function p(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")};m["default"]={findRange:n,findNextRange:o,findGaps:s,findSoleUncommonTimeRangesEnd:d,getSegmentBufferedPercent:f,TIME_FUDGE_FACTOR:i,printableRange:p},g.exports=m["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,r,a){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var d=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),c={errorInterval:30,getSource:function n(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},h=function h(t,e){var n=0,i=0,r=d["default"].mergeOptions(c,e),a=function a(){i&&t.currentTime(i)},o=function o(e){null!==e&&e!==undefined&&(i=t.duration()!==Infinity&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.play())},s=function s(){if(!(Date.now()-n<1e3*r.errorInterval)){if(r.getSource&&"function"==typeof r.getSource)return n=Date.now(),r.getSource.call(t,o);d["default"].log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},u=function u(){t.off("loadedmetadata",a),t.off("error",s),t.off("dispose",u)},l=function l(e){u(),h(t,e)};t.on("error",s),t.on("dispose",u),t.reloadSourceOnError=l},i=function i(e){h(this,e)};a["default"]=i,r.exports=a["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./playlist.js"),u=function u(e,t,n,i){var r=e.master.playlists[t],a=(0,s.isBlacklisted)(r),o=(0,s.isEnabled)(r);return void 0===i?o:(i?delete r.disabled:r.disabled=!0,i===o||a||n(),i)},l=function l(e,t,n){o(this,l);var i=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(t.attributes){var r=t.attributes;if(r.RESOLUTION){var a=r.RESOLUTION;this.width=a.width,this.height=a.height}this.bandwidth=r.BANDWIDTH}this.id=n,this.enabled=u.bind(this,e.playlists,t.uri,i)},i=function i(t){var e=t.playlists;t.representations=function(){return e.master.playlists.filter(function(e){return!(0,s.isBlacklisted)(e)}).map(function(e){return new l(t,e,e.uri)})}};n["default"]=i,t.exports=n["default"]},{"./playlist.js":9}],13:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("url-toolkit")),a=i(e("global/window")),o=function o(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=r["default"].buildAbsoluteURL(a["default"].location.href,e)),r["default"].buildAbsoluteURL(e,t))};n["default"]=o,t.exports=n["default"]},{"global/window":30,"url-toolkit":61}],14:[function(r,a,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var R=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),B=function n(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},U=r("./playlist"),F=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),H=t(r("./source-updater")),V=t(r("./config")),$=t(r("global/window")),q=t(r("videojs-contrib-media-sources/es5/remove-cues-from-track.js")),z=r("./bin-utils"),W=r("./media-segment-request"),G=500,X=function X(e,t,n){if(!e||!t)return!1;var i=n===e.segments.length;return e.endList&&"open"===t.readyState&&i},i=function(){function i(e){var t=this;if(L(this,i),B(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization options are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");var n=F["default"].mergeOptions(F["default"].options.hls,e);this.state="INIT",this.bandwidth=n.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=n.hasPlayed,this.currentTime_=n.currentTime,this.seekable_=n.seekable,this.seeking_=n.seeking,this.duration_=n.duration,this.mediaSource_=n.mediaSource,this.hls_=n.hls,this.loaderType_=n.loaderType,this.segmentMetadataTrack_=n.segmentMetadataTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=n.decrypter,this.syncController_=n.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),this.fetchAtBuffer_=!1,n.debug&&(this.logger_=F["default"].log.bind(F["default"],"segment-loader",this.loaderType_,"->"))}return N(i,F["default"].EventTarget),R(i,[{key:"resetStats_",value:function e(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function t(){this.state="DISPOSED",this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function n(){"WAITING"===this.state?(this.abort_(),this.paused()||(this.state="READY",this.monitorBuffer_())):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function r(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function a(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"buffered_",value:function o(){return this.sourceUpdater_?this.sourceUpdater_.buffered():F["default"].createTimeRanges()}},{key:"initSegment",value:function s(e,t){var n=!(arguments.length<=1||t===undefined)&&arguments[1];if(!e)return null;var i=(0,z.initSegmentId)(e),r=this.initSegments_[i];return n&&!r&&e.bytes&&(this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),r||e}},{key:"couldBeginLoading_",value:function u(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function l(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function d(){return this.state="READY",this.sourceUpdater_=new H["default"](this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function c(e,t){var n=arguments.length<=1||t===undefined?{}:arguments[1];if(e){var i=this.playlist_,r=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=n,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(i&&i.uri===e.uri){var a=e.mediaSequence-i.mediaSequence;this.logger_("mediaSequenceDiff",a),null!==this.mediaIndex&&(this.mediaIndex-=a),r&&(r.mediaIndex-=a,0<=r.mediaIndex&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function h(){this.checkBufferTimeout_&&($["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function f(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function p(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function g(){this.resetLoader(),this.remove(0,Infinity)}},{key:"resetLoader",value:function m(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function y(){this.mediaIndex=null,this.syncPoint_=null}},{key:"remove",value:function v(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,q["default"])(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function b(){this.checkBufferTimeout_&&$["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=$["default"].setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function _(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&$["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=$["default"].setTimeout(this.monitorBufferTick_.bind(this),G)}},{key:"fillBuffer_",value:function T(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e)X(this.playlist_,this.mediaSource_,e.mediaIndex)?this.mediaSource_.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e))}}},{key:"checkBuffer_",value:function w(e,t,n,i,r,a){var o=0,s=undefined;e.length&&(o=e.end(e.length-1));var u,l=Math.max(0,o-r);if(!t.segments.length)return null;if(l>=V["default"].GOAL_BUFFER_LENGTH)return null;if(!i&&1<=l)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",i,"currentTime:",r,"syncPoint:",a,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",l),null===a)return n=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var d=t.segments[n];return s=d&&d.end?d.end:o,this.generateSegmentInfo_(t,n+1,s,!1)}this.fetchAtBuffer_?(n=(u=(0,U.getMediaInfoForTime_)(t,o,a.segmentIndex,a.time)).mediaIndex,s=u.startTime):(n=(u=(0,U.getMediaInfoForTime_)(t,r,a.segmentIndex,a.time)).mediaIndex,s=u.startTime);return this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",s),this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function S(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function k(e,t,n,i){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:i,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"loadSegment_",value:function C(e){var n=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,W.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),function(e,t){n.pendingSegment_&&t.requestId===n.pendingSegment_.requestId&&n.trigger("progress")},this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function x(){var e=this.seekable_(),t=this.currentTime_(),n=0;0<(n=e.length&&0<e.start(0)&&e.start(0)<t?e.start(0):t-60)&&this.remove(0,n)}},{key:"createSimplifiedSegmentObj_",value:function E(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key={resolvedUri:t.key.resolvedUri,iv:i}}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function A(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,e.code===W.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.state="READY",this.pause(),e.code===W.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function O(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function P(){var n=this;if(this.pendingSegment_){this.state="APPENDING";var e=this.pendingSegment_,i=e.segment;if(this.syncController_.probeSegmentInfo(e),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&this.sourceUpdater_.timestampOffset(e.timestampOffset),i.map&&function(){var e=(0,z.initSegmentId)(i.map);if(!n.activeInitSegmentId_||n.activeInitSegmentId_!==e){var t=n.initSegment(i.map);n.sourceUpdater_.appendBuffer(t.bytes,function(){n.activeInitSegmentId_=e})}}(),e.byteLength=e.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function j(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;(this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration)?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),X(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.mediaSource_.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function M(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}},{key:"logger_",value:function D(){}},{key:"addSegmentMetadataCue_",value:function I(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,i=t.end;(0,q["default"])(n,i,this.segmentMetadataTrack_);var r=$["default"].WebKitDataCue||$["default"].VTTCue,a={uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:i},o=new r(n,i,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}}]),i}();o["default"]=i,a.exports=o["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./media-segment-request":6,"./playlist":9,"./source-updater":15,"global/window":30,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":71}],15:[function(e,i,r){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),h=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),f=function f(){},n=function(){function r(e,t){var n=this;d(this,r);var i=function i(){n.sourceBuffer_=e.addSourceBuffer(t),n.onUpdateendCallback_=function(){var e=n.pendingCallback_;n.pendingCallback_=null,e&&e(),n.runCallback_()},n.sourceBuffer_.addEventListener("updateend",n.onUpdateendCallback_),n.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,"closed"===e.readyState?e.addEventListener("sourceopen",i):i()}return c(r,[{key:"abort",value:function e(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function t(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function n(){return this.sourceBuffer_?this.sourceBuffer_.buffered:h["default"].createTimeRanges()}},{key:"remove",value:function i(e,t){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.sourceBuffer_.remove(e,t)},f)}},{key:"updating",value:function a(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function o(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function s(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function u(){var e=undefined;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function l(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),r}();r["default"]=n,i.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),i=function(){function e(){o(this,e),this.listeners={}}return s(e,[{key:"on",value:function t(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function n(e,t){var n=undefined;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),-1<n)}},{key:"trigger",value:function i(e,t){var n=undefined,i=undefined,r=undefined,a=undefined;if(n=this.listeners[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,t);else for(a=Array.prototype.slice.call(arguments,1),r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},{key:"dispose",value:function r(){this.listeners={}}},{key:"pipe",value:function a(t){this.on("data",function(e){t.push(e)})}}]),e}();n["default"]=i,t.exports=n["default"]},{}],17:[function(a,e,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),v=function n(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},b=t(a("mux.js/lib/mp4/probe")),_=a("mux.js/lib/tools/ts-inspector.js"),T=a("./playlist"),w=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),S=[{name:"VOD",run:function i(e,t,n){return n!==Infinity?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function i(e,t){return e.datetimeToDisplayTime&&t.dateTimeObject?{time:t.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function i(e,t,n,i,r){var a=t.segments,o=null,s=null;r=r||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.timeline===i&&"undefined"!=typeof l.start){var d=Math.abs(r-l.start);if(null!==s&&s<d)break;(!o||null===s||d<=s)&&(s=d,o={time:l.start,segmentIndex:u})}}return o}},{name:"Discontinuity",run:function i(e,t,n,i,r){var a=null;if(r=r||0,t.discontinuityStarts.length)for(var o=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,d=e.discontinuities[l];if(d){var c=Math.abs(r-d.time);if(null!==o&&o<c)break;(!a||null===o||c<=o)&&(o=c,a={time:d.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function i(e,t){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}];o.syncPointStrategies=S;var r=function(){function e(){g(this,e),v(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.inspectCache_=undefined,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,w["default"].options.hls&&w["default"].options.hls.debug&&(this.logger_=w["default"].log.bind(w["default"],"sync-controller ->"))}return m(e,w["default"].EventTarget),y(e,[{key:"getSyncPoint",value:function t(e,t,n,i){var r=this.runStrategies_(e,t,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function n(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return 0<i.segmentIndex&&(i.time*=-1),Math.abs(i.time+(0,T.sumDurations)(e,i.segmentIndex,0))}},{key:"runStrategies_",value:function i(e,t,n,i){for(var r=[],a=0;a<S.length;a++){var o=S[a],s=o.run(this,e,t,n,i);s&&(s.strategy=o.name,r.push({strategy:o.name,syncPoint:s}),this.logger_("syncPoint found via <"+o.name+">:",s))}return r}},{key:"selectSyncPoint_",value:function r(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,a=1;a<e.length;a++){var o=Math.abs(e[a].syncPoint[t.key]-t.value);o<i&&(i=o,n=e[a].syncPoint,r=e[a].strategy)}return this.logger_("syncPoint with strategy <"+r+"> chosen: ",n),n}},{key:"saveExpiredSegmentInfo",value:function a(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;0<=n;n--){var i=e.segments[n];if(i&&"undefined"!=typeof i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function o(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function s(){this.inspectCache_=undefined}},{key:"probeSegmentInfo",value:function u(e){var t=e.segment,n=undefined;(n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,n)&&this.saveDiscontinuitySyncInfo_(e)}},{key:"probeMp4Segment_",value:function l(e){var t=e.segment,
n=b["default"].timescale(t.map.bytes),i=b["default"].startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=i),{start:i,end:i+t.duration}}},{key:"probeTsSegment_",value:function d(e){var t=(0,_.inspect)(e.bytes,this.inspectCache_),n=undefined,i=undefined;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,i=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,i=t.audio[1].dtsTime),{start:n,end:i}):null}},{key:"timestampOffsetForTimeline",value:function c(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"calculateSegmentTimeMapping_",value:function h(e,t){var n=e.segment,i=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),i={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=i,this.trigger("timestampoffset"),n.start=e.startOfSegment,n.end=t.end+i.mapping;else{if(!i)return!1;n.start=t.start+i.mapping,n.end=t.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function f(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,o=r-e.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var u=undefined;u=o<0?n.start-(0,T.sumDurations)(t,e.mediaIndex,r):n.end+(0,T.sumDurations)(t,e.mediaIndex+1,r),this.discontinuities[a]={time:u,accuracy:s}}}}},{key:"logger_",value:function p(){}}]),e}();o["default"]=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist":9,"mux.js/lib/mp4/probe":55,"mux.js/lib/tools/ts-inspector.js":57}],18:[function(r,a,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),g=function n(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},m=t(r("./segment-loader")),y=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),v=t(r("global/window")),b=t(r("videojs-contrib-media-sources/es5/remove-cues-from-track.js")),_=r("./bin-utils"),T=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),w=function w(e){return String.fromCharCode.apply(null,e)},i=function(){function t(e){h(this,t),g(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.mediaSource_=null,this.subtitlesTrack_=null}return f(t,m["default"]),p(t,[{key:"buffered_",value:function e(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return y["default"].createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return y["default"].createTimeRanges([[t,n]])}},{key:"initSegment",value:function n(e,t){var n=!(arguments.length<=1||t===undefined)&&arguments[1];if(!e)return null;var i=(0,_.initSegmentId)(e),r=this.initSegments_[i];if(n&&!r&&e.bytes){var a=T.byteLength+e.bytes.byteLength,o=new Uint8Array(a);o.set(e.bytes),o.set(T,e.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}},{key:"couldBeginLoading_",value:function i(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function r(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function a(e){this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()}},{key:"remove",value:function o(e,t){(0,b["default"])(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function s(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){var n=function n(){e.state="READY",e.paused()||e.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function u(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function l(){var t=this;if(this.pendingSegment_){this.state="APPENDING";var e,n=this.pendingSegment_,i=n.segment;if("function"!=typeof v["default"].WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=(e=function e(){t.handleSegment_()},t.state="WAITING_ON_VTTJS",t.subtitlesTrack_.tech_.one("vttjsloaded",e),t.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")}),{v:undefined});if("object"==typeof r)return r.v}i.requested=!0;try{this.parseVTTCues_(n)}catch(Z){return this.error({message:Z.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,n.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function d(t){var e=undefined,n=!1;"function"==typeof v["default"].TextDecoder?e=new v["default"].TextDecoder("utf8"):(e=v["default"].WebVTT.StringDecoder(),n=!0);var i=new v["default"].WebVTT.Parser(v["default"],v["default"].vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){return t.timestampmap=e},i.onparsingerror=function(e){y["default"].log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map){var r=t.segment.map.bytes;n&&(r=w(r)),i.parse(r)}var a=t.bytes;n&&(a=w(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function c(e,t,n){var i=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=a,e.endTime+=a}),!n.syncInfo){var o=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(o,s-i.duration)}}}else i.empty=!0}}]),t}();o["default"]=i,a.exports=o["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./segment-loader":14,"global/window":30,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":71}],19:[function(e,i,r){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var s="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,u=t(s),n=function n(){return function o(e,i){e=(0,s.mergeOptions)({timeout:45e3},e);var t=o.beforeRequest||u["default"].Hls.xhr.beforeRequest;if(t&&"function"==typeof t){var n=t(e);n&&(e=n)}var r=(0,s.xhr)(e,function(e,t){var n=r.response;!e&&n&&(r.responseTime=Date.now(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=n.byteLength||n.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(r.timedout=!0),e||r.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(r&&(n||r.responseText)))),i(e,r)}),a=r.abort;return r.abort=function(){return r.aborted=!0,a.apply(r,arguments)},r.uri=e.uri,r.requestTime=Date.now(),r}};r["default"]=n,i.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){"use strict";function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),h=function h(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4],a=undefined,o=undefined,s=undefined,u=[],l=[],d=undefined,c=undefined,h=(undefined,undefined),f=undefined,p=undefined;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!i[o];o^=d||1,s=l[s]||1)for(h=(h=s^s<<1^s<<2^s<<3^s<<4)>>8^255&h^99,p=16843009*u[c=u[d=u[r[i[o]=h]=o]]]^65537*c^257*d^16843008*o,f=257*u[h]^16843008*h,a=0;a<4;a++)t[a][o]=f=f<<24^f>>>8,n[a][h]=p=p<<24^p>>>8;for(a=0;a<5;a++)t[a]=t[a].slice(0),n[a]=n[a].slice(0);return e},f=null,r=function(){function d(e){c(this,d),f||(f=h()),this._tables=[[f[0][0].slice(),f[0][1].slice(),f[0][2].slice(),f[0][3].slice(),f[0][4].slice()],[f[1][0].slice(),f[1][1].slice(),f[1][2].slice(),f[1][3].slice(),f[1][4].slice()]];var t=undefined,n=undefined,i=undefined,r=undefined,a=undefined,o=this._tables[0][4],s=this._tables[1],u=e.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=e.slice(0),a=[],this._key=[r,a],t=u;t<4*u+28;t++)i=r[t-1],(t%u==0||8===u&&t%u==4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],t%u==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),r[t]=r[t-u]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],a[n]=t<=4||n<4?i:s[0][o[i>>>24]]^s[1][o[i>>16&255]]^s[2][o[i>>8&255]]^s[3][o[255&i]]}return i(d,[{key:"decrypt",value:function e(e,t,n,i,r,a){var o=this._key[1],s=e^o[0],u=i^o[1],l=n^o[2],d=t^o[3],c=undefined,h=undefined,f=undefined,p=o.length/4-2,g=undefined,m=4,y=this._tables[1],v=y[0],b=y[1],_=y[2],T=y[3],w=y[4];for(g=0;g<p;g++)c=v[s>>>24]^b[u>>16&255]^_[l>>8&255]^T[255&d]^o[m],h=v[u>>>24]^b[l>>16&255]^_[d>>8&255]^T[255&s]^o[m+1],f=v[l>>>24]^b[d>>16&255]^_[s>>8&255]^T[255&u]^o[m+2],d=v[d>>>24]^b[s>>16&255]^_[u>>8&255]^T[255&l]^o[m+3],m+=4,s=c,u=h,l=f;for(g=0;g<4;g++)r[(3&-g)+a]=w[s>>>24]<<24^w[u>>16&255]<<16^w[l>>8&255]<<8^w[255&d]^o[m++],c=s,s=u,u=l,l=d,d=c}}]),d}();n["default"]=r,t.exports=n["default"]},{}],21:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=function u(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},l=i(e("./stream")),d=function(){function e(){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,l["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return a(e,l["default"]),o(e,[{key:"processJob_",value:function t(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function n(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),e}();n["default"]=d,t.exports=n["default"]},{"./stream":24}],22:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),m=i(e("./aes")),d=i(e("./async-stream")),c=e("pkcs7"),y=function y(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},a=function a(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new m["default"](Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),o=new Int32Array(a.buffer),s=undefined,u=undefined,l=undefined,d=undefined,c=undefined,h=undefined,f=undefined,p=undefined,g=undefined;for(s=n[0],u=n[1],l=n[2],d=n[3],g=0;g<i.length;g+=4)c=y(i[g]),h=y(i[g+1]),f=y(i[g+2]),p=y(i[g+3]),r.decrypt(c,h,f,p,o,g),o[g]=y(o[g]^s),o[g+1]=y(o[g+1]^u),o[g+2]=y(o[g+2]^l),o[g+3]=y(o[g+3]^d),s=c,u=h,l=f,d=p;return a};n.decrypt=a;var o=function(){function u(e,t,n,i){l(this,u);var r=u.STEP,a=new Int32Array(e.buffer),o=new Uint8Array(e.byteLength),s=0;for(this.asyncStream_=new d["default"],this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),t,n,o)),s=r;s<a.length;s+=r)n=new Uint32Array([y(a[s-4]),y(a[s-3]),y(a[s-2]),y(a[s-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+r),t,n,o));this.asyncStream_.push(function(){i(null,(0,c.unpad)(o))})}return r(u,[{key:"decryptChunk_",value:function e(t,n,i,r){return function(){var e=a(t,n,i);r.set(e,t.byteOffset)}}}],[{key:"STEP",get:function t(){return 32e3}}]),u}();n.Decrypter=o,n["default"]={Decrypter:o,decrypt:a}},{"./aes":20,"./async-stream":21,pkcs7:26}],23:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./decrypter"),a=i(e("./async-stream"));n["default"]={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:a["default"]},t.exports=n["default"]},{"./async-stream":21,"./decrypter":22}],24:[function(e,t,n,i,r){r[16][0].apply(n,arguments)},{dup:16}],25:[function(e,t){"use strict";var i;t.exports=function n(e){var t=i[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},i=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],26:[function(e,t,n){"use strict";n.pad=e("./pad.js"),n.unpad=e("./unpad.js")},{"./pad.js":25,"./unpad.js":27}],27:[function(e,t){"use strict";t.exports=function n(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],28:[function(){},{}],29:[function(r,a){(function(e){var t,n=void 0!==e?e:"undefined"!=typeof window?window:{},i=r("min-document");"undefined"!=typeof document?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"])||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=i),a.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":28}],30:[function(e,n){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=n(e("./line-stream")),r=n(e("./parse-stream")),a=n(e("./parser"));t.exports={LineStream:i["default"],ParseStream:r["default"],Parser:a["default"]}},{"./line-stream":32,"./parse-stream":33,"./parser":34}],32:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=i(e("./stream")),l=function(){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return o(t,u["default"]),s(t,[{key:"push",value:function e(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}();n["default"]=l},{"./stream":35}],33:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function n(e,t){var n=[],i=!0,r=!1,a=undefined;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(u){r=!0,a=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=i(e("./stream")),l=function l(){return new RegExp("(?:^|,)("+("(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")")+")")},c=function c(e){for(var t=e.split(l()),n={},i=t.length,r=void 0;i--;)""!==t[i]&&((r=/([^=]*)=(.*)/.exec(t[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n},h=function(){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return o(e,u["default"]),s(e,[{key:"push",value:function t(e){var t=void 0,n=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var i=c(t[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var r=i.BYTERANGE.split("@"),a=d(r,2),o=a[0],s=a[1];n.byterange={},o&&(n.byterange.length=parseInt(o,10)),s&&(n.byterange.offset=parseInt(s,10))}}this.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=c(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=c(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=c(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})}}]),e}();n["default"]=h},{"./stream":35}],34:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=i(e("./stream")),l=i(e("./line-stream")),d=i(e("./parse-stream")),c=function(){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new l["default"],e.parseStream=new d["default"],e.lineStream.pipe(e.parseStream);var T=e,w=[],S={},k=void 0,C=void 0,x=function x(){},E={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},A=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(v){var b=void 0,_=void 0;({tag:function e(){({"allow-cache":function e(){this.manifest.allowCache=v.allowed,"allowed"in v||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function t(){var e={};"length"in v&&((S.byterange=e).length=v.length,"offset"in v||(this.trigger("info",{message:"defaulting offset to zero"}),v.offset=0)),"offset"in v&&((S.byterange=e).offset=v.offset)},endlist:function n(){this.manifest.endList=!0},inf:function i(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<v.duration&&(S.duration=v.duration),0===v.duration&&(S.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=w},key:function r(){v.attributes?"NONE"!==v.attributes.METHOD?v.attributes.URI?(v.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),C={method:v.attributes.METHOD||"AES-128",uri:v.attributes.URI},"undefined"!=typeof v.attributes.IV&&(C.iv=v.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):C=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function a(){isFinite(v.number)?this.manifest.mediaSequence=v.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+v.number})},"discontinuity-sequence":function o(){isFinite(v.number)?(this.manifest.discontinuitySequence=v.number,A=v.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+v.number})},"playlist-type":function s(){/VOD|EVENT/.test(v.playlistType)?this.manifest.playlistType=v.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+v.playlist})},map:function u(){k={},v.uri&&(k.uri=v.uri),v.byterange&&(k.byterange=v.byterange)},"stream-inf":function l(){this.manifest.playlists=w,this.manifest.mediaGroups=this.manifest.mediaGroups||E,v.attributes?(S.attributes||(S.attributes={}),O(S.attributes,v.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function d(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||E,v.attributes&&v.attributes.TYPE&&v.attributes["GROUP-ID"]&&v.attributes.NAME){var e=this.manifest.mediaGroups[v.attributes.TYPE];e[v.attributes["GROUP-ID"]]=e[v.attributes["GROUP-ID"]]||{},b=e[v.attributes["GROUP-ID"]],(_={"default":/yes/i.test(v.attributes.DEFAULT)})["default"]?_.autoselect=!0:_.autoselect=/yes/i.test(v.attributes.AUTOSELECT),v.attributes.LANGUAGE&&(_.language=v.attributes.LANGUAGE),v.attributes.URI&&(_.uri=v.attributes.URI),v.attributes["INSTREAM-ID"]&&(_.instreamId=v.attributes["INSTREAM-ID"]),v.attributes.CHARACTERISTICS&&(_.characteristics=v.attributes.CHARACTERISTICS),v.attributes.FORCED&&(_.forced=/yes/i.test(v.attributes.FORCED)),b[v.attributes.NAME]=_}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function c(){A+=1,S.discontinuity=!0,this.manifest.discontinuityStarts.push(w.length)},"program-date-time":function h(){this.manifest.dateTimeString=v.dateTimeString,this.manifest.dateTimeObject=v.dateTimeObject},targetduration:function f(){!isFinite(v.duration)||v.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+v.duration}):this.manifest.targetDuration=v.duration},totalduration:function p(){!isFinite(v.duration)||v.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+v.duration}):this.manifest.totalDuration=v.duration},"cue-out":function g(){S.cueOut=v.data},"cue-out-cont":function m(){S.cueOutCont=v.data},"cue-in":function y(){S.cueIn=v.data}}[v.tagType]||x).call(T)},uri:function t(){S.uri=v.uri,w.push(S),!this.manifest.targetDuration||"duration"in S||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),S.duration=this.manifest.targetDuration),C&&(S.key=C),S.timeline=A,k&&(S.map=k),S={}},comment:function n(){}})[v.type].call(T)}),e}return o(t,u["default"]),s(t,[{key:"push",value:function e(e){this.lineStream.push(e)}},{key:"end",value:function n(){this.lineStream.push("\n")}}]),t}();n["default"]=c},{"./line-stream":32,"./parse-stream":33,"./stream":35}],35:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),i=function(){function e(){o(this,e),this.listeners={}}return s(e,[{key:"on",value:function t(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function n(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),-1<n}},{key:"trigger",value:function i(e,t){var n=this.listeners[e],i=void 0,r=void 0,a=void 0;if(n)if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,t);else for(a=Array.prototype.slice.call(arguments,1),r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},{key:"dispose",value:function r(){this.listeners={}}},{key:"pipe",value:function a(t){this.on("data",function(e){t.push(e)})}}]),e}();n["default"]=i},{}],36:[function(e,t){"use strict";var n,i=e("../utils/stream.js");(n=function(){var s=new Uint8Array,u=0;n.prototype.init.call(this),this.setTimestamp=function(e){u=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},this.push=function(e){var t,n,i,r,a=0,o=0;for(s.length?(r=s.length,(s=new Uint8Array(e.byteLength+r)).set(s.subarray(0,r)),s.set(e,r)):s=e;3<=s.length-o;)if(s[o]!=="I".charCodeAt(0)||s[o+1]!=="D".charCodeAt(0)||s[o+2]!=="3".charCodeAt(0))if(!0&s[o]&&240==(240&s[o+1])){if(s.length-o<7)break;if((a=this.parseAdtsSize(s,o))>s.length)break;i={type:"audio",data:s.subarray(o,o+a),pts:u,dts:u},this.trigger("data",i),o+=a}else o++;else{if(s.length-o<10)break;if((a=this.parseId3TagSize(s,o))>s.length)break;n={type:"timed-metadata",data:s.subarray(o,o+a)},this.trigger("data",n),o+=a}t=s.length-o,s=0<t?s.subarray(o):new Uint8Array}}).prototype=new i,t.exports=n},{"../utils/stream.js":60}],37:[function(e,t){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},i=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2)
;return r},u=function(e,t,n){return unescape(i(e,t,n))},r=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},a=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},o=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},l=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},d=function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=s(e.subarray(10,14)));do{if((n=s(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"===u(i,0,r)){var a=i.subarray(r+1),o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return o*=4,o+=3&a[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null};t.exports={parseId3TagSize:r,parseAdtsSize:a,parseType:o,parseSampleRate:l,parseAacTimestamp:d}},{}],38:[function(e,t){"use strict";var n,i=e("../utils/stream.js"),d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(){var l;n.prototype.init.call(this),this.push=function(e){var t,n,i,r,a,o,s=0,u=0;if("audio"===e.type)for(l?(r=l,(l=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),l.set(e.data,r.byteLength)):l=e.data;s+5<l.length;)if(255===l[s]&&240==(246&l[s+1])){if(n=2*(1&~l[s+1]),t=(3&l[s+3])<<11|l[s+4]<<3|(224&l[s+5])>>5,o=9e4*(a=1024*(1+(3&l[s+6])))/d[(60&l[s+2])>>>2],i=s+t,l.byteLength<i)return;if(this.trigger("data",{pts:e.pts+u*o,dts:e.dts+u*o,sampleCount:a,audioobjecttype:1+(l[s+2]>>>6&3),channelcount:(1&l[s+2])<<2|(192&l[s+3])>>>6,samplerate:d[(60&l[s+2])>>>2],samplingfrequencyindex:(60&l[s+2])>>>2,samplesize:16,data:l.subarray(s+7+n,i)}),l.byteLength===i)return void(l=undefined);u++,l=l.subarray(i)}else s++},this.flush=function(){this.trigger("done")}}).prototype=new i,t.exports=n},{"../utils/stream.js":60}],39:[function(e,t){"use strict";var u,l,_,n=e("../utils/stream.js"),T=e("../utils/exp-golomb.js");(l=function(){var n,i,r=0;l.prototype.init.call(this),this.push=function(e){var t;for(i?((t=new Uint8Array(i.byteLength+e.data.byteLength)).set(i),t.set(e.data,i.byteLength),i=t):i=e.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}}).prototype=new n,_={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(u=function(){var n,i,r,a,o,s,b,t=new l;u.prototype.init.call(this),(n=this).push=function(e){"video"===e.type&&(i=e.trackId,r=e.pts,a=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:i,pts:r,dts:a,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=o(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=o(e.subarray(1)),t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",t)}),t.on("done",function(){n.trigger("done")}),this.flush=function(){t.flush()},b=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},o=function(e){for(var t,n,i=e.byteLength,r=[],a=1;a<i-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=e[o];return n},s=function(e){var t,n,i,r,a,o,s,u,l,d,c,h,f,p=0,g=0,m=0,y=0,v=1;if(n=(t=new T(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),_[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(c=3!==a?8:12,f=0;f<c;f++)t.readBoolean()&&b(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),s=t.readUnsignedExpGolomb(),f=0;f<s;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:h=[1,1];break;case 2:h=[12,11];break;case 3:h=[10,11];break;case 4:h=[16,11];break;case 5:h=[40,33];break;case 6:h=[24,11];break;case 7:h=[20,11];break;case 8:h=[32,11];break;case 9:h=[80,33];break;case 10:h=[18,11];break;case 11:h=[15,11];break;case 12:h=[64,33];break;case 13:h=[160,99];break;case 14:h=[4,3];break;case 15:h=[3,2];break;case 16:h=[2,1];break;case 255:h=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}h&&(v=h[0]/h[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*p-2*g)*v),height:(2-d)*(l+1)*16-2*m-2*y}}}).prototype=new n,t.exports={H264Stream:u,NalByteStream:l}},{"../utils/exp-golomb.js":59,"../utils/stream.js":60}],40:[function(e,t){var n=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],r=function(e){for(var t=[];e--;)t.push(0);return t},a=function(n){return Object.keys(n).reduce(function(e,t){return e[t]=new Uint8Array(n[t].reduce(function(e,t){return e.concat(t)},[])),e},{})},o={96e3:[n,[227,64],r(154),[56]],88200:[n,[231],r(170),[56]],64e3:[n,[248,192],r(240),[56]],48e3:[n,[255,192],r(268),[55,148,128],r(54),[112]],44100:[n,[255,192],r(268),[55,163,128],r(84),[112]],32e3:[n,[255,192],r(268),[55,234],r(226),[112]],24e3:[n,[255,192],r(268),[55,255,128],r(268),[111,112],r(126),[224]],16e3:[n,[255,192],r(268),[55,255,128],r(268),[111,255],r(269),[223,108],r(195),[1,192]],12e3:[i,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,253,128],r(259),[56]],11025:[i,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,255,192],r(268),[55,175,128],r(108),[112]],8e3:[i,r(268),[3,121,16],r(47),[7]]};t.exports=a(o)},{}],41:[function(e,t){"use strict";var n=e("../utils/stream.js"),i=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};i.prototype=new n,i.prototype.flush=function(e){var t,n,i,r,a={tags:{},captions:[],metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,i=0;i<this.pendingCaptions.length;i++)(n=this.pendingCaptions[i]).startTime=n.startPts-r,n.startTime/=9e4,n.endTime=n.endPts-r,n.endTime/=9e4,a.captions.push(n);for(i=0;i<this.pendingMetadata.length;i++)(t=this.pendingMetadata[i]).cueTime=t.pts-r,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},t.exports=i},{"../utils/stream.js":60}],42:[function(e,t){"use strict";var u=e("./flv-tag.js"),n=function(e,t,n){var i,r,a,o=new Uint8Array(9),s=new DataView(o.buffer);return e=e||0,t=t===undefined||t,n=n===undefined||n,s.setUint8(0,70),s.setUint8(1,76),s.setUint8(2,86),s.setUint8(3,1),s.setUint8(4,(t?4:0)|(n?1:0)),s.setUint32(5,o.byteLength),e<=0?((r=new Uint8Array(o.byteLength+4)).set(o),r.set([0,0,0,0],o.byteLength)):((i=new u(u.METADATA_TAG)).pts=i.dts=0,i.writeMetaDataDouble("duration",e),a=i.finalize().length,(r=new Uint8Array(o.byteLength+a)).set(o),r.set(s.byteLength,a)),r};t.exports=n},{"./flv-tag.js":43}],43:[function(e,t){"use strict";var l;(l=function(e,n){var t,i=0,r=16384,a=function(e,t){var n,i=e.position+t;i<e.bytes.byteLength||((n=new Uint8Array(2*i)).set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},o=l.widthBytes||new Uint8Array("width".length),s=l.heightBytes||new Uint8Array("height".length),u=l.videocodecidBytes||new Uint8Array("videocodecid".length);if(!l.widthBytes){for(t=0;t<"width".length;t++)o[t]="width".charCodeAt(t);for(t=0;t<"height".length;t++)s[t]="height".charCodeAt(t);for(t=0;t<"videocodecid".length;t++)u[t]="videocodecid".charCodeAt(t);l.widthBytes=o,l.heightBytes=s,l.videocodecidBytes=u}switch(this.keyFrame=!1,e){case l.VIDEO_TAG:this.length=16,r*=6;break;case l.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case l.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(r),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=n,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var i,r=t||0;i=r+(n=n||e.byteLength),a(this,n),this.bytes.set(e.subarray(r,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){a(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){a(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(0<i)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===i+4?this.length-=4:0<i&&(t=i+4,n=this.length-t,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),i=0},this.writeMetaDataDouble=function(e,t){var n;if(a(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(o,this.position),this.position+=5;else if("height"===e)this.bytes.set(s,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(u,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var n;for(a(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)a(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,t;switch(this.bytes[0]){case l.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||n?16:32),this.bytes[12]=n?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case l.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=n?0:1;break;case l.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return t=this.length-11,this.bytes[1]=(16711680&t)>>>16,this.bytes[2]=(65280&t)>>>8,this.bytes[3]=(255&t)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=l.frameTime(this.bytes),this}}).AUDIO_TAG=8,l.VIDEO_TAG=9,l.METADATA_TAG=18,l.isAudioFrame=function(e){return l.AUDIO_TAG===e[0]},l.isVideoFrame=function(e){return l.VIDEO_TAG===e[0]},l.isMetaData=function(e){return l.METADATA_TAG===e[0]},l.isKeyFrame=function(e){return l.isVideoFrame(e)?23===e[11]:!!l.isAudioFrame(e)||!!l.isMetaData(e)},l.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},t.exports=l},{}],44:[function(e,t){t.exports={tag:e("./flv-tag"),Transmuxer:e("./transmuxer"),getFlvHeader:e("./flv-header")}},{"./flv-header":42,"./flv-tag":43,"./transmuxer":46}],45:[function(e,t){"use strict";var n=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})};t.exports=n},{}],46:[function(e,t){"use strict";var p,g,m,i,s,u,n=e("../utils/stream.js"),l=e("./flv-tag.js"),y=e("../m2ts/m2ts.js"),v=e("../codecs/adts.js"),b=e("../codecs/h264").H264Stream,_=e("./coalesce-stream.js"),d=e("./tag-list.js");i=function(e,t){"number"==typeof t.pts&&(e.timelineStartInfo.pts===undefined?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(e.timelineStartInfo.dts===undefined?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var n=new l(l.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},u=function(e,t){var n,i=new l(l.VIDEO_TAG,!0);for(i.dts=t,i.pts=t,i.writeByte(1),i.writeByte(e.profileIdc),i.writeByte(e.profileCompatibility),i.writeByte(e.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(e.sps[0].length),i.writeBytes(e.sps[0]),i.writeByte(e.pps.length),n=0;n<e.pps.length;++n)i.writeShort(e.pps[n].length),i.writeBytes(e.pps[n]);return i},(m=function(r){var a,o=[];m.prototype.init.call(this),this.push=function(e){i(r,e),r&&r.channelcount===undefined&&(r.audioobjecttype=e.audioobjecttype,r.channelcount=e.channelcount,r.samplerate=e.samplerate,r.samplingfrequencyindex=e.samplingfrequencyindex,r.samplesize=e.samplesize,r.extraData=r.audioobjecttype<<11|r.samplingfrequencyindex<<7|r.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),o.push(e)},this.flush=function(){var e,t,n,i=new d;if(0!==o.length){for(n=-Infinity;o.length;)e=o.shift(),(r.extraData!==a||1e3<=e.pts-n)&&((t=new l(l.METADATA_TAG)).pts=e.pts,t.dts=e.dts,t.writeMetaDataDouble("audiocodecid",10),t.writeMetaDataBoolean("stereo",2===r.channelcount),t.writeMetaDataDouble("audiosamplerate",r.samplerate),t.writeMetaDataDouble("audiosamplesize",16),i.push(t.finalize()),a=r.extraData,(t=new l(l.AUDIO_TAG,!0)).pts=e.pts,t.dts=e.dts,t.view.setUint16(t.position,r.extraData),t.position+=2,t.length=Math.max(t.length,t.position),i.push(t.finalize()),n=e.pts),(t=new l(l.AUDIO_TAG)).pts=e.pts,t.dts=e.dts,t.writeBytes(e.data),i.push(t.finalize());a=null,this.trigger("data",{track:r,tags:i.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")}}).prototype=new n,(g=function(r){var a,o,n=[];g.prototype.init.call(this),this.finishFrame=function(e,t){if(t){if(a&&r&&r.newMetadata&&(t.keyFrame||0===e.length)){var n=s(a,t.dts).finalize(),i=u(r,t.dts).finalize();n.metaDataTag=i.metaDataTag=!0,e.push(n),e.push(i),r.newMetadata=!1}t.endNalUnit(),e.push(t.finalize()),o=null}},this.push=function(e){i(r,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){for(var e,t=new d;n.length&&"access_unit_delimiter_rbsp"!==n[0].nalUnitType;)n.shift();if(0!==n.length){for(;n.length;)"seq_parameter_set_rbsp"===(e=n.shift()).nalUnitType?(r.newMetadata=!0,a=e.config,r.width=a.width,r.height=a.height,r.sps=[e.data],r.profileIdc=a.profileIdc,r.levelIdc=a.levelIdc,r.profileCompatibility=a.profileCompatibility,o.endNalUnit()):"pic_parameter_set_rbsp"===e.nalUnitType?(r.newMetadata=!0,r.pps=[e.data],o.endNalUnit()):"access_unit_delimiter_rbsp"===e.nalUnitType?(o&&this.finishFrame(t,o),(o=new l(l.VIDEO_TAG)).pts=e.pts,o.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(o.keyFrame=!0),o.endNalUnit()),o.startNalUnit(),o.writeBytes(e.data);o&&this.finishFrame(t,o),this.trigger("data",{track:r,tags:t.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new n,(p=function(e){var t,n,i,r,a,o,s,u,l,d,c,h,f=this;p.prototype.init.call(this),e=e||{},this.metadataStream=new y.MetadataStream,e.metadataStream=this.metadataStream,t=new y.TransportPacketStream,n=new y.TransportParseStream,i=new y.ElementaryStream,r=new y.TimestampRolloverStream("video"),a=new y.TimestampRolloverStream("audio"),o=new y.TimestampRolloverStream("timed-metadata"),s=new v,u=new b,h=new _(e),t.pipe(n).pipe(i),i.pipe(r).pipe(u),i.pipe(a).pipe(s),i.pipe(o).pipe(this.metadataStream).pipe(h),c=new y.CaptionStream,u.pipe(c).pipe(h),i.on("data",function(e){var t,n,i;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(i=e.tracks[t]);n&&!l&&(h.numberOfTracks++,l=new g(n),u.pipe(l).pipe(h)),i&&!d&&(h.numberOfTracks++,d=new m(i),s.pipe(d).pipe(h))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},h.on("data",function(e){f.trigger("data",e)}),h.on("done",function(){f.trigger("done")})}).prototype=new n,t.exports=p},{"../codecs/adts.js":38,"../codecs/h264":39,"../m2ts/m2ts.js":48,"../utils/stream.js":60,"./coalesce-stream.js":41,"./flv-tag.js":43,"./tag-list.js":45}],47:[function(e,t){"use strict";var a=4,o=128,n=e("../utils/stream"),i=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&e[t]!==o;){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&i===a){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,r=i=0}return n},r=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},s=function(e,t){var n,i,r,a,o=[];if(!(64&t[0]))return o;for(i=31&t[0],n=0;n<i;n++)a={type:3&t[(r=3*n)+2],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],o.push(a));return o},u=function(){u.prototype.init.call(this),this.captionPackets_=[],this.field1_=new S,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};u.prototype=new n,u.prototype.push=function(e){var t,n;"sei_rbsp"===e.nalUnitType&&(t=i(e.escapedRBSP)).payloadType===a&&(n=r(t))&&(this.captionPackets_=this.captionPackets_.concat(s(e.pts,n)))},u.prototype.flush=function(){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0),this.field1_.flush()};var l={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},d=function(e){return null===e?"":(e=l[e]||e,String.fromCharCode(e))},c=0,h=5152,f=5167,p=5157,g=5158,m=5159,y=5165,v=5153,b=5164,_=5166,T=14,w=function(){for(var e=[],t=T+1;t--;)e.push("");return e},S=function(){S.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=w(),this.nonDisplayed_=w(),this.lastControlCode_=null,this.push=function(e){var t,n,i,r;if(0===e.type)if((t=32639&e.ccData)!==this.lastControlCode_)switch(this.lastControlCode_=4096==(61440&t)?t:null,t){case c:break;case h:this.mode_="popOn";break;case f:this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;break;case p:this.topRow_=T-1,this.mode_="rollUp";break;case g:this.topRow_=T-2,this.mode_="rollUp";break;case m:this.topRow_=T-3,this.mode_="rollUp";break;case y:this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;break;case v:"popOn"===this.mode_?this.nonDisplayed_[T]=this.nonDisplayed_[T].slice(0,-1):this.displayed_[T]=this.displayed_[T].slice(0,-1);break;case b:this.flushDisplayed(e.pts),this.displayed_=w();break;case _:this.nonDisplayed_=w();break;default:if(r=255&t,16<=(i=t>>>8)&&i<=23&&64<=r&&r<=127&&(16!==i||r<96)&&(i=32,r=null),(17===i||25===i)&&48<=r&&r<=63&&(i=9834,r=""),16==(240&i))return;0===i&&(i=null),0===r&&(r=null),this[this.mode_](e.pts,i,r)}else this.lastControlCode_=null}};S.prototype=new n,S.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("\n");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t})},S.prototype.popOn=function(e,t,n){var i=this.nonDisplayed_[T];i+=d(t),i+=d(n),this.nonDisplayed_[T]=i},S.prototype.rollUp=function(e,t,n){var i=this.displayed_[T];""===i&&(this.flushDisplayed(e),this.startPts_=e),i+=d(t),i+=d(n),this.displayed_[T]=i},S.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<T;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[T]=""},t.exports={CaptionStream:u,Cea608Stream:S}},{"../utils/stream":60}],48:[function(e,t){"use strict";var n,s,r,i=e("../utils/stream.js"),a=e("./caption-stream"),l=e("./stream-types"),o=e("./timestamp-rollover-stream").TimestampRolloverStream,d=e("./stream-types.js"),u=188,c=71;(n=function(){var r=new Uint8Array(u),a=0;n.prototype.init.call(this),this.push=function(e){var t,n=0,i=u;for(a?((t=new Uint8Array(e.byteLength+a)).set(r.subarray(0,a)),t.set(e,a),a=0):t=e;i<t.byteLength;)t[n]!==c||t[i]!==c?(n++,i++):(this.trigger("data",t.subarray(n,i)),n+=u,i+=u);n<t.byteLength&&(r.set(t.subarray(n),0),a=t.byteLength-n)},this.flush=function(){a===u&&r[0]===c&&(this.trigger("data",r),a=0),this.trigger("done")}}).prototype=new i,(s=function(){var i,r,a,o;s.prototype.init.call(this),(o=this).packetsWaitingForPmt=[],this.programMapTable=undefined,i=function(e,t){var n=0;t.payloadUnitStartIndicator&&(n+=e[n]+1),"pat"===t.type?r(e.subarray(n),t):a(e.subarray(n),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],o.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=o.pmtPid},a=function(e,t){var n,i;if(1&e[5]){for(o.programMapTable={},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;)o.programMapTable[(31&e[i+1])<<8|e[i+2]]=e[i],i+=5+((15&e[i+3])<<8|e[i+4]);for(t.programMapTable=o.programMapTable;o.packetsWaitingForPmt.length;)o.processPes_.apply(o,o.packetsWaitingForPmt.shift())}},this.push=function(e){var t={},n=4;t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(n+=e[n]+1),0===t.pid?(t.type="pat",i(e.subarray(n),t),this.trigger("data",t)):t.pid===this.pmtPid?(t.type="pmt",i(e.subarray(n),t),this.trigger("data",t)):this.programMapTable===undefined?this.packetsWaitingForPmt.push([e,n,t]):this.processPes_(e,n,t)},this.processPes_=function(e,t,n){n.streamType=this.programMapTable[n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new i,s.STREAM_TYPES={h264:27,adts:15},(r=function(){var o=this,n={data:[],size:0},i={data:[],size:0},a={data:[],size:0},s=function(e,t){var n;t.dataAlignmentIndicator=0!=(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},u=function(e,t){var n,i=new Uint8Array(e.size),r={type:t},a=0;if(e.data.length){for(r.trackId=e.data[0].pid;e.data.length;)n=e.data.shift(),i.set(n.data,a),a+=n.data.byteLength;s(i,r),e.size=0,o.trigger("data",r)}};r.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var e,t;switch(r.streamType){case l.H264_STREAM_TYPE:case d.H264_STREAM_TYPE:e=n,t="video";break;case l.ADTS_STREAM_TYPE:e=i,t="audio";break;case l.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&u(e,t),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var e,t,n={type:"metadata",tracks:[]},i=r.programMapTable;for(e in i)i.hasOwnProperty(e)&&((t={timelineStartInfo:{baseMediaDecodeTime:0}}).id=+e,i[e]===d.H264_STREAM_TYPE?(t.codec="avc",t.type="video"):i[e]===d.ADTS_STREAM_TYPE&&(t.codec="adts",t.type="audio"),n.tracks.push(t));o.trigger("data",n)}})[r.type]()},this.flush=function(){u(n,"video"),u(i,"audio"),u(a,"timed-metadata"),this.trigger("done")}}).prototype=new i;var h={PAT_PID:0,MP2T_PACKET_LENGTH:u,TransportPacketStream:n,TransportParseStream:s,ElementaryStream:r,TimestampRolloverStream:o,CaptionStream:a.CaptionStream,Cea608Stream:a.Cea608Stream,MetadataStream:e("./metadata-stream")};for(var f in l)l.hasOwnProperty(f)&&(h[f]=l[f]);t.exports=h},{"../utils/stream.js":60,"./caption-stream":47,"./metadata-stream":49,"./stream-types":51,"./stream-types.js":51,"./timestamp-rollover-stream":52}],49:[function(e,t){"use strict";var n,i=e("../utils/stream"),r=e("./stream-types"),a=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},o=function(e,t,n){return decodeURIComponent(a(e,t,n))},s=function(e,t,n){return unescape(a(e,t,n))},h=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},f={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=o(e.data,1,t),e.value=o(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=o(e.data,1,t),e.url=o(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=s(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(n=function(e){var t,u={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},l=0,d=[],c=0;if(n.prototype.init.call(this),this.dispatchType=r.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(t=0;t<u.descriptor.length;t++)this.dispatchType+=("00"+u.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,i,r,a;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(c=0,d.length=0),0===d.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))u.debug&&console.log("Skipping unrecognized metadata packet");else if(d.push(e),c+=e.data.byteLength,1===d.length&&(l=h(e.data.subarray(6,10)),l+=10),!(c<l)){for(t={data:new Uint8Array(l),frames:[],pts:d[0].pts,dts:d[0].dts},a=0;a<l;)t.data.set(d[0].data.subarray(0,l-a),a),a+=d[0].data.byteLength,c-=d[0].data.byteLength,d.shift();n=10,64&t.data[5]&&(n+=4,n+=h(t.data.subarray(10,14)),l-=h(t.data.subarray(16,20)));do{if((i=h(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((r={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)}).key=r.id,f[r.id]&&(f[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var o=r.data,s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;s*=4,s+=3&o[7],r.timeStamp=s,t.pts===undefined&&t.dts===undefined&&(t.pts=r.timeStamp,t.dts=r.timeStamp),this.trigger("timestamp",r)}t.frames.push(r),n+=10,n+=i}while(n<l);this.trigger("data",t)}}}).prototype=new i,t.exports=n},{"../utils/stream":60,"./stream-types":51}],50:[function(e,t){"use strict";var n=e("./stream-types.js"),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},s=function(e){return!!(64&e[1])},u=function(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t},r=function(e,t){var n=i(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},a=function(e){var t=s(e),n=4+u(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},o=function(e){var t={},n=s(e),i=4+u(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var a=12+((15&e[i+10])<<8|e[i+11]);a<r;){var o=i+a;t[(31&e[o+1])<<8|e[o+2]]=e[o],a+=5+((15&e[o+3])<<8|e[o+4])}return t}},l=function(e,t){switch(t[i(e)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},d=function(e){if(!s(e))return null;var t=4+u(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},c=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},h=function(e){for(var t=4+u(e),n=e.subarray(t),i=0,r=0,a=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}for(r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===c(31&n[r+3])&&(a=!0);1!==n[++i]&&i<n.length;);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===c(31&n[r+3])&&(a=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&3<n.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===c(31&n[r+3])&&(a=!0),a};t.exports={parseType:r,parsePat:a,parsePmt:o,parsePayloadUnitStartIndicator:s,parsePesType:l,parsePesTime:d,videoPacketContainsKeyFrame:h}},{"./stream-types.js":51}],51:[function(e,t){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],52:[function(e,t){"use strict";var n=e("../utils/stream"),i=8589934592,r=4294967296,a=function(e,t){var n=1;for(t<e&&(n=-1);Math.abs(t-e)>r;)e+=n*i;return e},o=function(e){var t,n;o.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(n===undefined&&(n=e.dts),e.dts=a(e.dts,n),e.pts=a(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.discontinuity=function(){t=n=void 0}};o.prototype=new n,t.exports={TimestampRolloverStream:o,handleRollover:a}},{"../utils/stream":60}],53:[function(e,t){t.exports={generator:e("./mp4-generator"),Transmuxer:e("./transmuxer").Transmuxer,AudioSegmentStream:e("./transmuxer").AudioSegmentStream,VideoSegmentStream:e("./transmuxer").VideoSegmentStream}},{"./mp4-generator":54,"./transmuxer":56}],54:[function(e,t){"use strict";var u,n,i,r,a,o,s,l,d,c,h,f,p,g,m,y,v,b,_,T,w,S,k,C,x,E,A,O,P,j,M,D,I,L,N,R,B,U,F,H,V,$=Math.pow(2,32)-1;!function(){var e;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in k)k.hasOwnProperty(e)&&(k[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),x=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),O=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,
0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:A,audio:O},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),L=I,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=I,j=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),u=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},n=function(){return u(k.dinf,u(k.dref,D))},i=function(e){return u(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},r=function(){return u(k.ftyp,C,x,C,E)},y=function(e){return u(k.hdlr,P[e])},a=function(e){return u(k.mdat,e)},m=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),u(k.mdhd,t)},g=function(e){return u(k.mdia,m(e),y(e.type),s(e))},o=function(e){return u(k.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(e){return u(k.minf,"video"===e.type?u(k.vmhd,j):u(k.smhd,M),n(),b(e))},l=function(e,t){for(var n=[],i=t.length;i--;)n[i]=T(t[i]);return u.apply(null,[k.moof,o(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=f(e[t]);return u.apply(null,[k.moov,h(4294967295)].concat(n).concat(c(e)))},c=function(e){for(var t=e.length,n=[];t--;)n[t]=w(e[t]);return u.apply(null,[k.mvex].concat(n))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return u(k.mvhd,t)},v=function(e){var t,n,i=e.samples||[],r=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)t=i[n].flags,r[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return u(k.sdtp,r)},b=function(e){return u(k.stbl,_(e),u(k.stts,R),u(k.stsc,L),u(k.stsz,N),u(k.stco,I))},_=function(e){return u(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?B(e):U(e))},B=function(e){var t,n=e.sps||[],i=e.pps||[],r=[],a=[];for(t=0;t<n.length;t++)r.push((65280&n[t].byteLength)>>>8),r.push(255&n[t].byteLength),r=r.concat(Array.prototype.slice.call(n[t]));for(t=0;t<i.length;t++)a.push((65280&i[t].byteLength)>>>8),a.push(255&i[t].byteLength),a=a.concat(Array.prototype.slice.call(i[t]));return u(k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u(k.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(r).concat([i.length]).concat(a))),u(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(e){return u(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},p=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return u(k.tkhd,t)},T=function(e){var t,n,i,r,a,o,s;return t=u(k.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/($+1)),s=Math.floor(e.baseMediaDecodeTime%($+1)),n=u(k.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),a=92,"audio"===e.type?(i=S(e,a),u(k.traf,t,n,i)):(r=v(e),i=S(e,r.length+a),u(k.traf,t,n,i,r))},f=function(e){return e.duration=e.duration||4294967295,u(k.trak,p(e),g(e))},w=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),u(k.trex,t)},V=function(e,t){var n=0,i=0,r=0,a=0;return e.length&&(e[0].duration!==undefined&&(n=1),e[0].size!==undefined&&(i=2),e[0].flags!==undefined&&(r=4),e[0].compositionTimeOffset!==undefined&&(a=8)),[0,0,n|i|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},H=function(e,t){var n,i,r,a;for(t+=20+16*(i=e.samples||[]).length,n=V(i,t),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return u(k.trun,new Uint8Array(n))},F=function(e,t){var n,i,r,a;for(t+=20+8*(i=e.samples||[]).length,n=V(i,t),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return u(k.trun,new Uint8Array(n))},S=function(e,t){return"audio"===e.type?F(e,t):H(e,t)},t.exports={ftyp:r,mdat:a,moof:l,moov:d,initSegment:function(e){var t,n=r(),i=d(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}}},{}],55:[function(e,t){"use strict";var u,l,n,i;u=function(e,t){var n,i,r,a,o,s=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=e[n]<<24,i|=e[n+1]<<16,i|=e[n+2]<<8,i|=e[n+3],r=l(e.subarray(n+4,n+8)),a=1<i?n+i:e.byteLength,r===t[0]&&(1===t.length?s.push(e.subarray(n+8,a)):(o=u(e.subarray(n+8,a),t.slice(1))).length&&(s=s.concat(o))),n=a;return s},l=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},n=function(e){var t={};return u(e,["moov","trak"]).reduce(function(e,t){var n,i,r,a;return(n=u(t,["tkhd"])[0])?(r=n[i=0===n[0]?12:20]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],(a=u(t,["mdia","mdhd"])[0])?(i=0===a[0]?12:20,e[r]=a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3],e):null):null},t)},i=function(r,e){var t,n,i;return t=u(e,["moof","traf"]),n=[].concat.apply([],t.map(function(i){return u(i,["tfhd"]).map(function(e){var t,n;return t=e[4]<<24|e[5]<<16|e[6]<<8|e[7],n=r[t]||9e4,(u(i,["tfdt"]).map(function(e){var t,n;return t=e[0],n=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(n*=Math.pow(2,32),n+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),n})[0]||Infinity)/n})})),i=Math.min.apply(null,n),isFinite(i)?i:0},t.exports={parseType:l,timescale:n,startTime:i}},{}],56:[function(e,t){"use strict";var u,s,o,l,d,c,h,f,p,g,m,n=e("../utils/stream.js"),y=e("./mp4-generator.js"),v=e("../m2ts/m2ts.js"),b=e("../codecs/adts.js"),_=e("../codecs/h264").H264Stream,T=e("../aac"),w=e("../data/silence"),S=e("../utils/clock"),k=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],C=["width","height","profileIdc","levelIdc","profileCompatibility"],x=9e4;d=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},c=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},g=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},m=function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n},(s=function(r){var a=[],o=0,t=0,l=0,d=Infinity;s.prototype.init.call(this),this.push=function(t){h(r,t),r&&k.forEach(function(e){r[e]=t[e]}),a.push(t)},this.setEarliestDts=function(e){t=e-r.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){d=e},this.setAudioAppendStart=function(e){l=e},this.flush=function(){var e,t,n,i;0!==a.length&&(e=this.trimAdtsFramesByEarliestDts_(a),r.baseMediaDecodeTime=p(r),this.prefixWithSilence_(r,e),r.samples=this.generateSampleTable_(e),n=y.mdat(this.concatenateFrameData_(e)),a=[],t=y.moof(o,[r]),i=new Uint8Array(t.byteLength+n.byteLength),o++,i.set(t),i.set(n,t.byteLength),f(r),this.trigger("data",{track:r,boxes:i})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var n,i,r,a=0,o=0,s=0,u=0;if(t.length&&(n=S.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(x/(e.samplerate/1024)),l&&d&&(o=n-Math.max(l,d),u=(s=Math.floor(o/a))*a),!(s<1||x/2<u))){for((i=w[e.samplerate])||(i=t[0].data),r=0;r<s;r++)t.splice(r,0,{data:i});e.baseMediaDecodeTime-=Math.floor(S.videoTsToAudioTs(u,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return r.minSegmentDts>=t?e:(r.minSegmentDts=Infinity,e.filter(function(e){return e.dts>=t&&(r.minSegmentDts=Math.min(r.minSegmentDts,e.dts),r.minSegmentPts=r.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(e){var t,n,i=0,r=new Uint8Array(m(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}}).prototype=new n,(u=function(l){var t,n,o=0,s=[];u.prototype.init.call(this),delete l.minPTS,this.gopCache_=[],this.push=function(e){h(l,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,l.sps=[e.data],C.forEach(function(e){l[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,l.pps=[e.data]),s.push(e)},this.flush=function(){for(var e,t,n,i,r,a;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");e=this.groupNalsIntoFrames_(s),(n=this.groupFramesIntoGops_(e))[0][0].keyFrame||((t=this.getGopForFusion_(s[0],l))?(n.unshift(t),n.byteLength+=t.byteLength,n.nalCount+=t.nalCount,n.pts=t.pts,n.dts=t.dts,n.duration+=t.duration):n=this.extendFirstKeyFrame_(n)),h(l,n),l.samples=this.generateSampleTable_(n),r=y.mdat(this.concatenateNalData_(n)),this.gopCache_.unshift({gop:n.pop(),pps:l.pps,sps:l.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],l.baseMediaDecodeTime=p(l),this.trigger("baseMediaDecodeTime",l.baseMediaDecodeTime),this.trigger("timelineStartInfo",l.timelineStartInfo),i=y.moof(o,[l]),a=new Uint8Array(i.byteLength+r.byteLength),o++,a.set(i),a.set(r,i.byteLength),this.trigger("data",{track:l,boxes:a}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){f(l),t=undefined,n=undefined},this.getGopForFusion_=function(e){var t,n,i,r,a,o=45e3,s=1e4,u=Infinity;for(a=0;a<this.gopCache_.length;a++)i=(r=this.gopCache_[a]).gop,l.pps&&g(l.pps[0],r.pps[0])&&l.sps&&g(l.sps[0],r.sps[0])&&(i.dts<l.timelineStartInfo.dts||-s<=(t=e.dts-i.dts-i.duration)&&t<=o&&(!n||t<u)&&(n=r,u=t));return n?n.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,i=[],r=[];for(t=i.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},this.groupFramesIntoGops_=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},this.generateSampleTable_=function(e,t){var n,i,r,a,o,s=t||0,u=[];for(n=0;n<e.length;n++)for(a=e[n],i=0;i<a.length;i++)o=a[i],(r=d()).dataOffset=s,r.compositionTimeOffset=o.pts-o.dts,r.duration=o.duration,r.size=4*o.length,r.size+=o.byteLength,o.keyFrame&&(r.flags.dependsOn=2),s+=r.size,u.push(r);return u},this.concatenateNalData_=function(e){var t,n,i,r,a,o,s=0,u=e.byteLength,l=e.nalCount,d=new Uint8Array(u+4*l),c=new DataView(d.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)o=a[i],c.setUint32(s,o.data.byteLength),s+=4,d.set(o.data,s),s+=o.data.byteLength;return d}}).prototype=new n,h=function(e,t){"number"==typeof t.pts&&(e.timelineStartInfo.pts===undefined&&(e.timelineStartInfo.pts=t.pts),e.minSegmentPts===undefined?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),e.maxSegmentPts===undefined?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(e.timelineStartInfo.dts===undefined&&(e.timelineStartInfo.dts=t.dts),e.minSegmentDts===undefined?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.maxSegmentDts===undefined?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},f=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},p=function(e){var t,n=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=n,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/x,t=Math.floor(t)),t},(l=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,l.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new n,l.prototype.flush=function(e){var t,n,i,r,a=0,o={captions:[],metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,C.forEach(function(e){o.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,k.forEach(function(e){o.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=y.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,o.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts-s,n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(o=function(e){var i,r,a=this,n=!0;o.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new v.MetadataStream,t.aacStream=new T,t.audioTimestampRolloverStream=new v.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new v.TimestampRolloverStream("timed-metadata"),t.adtsStream=new b,t.coalesceStream=new l(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new s(r),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new v.MetadataStream,n.packetStream=new v.TransportPacketStream,n.parseStream=new v.TransportParseStream,n.elementaryStream=new v.ElementaryStream,n.videoTimestampRolloverStream=new v.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new v.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new v.TimestampRolloverStream("timed-metadata"),n.adtsStream=new b,n.h264Stream=new _,n.captionStream=new v.CaptionStream,n.coalesceStream=new l(e,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)i||"video"!==e.tracks[t].type?r||"audio"!==e.tracks[t].type||((r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(i=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;i&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new u(i),n.videoSegmentStream.on("timelineStartInfo",function(e){r&&(r.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){r&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),r&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new s(r),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,r&&(r.timelineStartInfo.dts=undefined,r.timelineStartInfo.pts=undefined,f(r),r.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),i&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=undefined,i.timelineStartInfo.pts=undefined,f(i),i.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.push=function(e){if(n){var t=c(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()}}).prototype=new n,t.exports={Transmuxer:o,VideoSegmentStream:u,AudioSegmentStream:s,AUDIO_PROPERTIES:k,VIDEO_PROPERTIES:C}},{"../aac":36,"../codecs/adts.js":38,"../codecs/h264":39,"../data/silence":40,"../m2ts/m2ts.js":48,"../utils/clock":58,"../utils/stream.js":60,"./mp4-generator.js":54}],57:[function(e,t){"use strict";var r=e("../m2ts/stream-types.js"),a=e("../m2ts/timestamp-rollover-stream.js").handleRollover,p={};p.ts=e("../m2ts/probe.js"),p.aac=e("../aac/probe.js");var l=9e4,g=188,m=71,i=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},o=function(e,t){for(var n,i=0,r=g;r<e.byteLength;)if(e[i]!==m||e[r]!==m)i++,r++;else{switch(n=e.subarray(i,r),p.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=p.ts.parsePat(n));break;case"pmt":t.table||(t.table=p.ts.parsePmt(n))}if(t.pid&&t.table)return;i+=g,r+=g}},s=function(e,t,n){for(var i,r,a,o,s=0,u=g,l=!1;u<e.byteLength;)if(e[s]!==m||e[u]!==m)s++,u++;else{switch(i=e.subarray(s,u),p.ts.parseType(i,t.pid)){case"pes":r=p.ts.parsePesType(i,t.table),a=p.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=p.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),l=!0)}if(l)break;s+=g,u+=g}for(s=(u=e.byteLength)-g,l=!1;0<=s;)if(e[s]!==m||e[u]!==m)s--,u--;else{switch(i=e.subarray(s,u),p.ts.parseType(i,t.pid)){case"pes":r=p.ts.parsePesType(i,t.table),a=p.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=p.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),l=!0)}if(l)break;s-=g,u-=g}},u=function(e,t,n){for(var i,r,a,o,s,u,l,d=0,c=g,h=!1,f={data:[],size:0};c<e.byteLength;)if(e[d]!==m||e[c]!==m)d++,c++;else{switch(i=e.subarray(d,c),p.ts.parseType(i,t.pid)){case"pes":if(r=p.ts.parsePesType(i,t.table),a=p.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!h&&(o=p.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),h=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),s.set(l,u),u+=l.byteLength;p.ts.videoPacketContainsKeyFrame(s)&&(n.firstKeyFrame=p.ts.parsePesTime(s),n.firstKeyFrame.type="video"),f.size=0}f.data.push(i),f.size+=i.byteLength}}if(h&&n.firstKeyFrame)break;d+=g,c+=g}for(d=(c=e.byteLength)-g,h=!1;0<=d;)if(e[d]!==m||e[c]!==m)d--,c--;else{switch(i=e.subarray(d,c),p.ts.parseType(i,t.pid)){case"pes":r=p.ts.parsePesType(i,t.table),a=p.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(o=p.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),h=!0)}if(h)break;d-=g,c-=g}},d=function(e,t){if(e.audio&&e.audio.length){var n=t;void 0===n&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=a(e.dts,n),e.pts=a(e.pts,n),e.dtsTime=e.dts/l,e.ptsTime=e.pts/l})}if(e.video&&e.video.length){var i=t;if(void 0===i&&(i=e.video[0].dts),e.video.forEach(function(e){e.dts=a(e.dts,i),e.pts=a(e.pts,i),e.dtsTime=e.dts/l,e.ptsTime=e.pts/l}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=a(r.dts,i),r.pts=a(r.pts,i),r.dtsTime=r.dts/l,r.ptsTime=r.dts/l}}},c=function(e){for(var t,n=!1,i=0,r=null,a=null,o=0,s=0;3<=e.length-s;){switch(p.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((o=p.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===a&&(t=e.subarray(s,s+o),a=p.aac.parseAacTimestamp(t)),s+=o;break;case"audio":if(e.length-s<7){n=!0;break}if((o=p.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===r&&(t=e.subarray(s,s+o),r=p.aac.parseSampleRate(t)),i++,s+=o;break;default:s++}if(n)return null}if(null===r||null===a)return null;var u=l/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*u,pts:a+1024*i*u}]}},h=function(e){var t={pid:null,table:null},n={};for(var i in o(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case r.H264_STREAM_TYPE:n.video=[],u(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],s(e,t,n),0===n.audio.length&&delete n.audio}}return n},n=function(e,t){var n;return(n=i(e)?c(e):h(e))&&(n.audio||n.video)?(d(n,t),n):null};t.exports={inspect:n}},{"../aac/probe.js":37,"../m2ts/probe.js":50,"../m2ts/stream-types.js":51,"../m2ts/timestamp-rollover-stream.js":52}],58:[function(e,t){var n,i,r,a,o,s,u=9e4;n=function(e){return e*u},i=function(e,t){return e*t},r=function(e){return e/u},a=function(e,t){return e/t},o=function(e,t){return n(a(e,t))},s=function(e,t){return i(r(e),t)},t.exports={secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s}},{}],59:[function(e,t){"use strict";var n;n=function(i){var r=i.byteLength,a=0,o=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+o},this.loadWord=function(){var e=i.byteLength-r,t=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");t.set(i.subarray(e,e+n)),a=new DataView(t.buffer).getUint32(0),o=8*n,r-=n},this.skipBits=function(e){var t;e<o||(e-=o,e-=8*(t=Math.floor(e/8)),r-=t,this.loadWord()),a<<=e,o-=e},this.readBits=function(e){var t=Math.min(o,e),n=a>>>32-t;return 0<(o-=t)?a<<=t:0<r&&this.loadWord(),0<(t=e-t)?n<<t|this.readBits(t):n},this.skipLeadingZeros=function(){var e;for(e=0;e<o;++e)if(0!=(a&2147483648>>>e))return a<<=e,o-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},{}],60:[function(e,t){"use strict";var n=function(){this.init=function(){var o={};this.on=function(e,t){o[e]||(o[e]=[]),o[e]=o[e].concat(t)},this.off=function(e,t){var n;return!!o[e]&&(n=o[e].indexOf(t),o[e]=o[e].slice(),o[e].splice(n,1),-1<n)},this.trigger=function(e,t){var n,i,r,a;if(n=o[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,t);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){o={}}}};n.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},t.exports=n},{}],61:[function(e,t,n){var i,f;i=this,f={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var n=null,i=null,r=/^([^#]*)(.*)$/.exec(t);r&&(i=r[2],t=r[1]);var a=/^([^\?]*)(.*)$/.exec(t);a&&(n=a[2],t=a[1]);var o=/^([^#]*)(.*)$/.exec(e);o&&(e=o[1]);var s=/^([^\?]*)(.*)$/.exec(e);s&&(e=s[1]);var u=/^(([a-z]+:)?\/\/[^:\/]+(:[0-9]+)?)?(\/?.*)$/i.exec(e);if(!u)throw new Error("Error trying to parse base URL.");var l=u[2]||"",d=u[1]||"",c=u[4];0!==c.indexOf("/")&&""!==d&&(c="/"+c);var h=null;return h=/^\/\//.test(t)?l+"//"+f.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?d+"/"+f.buildAbsolutePath("",t.substring(1)):f.buildAbsolutePath(d+c,t),n&&(h+=n),i&&(h+=i),h},buildAbsolutePath:function(e,t){for(var n,i,r=t,a="",o=e.replace(/[^\/]*$/,r.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),s=0;-1<(i=o.indexOf("/../",s));s=i+n)n=/^\/(?:\.\.\/)*/.exec(o.slice(i))[0].length,a=(a+o.substring(s,i)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/");return a+o.substr(s)}},"object"==typeof n&&"object"==typeof t?t.exports=f:"function"==typeof r&&r.amd?r([],function(){return f}):"object"==typeof n?n.URLToolkit=f:i.URLToolkit=f},{}],62:[function(o,u,l){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(l,"__esModule",{value:!0});var n=t(o("global/window")),i=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),a=function a(e){Object.defineProperties(e.frame,{id:{get:function t(){return i["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function t(){return i["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function t(){return i["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},s=function s(e){undefined;return isNaN(e)||Math.abs(e)===Infinity?Number.MAX_VALUE:e},r=function r(i,e,t){var o,r=n["default"].WebKitDataCue||n["default"].VTTCue;e&&e.forEach(function(e){this.inbandTextTrack_.addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},i),t&&(o=s(i.mediaSource_.duration),t.forEach(function(e){var n=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var t=new r(n,n,e.value||e.url||e.data||"");t.frame=e,t.value=e,a(t),this.metadataTrack_.addCue(t)},this)},i),i.metadataTrack_&&i.metadataTrack_.cues&&i.metadataTrack_.cues.length&&function(){for(var e=i.metadataTrack_.cues,t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);var r=t.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),a=Object.keys(r).sort(function(e,t){return Number(e)-Number(t)});a.forEach(function(e,t){var n=r[e],i=Number(a[t+1])||o;n.forEach(function(e){e.endTime=i})})}())};l["default"]={addTextTrackData:r,durationOfVideo:s},u.exports=l["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":30}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function i(e,t,n){for(var i=e.remoteTextTracks()||[],r=0;r<i.length;r++){var a=i[r];a.kind===t&&a.label===n&&e.removeRemoteTextTrack(a)}};n.removeExistingTrack=i;var r=function r(e){i(e,"captions","cc1"),i(e,"metadata","Timed Metadata")};n.cleanupTextTracks=r},{}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function i(e){return/mp4a\.\d+.\d+/i.test(e)},r=function r(e){return/avc1\.[\da-f]+/i.test(e)},a=function a(e){var r={type:"",parameters:{}},t=e.trim().split(";");return r.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(1<t.length){var n=t[0].replace(/"/g,"").trim(),i=t[1].replace(/"/g,"").trim();r.parameters[n]=i}}),r},o=function o(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})};n["default"]={isAudioCodec:i,parseContentType:a,isVideoCodec:r,translateLegacyCodecs:o},t.exports=n["default"]},{}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./cleanup-text-tracks"),i=function i(e,t,n){var i=t.player_;n.captions&&n.captions.length&&!e.inbandTextTrack_&&((0,r.removeExistingTrack)(i,"captions","cc1"),e.inbandTextTrack_=i.addRemoteTextTrack({kind:"captions",label:"cc1"},!1).track),n.metadata&&n.metadata.length&&!e.metadataTrack_&&((0,r.removeExistingTrack)(i,"metadata","Timed Metadata",!0),e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};n["default"]=i,t.exports=n["default"]},{"./cleanup-text-tracks":63}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};n["default"]=i,t.exports=n["default"]},{}],67:[function(m,y,v){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(v,"__esModule",{value:!0});var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=function n(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},u=t(m("global/document")),l=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),d=t(m("./flash-source-buffer")),i=t(m("./flash-constants")),c=m("./codec-utils"),h=m("./cleanup-text-tracks"),f=function(){function e(){var t=this;r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=u["default"].getElementById(e.swfId),t.player_=(0,l["default"])(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.tech_.hls&&t.tech_.hls.on("dispose",function(){(0,h.cleanupTextTracks)(t.player_)}),t.swfObj&&t.swfObj.vjs_load()})}return a(e,l["default"].EventTarget),o(e,[{key:"addSeekableRange_",value:function t(){}},{key:"addSourceBuffer",value:function n(e){var t=(0,c.parseContentType)(e),n=undefined;if("video/mp2t"!==t.type)throw new Error("NotSupportedError (Video.js)");return n=new d["default"](this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function i(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),e}();v["default"]=f;try{Object.defineProperty(f.prototype,"duration",{get:function n(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function p(e){var t=undefined,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(Z){f.prototype.duration=NaN}for(var g in i["default"])f[g]=i["default"][g];y.exports=v["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cleanup-text-tracks":63,"./codec-utils":64,"./flash-constants":66,"./flash-source-buffer":68,"global/document":29}],68:[function(r,a,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),c=function n(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},h=t(r("global/window")),f=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),p=t(r("mux.js/lib/flv")),g=t(r("./remove-cues-from-track")),m=t(r("./create-text-tracks-if-necessary")),y=r("./add-text-track-data"),v=t(r("./flash-transmuxer-worker")),b=t(r("webworkify")),_=t(r("./flash-constants")),T=function T(e){h["default"].setTimeout(e,_["default"].TIME_BETWEEN_CHUNKS)},w=function w(){return Math.random().toString(36).slice(2,8)},S=function S(e,t){("number"!=typeof t||t<0)&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},i=function(){function o(e){var t=this;u(this,o),c(Object.getPrototypeOf(o.prototype),"constructor",this).call(this);var n=undefined;this.chunkSize_=_["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,n=h["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(p["default"].getFlvHeader())));var i=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+i+w(),this.flashEncodedDataName_="vjs_flashEncodedData_"+i+w(),h["default"][this.flashEncodedHeaderName_]=function(){return delete h["default"][t.flashEncodedHeaderName_],n},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,b["default"])(v["default"]),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&t.receiveBuffer_(e.data.segment)},this.one("updateend",function(){t.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function r(){return this.timestampOffset_},set:function a(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function r(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return f["default"].createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=S(e[0][0],3),e[0][1]=S(e[0][1],3)),f["default"].createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){(0,g["default"])(0,Infinity,t.metadataTrack_),(0,g["default"])(0,Infinity,t.inbandTextTrack_)}),this.mediaSource_.player_.tech_.hls.on("dispose",function(){t.transmuxer_.terminate()})}return l(o,f["default"].EventTarget),d(o,[{key:"appendBuffer",value:function e(e){var t=undefined;if(this.updating)throw(t=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function t(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function n(e,t){(0,g["default"])(e,t,this.metadataTrack_),(0,g["default"])(e,t,this.inbandTextTrack_),this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function i(t){var n=this;(0,m["default"])(this,this.mediaSource_,t),(0,y.addTextTrackData)(this,t.captions,t.metadata),T(function(){var e=n.convertTagsToData_(t);0===n.buffer_.length&&T(n.processBuffer_.bind(n)),e&&(n.buffer_.push(e),n.bufferSize_+=e.byteLength)})}},{key:"processBuffer_",value:function r(){var e=this,t=_["default"].BYTES_PER_CHUNK;if(this.buffer_.length){var n=this.buffer_[0].subarray(0,t);n.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=n.byteLength;for(var i=[],r=n.byteLength,a=0;a<r;a++)i.push(String.fromCharCode(n[a]));var o=h["default"].btoa(i.join(""));h["default"][this.flashEncodedDataName_]=function(){return T(e.processBuffer_.bind(e)),delete h["default"][e.flashEncodedDataName_],o},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function a(e){var t=0,n=this.mediaSource_.tech_,i=0,r=undefined,a=e.tags.videoTags,o=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||o.length)){var s=a[0]||{pts:Infinity},u=o[0]||{pts:Infinity};this.basePtsOffset_=Math.min(u.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(i=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(i=Math.max(i,n.currentTime()-this.timestampOffset)),i*=1e3,i+=this.basePtsOffset_):i=this.videoBufferEnd_+.1;var l=a.length;if(l&&a[l-1].pts>=i){for(;--l;){var d=a[l];if(!(d.pts>i)&&(d.keyFrame||d.metaDataTag))break}for(;l;){if(!a[l-1].metaDataTag)break;l--}}var c=a.slice(l),h=undefined;for(h=isNaN(this.audioBufferEnd_)?i:this.audioBufferEnd_+.1,c.length&&(h=Math.min(h,c[0].pts)),l=0;l<o.length&&!(o[l].pts>=h);)l++;var f=o.slice(l);f.length&&(this.audioBufferEnd_=f[f.length-1].pts),c.length&&(this.videoBufferEnd_=c[c.length-1].pts);var p=this.getOrderedTags_(c,f);if(0!==p.length){if(p[0].pts<i&&n.seeking()){var g=1/30,m=n.currentTime()-(i-p[0].pts)/1e3;m<g&&(m=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(m)}catch(Z){}}for(var y=0;y<p.length;y++)t+=p[y].bytes.byteLength;r=new Uint8Array(t);y=0;for(var v=0;y<p.length;y++)r.set(p[y].bytes,v),v+=p[y].bytes.byteLength;return r}}},{key:"getOrderedTags_",value:function s(e,t){for(var n=undefined,i=[];e.length||t.length;)n=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),i.push(n);return i}}]),o}();o["default"]=i,a.exports=o["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":62,"./create-text-tracks-if-necessary":65,"./flash-constants":66,"./flash-transmuxer-worker":69,"./remove-cues-from-track":71,"global/window":30,"mux.js/lib/flv":44,webworkify:75}],69:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=i(e("global/window")),s=i(e("mux.js/lib/flv")),u=function u(e){e.on("data",function(e){r["default"].postMessage({action:"data",segment:e})}),e.on("done",function(){r["default"].postMessage({action:"done"})})},l=function(){function t(e){a(this,t),this.options=e||{},this.init()}return o(t,[{key:"init",value:function e(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new s["default"].Transmuxer(this.options),u(this.transmuxer)}},{key:"push",value:function n(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function i(){this.init()}},{key:"flush",value:function r(){this.transmuxer.flush()}}]),t}(),d=function d(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new l(e.data.options):(this.messageHandlers||(this.messageHandlers=new l),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};n["default"]=function(e){return new d(e)},t.exports=n["default"]},{"global/window":30,"mux.js/lib/flv":44}],70:[function(g,m,y){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(y,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=function i(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},s=t(g("global/window")),u=t(g("global/document")),l=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),d=t(g("./virtual-source-buffer")),c=g("./add-text-track-data"),h=g("./codec-utils"),f=g("./cleanup-text-tracks"),p=function(){function i(){var r=this;a(this,i),o(Object.getPrototypeOf(i.prototype),"constructor",this).call(this);var e=undefined;for(e in this.nativeMediaSource_=new s["default"].MediaSource,this.nativeMediaSource_)e in i.prototype||"function"!=typeof this.nativeMediaSource_[e]||(this[e]=this.nativeMediaSource_[e].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function t(){return this.duration_===Infinity?this.duration_:this.nativeMediaSource_.duration},set:function n(e){(this.duration_=e)===Infinity||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function t(){return this.duration_===Infinity?l["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function t(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function t(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){r.activeSourceBuffers_.length=0;for(var t=!1,n=!0,e=0;e<r.player_.audioTracks().length;e++){var i=r.player_.audioTracks()[e];if(i.enabled&&"main"!==i.kind){n=!(t=!0);break}}r.sourceBuffers.forEach(function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=t;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=n))return;r.activeSourceBuffers_.push(e)})},this.onPlayerMediachange_=function(){r.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(){var e=u["default"].querySelector('[src="'+r.url_+'"]');e&&(r.player_=(0,l["default"])(e.parentNode),r.player_.audioTracks&&r.player_.audioTracks()&&(r.player_.audioTracks().on("change",r.updateActiveSourceBuffers_),r.player_.audioTracks().on("addtrack",r.updateActiveSourceBuffers_),r.player_.audioTracks().on("removetrack",r.updateActiveSourceBuffers_)),r.player_.on("mediachange",r.onPlayerMediachange_))}),this.on("sourceended",function(){for(var e=(0,c.durationOfVideo)(r.duration),t=0;t<r.sourceBuffers.length;t++){var n=r.sourceBuffers[t],i=n.metadataTrack_&&n.metadataTrack_.cues;i&&i.length&&(i[i.length-1].endTime=e)}}),this.on("sourceclose",function(){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&((0,f.cleanupTextTracks)(this.player_),this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_))})}return n(i,l["default"].EventTarget),r(i,[{key:"addSeekableRange_",value:function e(e,t){var n=undefined;if(this.duration!==Infinity)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function t(e){var t=undefined,n=(0,h.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=(0,h.translateLegacyCodecs)(i)).filter(function(e){return(0,h.isAudioCodec)(e)||(0,h.isVideoCodec)(e)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),t=new d["default"](this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),i}();y["default"]=p,m.exports=y["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":62,"./cleanup-text-tracks":63,"./codec-utils":64,"./virtual-source-buffer":74,"global/document":29,"global/window":30}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function i(e,t,n){var i=undefined,r=undefined;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=t&&r.endTime>=e&&n.removeCue(r)};n["default"]=i,t.exports=n["default"]},{}],72:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=i(e("global/window")),l=i(e("mux.js/lib/mp4")),d=function d(e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var n=e.data;e.data=n.buffer,r["default"].postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){r["default"].postMessage({action:"caption",data:e})}),e.on("done",function(){r["default"].postMessage({action:"done"})})},a=function(){function t(e){s(this,t),this.options=e||{},this.init()}return u(t,[{key:"init",value:function e(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l["default"].Transmuxer(this.options),d(this.transmuxer)}},{key:"push",value:function n(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function i(){this.init()}},{key:"setTimestampOffset",value:function r(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function a(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function o(){this.transmuxer.flush()}}]),t}(),o=function o(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new a(e.data.options):(this.messageHandlers||(this.messageHandlers=new a),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};n["default"]=function(e){return new o(e)},t.exports=n["default"]},{"global/window":30,"mux.js/lib/mp4":53}],73:[function(f,e,p){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(p,"__esModule",{value:!0});var i=t(f("global/window")),r=t(f("./flash-media-source")),a=t(f("./html-media-source")),o=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),s=0,n={mode:"auto"};o["default"].mediaSources={};var u=function u(e,t){var n=o["default"].mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},l=function l(){return!!i["default"].MediaSource&&!!i["default"].MediaSource.isTypeSupported&&i["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},d=function d(e){var t=o["default"].mergeOptions(n,e);if(this.MediaSource={open:u,supportsNativeMediaSources:l},"html5"===t.mode||"auto"===t.mode&&l())return new a["default"];if(o["default"].getTech("Flash"))return new r["default"];throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};(p.MediaSource=d).open=u,d.supportsNativeMediaSources=l;var c={createObjectURL:function h(e){var t="blob:vjs-media-source/",n=undefined;return e instanceof a["default"]?(n=i["default"].URL.createObjectURL(e.nativeMediaSource_),e.url_=n):e instanceof r["default"]?(n=t+s,s++,o["default"].mediaSources[n]=e,n):(n=i["default"].URL.createObjectURL(e),e.url_=n)}};p.URL=c,o["default"].MediaSource=d,o["default"].URL=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./flash-media-source":67,"./html-media-source":70,"global/window":30}],74:[function(r,a,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),h=function n(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},f=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),p=t(r("./create-text-tracks-if-necessary")),g=t(r("./remove-cues-from-track")),m=r("./add-text-track-data"),y=t(r("webworkify")),v=t(r("./transmuxer-worker")),b=r("./codec-utils"),_=function _(e,t){var i=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=i;var n=function(t){"function"==typeof i[t]?r[t]=function(){return i[t].apply(i,arguments)}:"undefined"==typeof r[t]&&Object.defineProperty(r,t,{get:function e(){return i[t]},set:function n(e){return i[t]=e}})};for(var a in i)n(a);return r},i=function(){function o(e,t){var n=this;l(this,o),h(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,f["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=t,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1;var i={remux:!(this.appendAudioInitSegment_=!0)};this.codecs_.forEach(function(e){(0,b.isAudioCodec)(e)?n.audioCodec_=e:(0,b.isVideoCodec)(e)&&(n.videoCodec_=e)}),this.transmuxer_=(0,y["default"])(v["default"]),this.transmuxer_.postMessage({action:"init",options:i}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?n.data_(e):"done"===e.data.action?n.done_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function r(){return this.timestampOffset_},set:function a(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function r(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function a(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function r(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function r(){var e=null,t=null,n=0,i=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return f["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return f["default"].createTimeRange();for(var a=this.videoBuffer_.buffered,o=this.audioBuffer_.buffered,s=a.length;s--;)i.push({time:a.start(s),type:"start"}),i.push({time:a.end(s),type:"end"});for(s=o.length;s--;)i.push({time:o.start(s),type:"start"}),i.push({time:o.end(s),type:"end"});for(i.sort(function(e,t){return e.time-t.time}),s=0;s<i.length;s++)"start"===i[s].type?2===++n&&(e=i[s].time):"end"===i[s].type&&1===--n&&(t=i[s].time),null!==e&&null!==t&&(r.push([e,t]),t=e=null);return f["default"].createTimeRanges(r)}})}return d(o,f["default"].EventTarget),c(o,[{key:"data_",value:function e(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,p["default"])(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function t(){this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function n(){var i=this,r=["audio","video"];r.forEach(function(t){if(i[t+"Codec_"]&&!i[t+"Buffer_"]){var n=null;if(i.mediaSource_[t+"Buffer_"])(n=i.mediaSource_[t+"Buffer_"]).updating=!1;else{var e=t+'/mp4;codecs="'+i[t+"Codec_"]+'"';n=_(i.mediaSource_.nativeMediaSource_,e),i.mediaSource_[t+"Buffer_"]=n}i[t+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(e){n.addEventListener(e,function(){if("audio"!==t||!i.audioDisabled_)return"updateend"===e&&(i[t+"Buffer_"].updating=!1),r.every(function(e){return!("audio"!==e||!i.audioDisabled_)||(t===e||!i[e+"Buffer_"]||!i[e+"Buffer_"].updating)})?i.trigger(e):void 0})})}})}},{key:"appendBuffer",value:function i(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"remove",value:function r(e,t){this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,g["default"])(e,t,this.metadataTrack_),(0,g["default"])(e,t,this.inbandTextTrack_)}},{key:"processPendingSegments_",value:function a(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,i=t.data,r=t.initSegment;return e[n].segments.push(i),e[n].bytes+=i.byteLength,e[n].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1),this.videoBuffer_&&(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,m.addTextTrackData)(this,e.captions,e.metadata)),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function s(e,t){var n=0,i=undefined;if(e.bytes){i=new Uint8Array(e.bytes),e.segments.forEach(function(e){i.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(i)}catch(r){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:r.message,originalError:r})}}}},{key:"abort",value:function u(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),o}();o["default"]=i,a.exports=o["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":62,"./codec-utils":64,"./create-text-tracks-if-necessary":65,"./remove-cues-from-track":71,"./transmuxer-worker":72,webworkify:75}],75:[function(e,t,n,i,r,a){var c=i,h=r,f=a,p=JSON.stringify;t.exports=function(e){for(var t,n=Object.keys(f),i=0,r=n.length;i<r;i++){var a=n[i];if(f[a].exports===e){t=a;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var o={};for(i=0,r=n.length;i<r;i++){o[a=n[i]]=a}h[t]=[Function(["require","module","exports"],"("+e+")(self)"),o]}var s=Math.floor(Math.pow(16,8)*Math.random()).toString(16),u={};u[t]=t,h[s]=[Function(["require"],"require("+p(t)+")(self)"),u];var l="("+c+")({"+Object.keys(h).map(function(e){return p(e)+":["+h[e][0]+","+p(h[e][1])+"]"}).join(",")+"},{},["+p(s)+"])",d=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(d.createObjectURL(new Blob([l],{type:"text/javascript"})))}},{}],76:[function(I,L){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),f=function n(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return undefined;e=l,t=a,n=o,i=!0,s=l=undefined}},p=t(I("global/document")),i=t(I("./playlist-loader")),g=t(I("./playlist")),a=t(I("./xhr")),r=I("aes-decrypter"),o=t(I("./bin-utils")),s=I("videojs-contrib-media-sources"),u=t(I("m3u8-parser")),m=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),y=I("./master-playlist-controller"),v=t(I("./config")),b=t(I("./rendition-mixin")),l=t(I("global/window")),_=t(I("./playback-watcher")),T=t(I("./reload-source-on-error")),w={PlaylistLoader:i["default"],Playlist:g["default"],Decrypter:r.Decrypter,AsyncStream:r.AsyncStream,decrypt:r.decrypt,utils:o["default"],xhr:(0,a["default"])()};Object.defineProperty(w,"GOAL_BUFFER_LENGTH",{get:function n(){return m["default"].log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),v["default"].GOAL_BUFFER_LENGTH},set:function S(e){m["default"].log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<=0?m["default"].log.warn("value passed to Hls.GOAL_BUFFER_LENGTH must be a number and greater than 0"):v["default"].GOAL_BUFFER_LENGTH=e}}),Object.defineProperty(w,"BANDWIDTH_VARIANCE",{get:function n(){return m["default"].log.warn("using Hls.BANDWIDTH_VARIANCE is UNSAFE be sure you know what you are doing"),v["default"].BANDWIDTH_VARIANCE},
set:function S(e){m["default"].log.warn("using Hls.BANDWIDTH_VARIANCE is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<=0?m["default"].log.warn("value passed to Hls.BANDWIDTH_VARIANCE must be a number and greater than 0"):v["default"].BANDWIDTH_VARIANCE=e}});var k,C=function C(e,t){var n=undefined;return e&&(n=l["default"].getComputedStyle(e))?n[t]:""},x=function x(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.uri){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})},E=function E(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),x(t,e.playlists)},A=function A(e,i){var r=e.slice();e.sort(function(e,t){var n=i(e,t);return 0===n?r.indexOf(e)-r.indexOf(t):n})};w.STANDARD_PLAYLIST_SELECTOR=function(){var e=this.playlists.master.playlists.slice(),t=[],n=undefined,i=undefined,r=undefined,a=undefined,o=undefined,s=undefined,u=undefined,l=[],d=[],c=[];return A(e,w.comparePlaylistBandwidth),e=e.filter(g["default"].isEnabled),s=this.systemBandwidth,n=(t=e.filter(function(e){return e.attributes&&e.attributes.BANDWIDTH&&e.attributes.BANDWIDTH*v["default"].BANDWIDTH_VARIANCE<s})).filter(function(e){return e.attributes.BANDWIDTH===t[t.length-1].attributes.BANDWIDTH})[0],A(t,w.comparePlaylistResolution),a=parseInt(C(this.tech_.el(),"width"),10),o=parseInt(C(this.tech_.el(),"height"),10),u=t.filter(function(e){return e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&e.attributes.RESOLUTION.height}),(r=(c=u.filter(function(e){return e.attributes.RESOLUTION.width===a&&e.attributes.RESOLUTION.height===o})).filter(function(e){return e.attributes.BANDWIDTH===c[c.length-1].attributes.BANDWIDTH})[0])||(l=u.filter(function(e){return e.attributes.RESOLUTION.width>a||e.attributes.RESOLUTION.height>o}),i=(d=l.filter(function(e){return e.attributes.RESOLUTION.width===l[0].attributes.RESOLUTION.width&&e.attributes.RESOLUTION.height===l[0].attributes.RESOLUTION.height})).filter(function(e){return e.attributes.BANDWIDTH===d[d.length-1].attributes.BANDWIDTH})[0]),i||r||n||e[0]},w.canPlaySource=function(){return m["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},w.supportsNativeHls=(k=p["default"].createElement("video"),!!m["default"].getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(k.canPlayType(e))})),w.isSupported=function(){return m["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var O=l["default"].navigator&&l["default"].navigator.userAgent||"";w.supportsAudioInfoChange_=function(){if(m["default"].browser.IS_FIREFOX){var e=/Firefox\/([\d.]+)/i.exec(O);return 49<=parseInt(e[1],10)}return!0};var P=m["default"].getComponent("Component"),j=function(){function o(e,t,n){var i=this;if(d(this,o),f(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,t),t.options_&&t.options_.playerId){var r=(0,m["default"])(t.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function a(){return m["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead."),i}})}if(m["default"].options.hls.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.options_=m["default"].mergeOptions(m["default"].options.hls||{},n.hls),this.setOptions_(),this.on(p["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(){var e=p["default"].fullscreenElement||p["default"].webkitFullscreenElement||p["default"].mozFullScreenElement||p["default"].msFullscreenElement;e&&e.contains(i.tech_.el())&&i.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.audioTrackChange_=function(){i.masterPlaylistController_.setupAudio()},this.textTrackChange_=function(){i.masterPlaylistController_.setupSubtitles()},this.on(this.tech_,"play",this.play)}return c(o,P),h(o,[{key:"setOptions_",value:function e(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),["withCredentials","bandwidth"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function t(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=w,this.masterPlaylistController_=new y.MasterPlaylistController(this.options_),this.playbackWatcher_=new _["default"](m["default"].mergeOptions(this.options_,{seekable:function n(){return t.seekable()}})),this.masterPlaylistController_.on("error",function(){m["default"].players[t.tech_.options_.playerId].error(t.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):w.STANDARD_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function i(){return this.masterPlaylistController_.selectPlaylist},set:function r(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function i(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function r(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function i(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function r(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function i(){var e=1/(this.bandwidth||1),t=undefined;return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set:function r(){m["default"].log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function i(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function i(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function i(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function i(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function i(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function i(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function i(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function i(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("sourceopen",function(){t.tech_.audioTracks().addEventListener("change",t.audioTrackChange_),t.tech_.remoteTextTracks().addEventListener("change",t.textTrackChange_)}),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,b["default"])(t)}),this.masterPlaylistController_.on("audioupdate",function(){t.tech_.clearTracks("audio"),t.masterPlaylistController_.activeAudioGroup().forEach(function(e){t.tech_.audioTracks().addTrack(e)})}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(m["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function n(){var e=this,t=m["default"].players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){E(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){x(e.qualityLevels_,e.playlists)}))}},{key:"activeAudioGroup_",value:function i(){return this.masterPlaylistController_.activeAudioGroup()}},{key:"play",value:function r(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function a(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function s(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function u(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function l(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_.audioTracks().removeEventListener("change",this.audioTrackChange_),this.tech_.remoteTextTracks().removeEventListener("change",this.textTrackChange_),f(Object.getPrototypeOf(o.prototype),"dispose",this).call(this)}}]),o}(),M=function M(r){return{canHandleSource:function e(e){return(!m["default"].options.hls||!m["default"].options.hls.mode||m["default"].options.hls.mode===r)&&M.canPlayType(e.type)},handleSource:function t(e,t,n){"flash"===r&&t.setTimeout(function(){t.trigger("loadstart")},1);var i=m["default"].mergeOptions(n,{hls:{mode:r}});return t.hls=new j(e,t,i),t.hls.xhr=(0,a["default"])(),t.hls.src(e.src),t.hls},canPlayType:function n(e){return M.canPlayType(e)?"maybe":""}}};w.comparePlaylistBandwidth=function(e,t){var n=undefined,i=undefined;return e.attributes&&e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||l["default"].Number.MAX_VALUE,t.attributes&&t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),n-(i=i||l["default"].Number.MAX_VALUE)},w.comparePlaylistResolution=function(e,t){var n=undefined,i=undefined;return e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||l["default"].Number.MAX_VALUE,t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),n===(i=i||l["default"].Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},M.canPlayType=function(e){if(m["default"].browser.IE_VERSION&&m["default"].browser.IE_VERSION<=10)return!1;var t=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!m["default"].options.hls.overrideNative&&w.supportsNativeHls)&&t.test(e)},"undefined"!=typeof m["default"].MediaSource&&"undefined"!=typeof m["default"].URL||(m["default"].MediaSource=s.MediaSource,m["default"].URL=s.URL);var D=m["default"].getTech("Flash");s.MediaSource.supportsNativeMediaSources()&&m["default"].getTech("Html5").registerSourceHandler(M("html5"),0),l["default"].Uint8Array&&D&&D.registerSourceHandler(M("flash")),m["default"].HlsHandler=j,m["default"].HlsSourceHandler=M,m["default"].Hls=w,m["default"].use||m["default"].registerComponent("Hls",w),m["default"].m3u8=u["default"],m["default"].options.hls=m["default"].options.hls||{},m["default"].registerPlugin?m["default"].registerPlugin("reloadSourceOnError",T["default"]):m["default"].plugin("reloadSourceOnError",T["default"]),L.exports={Hls:w,HlsHandler:j,HlsSourceHandler:M}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./master-playlist-controller":5,"./playback-watcher":7,"./playlist":9,"./playlist-loader":8,"./reload-source-on-error":11,"./rendition-mixin":12,"./xhr":19,"aes-decrypter":23,"global/document":29,"global/window":30,"m3u8-parser":31,"videojs-contrib-media-sources":73}]},{},[76])(76)}),function(G){var X={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0},onAutoChange:function(){return!0}};G.fn.bxSlider=function(t){if(0===this.length)return this;if(1<this.length)return this.each(function(){G(this).bxSlider(t)}),this;var d={},c=this,n=G(window).width(),r=G(window).height();if(!G(c).data("bxSlider")){var a=function(){G(c).data("bxSlider")||(d.settings=G.extend({},X,t),d.settings.slideWidth=parseInt(d.settings.slideWidth),d.children=c.children(d.settings.slideSelector),d.children.length<d.settings.minSlides&&(d.settings.minSlides=d.children.length),d.children.length<d.settings.maxSlides&&(d.settings.maxSlides=d.children.length),d.settings.randomStart&&(d.settings.startSlide=Math.floor(Math.random()*d.children.length)),d.active={index:d.settings.startSlide},d.carousel=1<d.settings.minSlides||1<d.settings.maxSlides,d.carousel&&(d.settings.preloadImages="all"),d.minThreshold=d.settings.minSlides*d.settings.slideWidth+(d.settings.minSlides-1)*d.settings.slideMargin,d.maxThreshold=d.settings.maxSlides*d.settings.slideWidth+(d.settings.maxSlides-1)*d.settings.slideMargin,d.working=!1,d.controls={},d.interval=null,d.animProp="vertical"===d.settings.mode?"top":"left",d.usingCSS=d.settings.useCSS&&"fade"!==d.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],n=0;n<t.length;n++)if(void 0!==e.style[t[n]])return d.cssPrefix=t[n].replace("Perspective","").toLowerCase(),d.animProp="-"+d.cssPrefix+"-transform",!0;return!1}(),"vertical"===d.settings.mode&&(d.settings.maxSlides=d.settings.minSlides),c.data("origStyle",c.attr("style")),c.children(d.settings.slideSelector).each(function(){G(this).data("origStyle",G(this).attr("style"))}),e())},e=function(){var e=d.children.eq(d.settings.startSlide);c.wrap('<div class="'+d.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),d.viewport=c.parent(),d.settings.ariaLive&&!d.settings.ticker&&d.viewport.attr("aria-live","polite"),d.loader=G('<div class="bx-loading" />'),d.viewport.prepend(d.loader),c.css({width:"horizontal"===d.settings.mode?1e3*d.children.length+215+"%":"auto",position:"relative"}),d.usingCSS&&d.settings.easing?c.css("-"+d.cssPrefix+"-transition-timing-function",d.settings.easing):d.settings.easing||(d.settings.easing="swing"),d.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),d.viewport.parent().css({maxWidth:u()}),d.children.css({"float":"horizontal"===d.settings.mode?"left":"none",listStyle:"none",position:"relative"}),d.children.css("width",l()),"horizontal"===d.settings.mode&&0<d.settings.slideMargin&&d.children.css("marginRight",d.settings.slideMargin),"vertical"===d.settings.mode&&0<d.settings.slideMargin&&d.children.css("marginBottom",d.settings.slideMargin),"fade"===d.settings.mode&&(d.children.css({position:"absolute",zIndex:0,display:"none"}),d.children.eq(d.settings.startSlide).css({zIndex:d.settings.slideZIndex,display:"block"})),d.controls.el=G('<div class="bx-controls" />'),d.settings.captions&&w(),d.active.last=d.settings.startSlide===p()-1,d.settings.video&&c.fitVids(),("all"===d.settings.preloadImages||d.settings.ticker)&&(e=d.children),d.settings.ticker?d.settings.pager=!1:(d.settings.controls&&_(),d.settings.auto&&d.settings.autoControls&&T(),d.settings.pager&&b(),(d.settings.controls||d.settings.autoControls||d.settings.pager)&&d.viewport.after(d.controls.el)),o(e,s)},o=function(e,t){var n=e.find('img:not([src=""]), iframe').length,i=0;0!==n?e.find('img:not([src=""]), iframe').each(function(){G(this).one("load error",function(){++i===n&&t()}).each(function(){(this.complete||""==this.src)&&G(this).trigger("load")})}):t()},s=function(){if(d.settings.infiniteLoop&&"fade"!==d.settings.mode&&!d.settings.ticker){var e="vertical"===d.settings.mode?d.settings.minSlides:d.settings.maxSlides,t=d.children.slice(0,e).clone(!0).addClass("bx-clone"),n=d.children.slice(-e).clone(!0).addClass("bx-clone");d.settings.ariaHidden&&(t.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),c.append(t).prepend(n)}d.loader.remove(),m(),"vertical"===d.settings.mode&&(d.settings.adaptiveHeight=!0),d.viewport.height(h()),c.redrawSlider(),d.settings.onSliderLoad.call(c,d.active.index),d.initialized=!0,d.settings.responsive&&G(window).bind("resize",q),d.settings.auto&&d.settings.autoStart&&(1<p()||d.settings.autoSlideForOnePage)&&I(),d.settings.ticker&&L(),d.settings.pager&&A(d.settings.startSlide),d.settings.controls&&j(),d.settings.touchEnabled&&!d.settings.ticker&&U(),d.settings.keyboardEnabled&&!d.settings.ticker&&G(document).keydown(B)},h=function(){var e=0,t=G();if("vertical"===d.settings.mode||d.settings.adaptiveHeight)if(d.carousel){var n=1===d.settings.moveSlides?d.active.index:d.active.index*g();for(t=d.children.eq(n),i=1;i<=d.settings.maxSlides-1;i++)t=n+i>=d.children.length?t.add(d.children.eq(i-1)):t.add(d.children.eq(n+i))}else t=d.children.eq(d.active.index);else t=d.children;return"vertical"===d.settings.mode?(t.each(function(){e+=G(this).outerHeight()}),0<d.settings.slideMargin&&(e+=d.settings.slideMargin*(d.settings.minSlides-1))):e=Math.max.apply(Math,t.map(function(){return G(this).outerHeight(!1)}).get()),"border-box"===d.viewport.css("box-sizing")?e+=parseFloat(d.viewport.css("padding-top"))+parseFloat(d.viewport.css("padding-bottom"))+parseFloat(d.viewport.css("border-top-width"))+parseFloat(d.viewport.css("border-bottom-width")):"padding-box"===d.viewport.css("box-sizing")&&(e+=parseFloat(d.viewport.css("padding-top"))+parseFloat(d.viewport.css("padding-bottom"))),e},u=function(){var e="100%";return 0<d.settings.slideWidth&&(e="horizontal"===d.settings.mode?d.settings.maxSlides*d.settings.slideWidth+(d.settings.maxSlides-1)*d.settings.slideMargin:d.settings.slideWidth),e},l=function(){var e=d.settings.slideWidth,t=d.viewport.width();if(0===d.settings.slideWidth||d.settings.slideWidth>t&&!d.carousel||"vertical"===d.settings.mode)e=t;else if(1<d.settings.maxSlides&&"horizontal"===d.settings.mode){if(t>d.maxThreshold)return e;t<d.minThreshold?e=(t-d.settings.slideMargin*(d.settings.minSlides-1))/d.settings.minSlides:d.settings.shrinkItems&&(e=Math.floor((t+d.settings.slideMargin)/Math.ceil((t+d.settings.slideMargin)/(e+d.settings.slideMargin))-d.settings.slideMargin))}return e},f=function(){var e=1,t=null;return"horizontal"===d.settings.mode&&0<d.settings.slideWidth?d.viewport.width()<d.minThreshold?e=d.settings.minSlides:d.viewport.width()>d.maxThreshold?e=d.settings.maxSlides:(t=d.children.first().width()+d.settings.slideMargin,e=Math.floor((d.viewport.width()+d.settings.slideMargin)/t)||1):"vertical"===d.settings.mode&&(e=d.settings.minSlides),e},p=function(){var e=0,t=0,n=0;if(0<d.settings.moveSlides){if(!d.settings.infiniteLoop){for(;t<d.children.length;)++e,t=n+f(),n+=d.settings.moveSlides<=f()?d.settings.moveSlides:f();return n}e=Math.ceil(d.children.length/g())}else e=Math.ceil(d.children.length/f());return e},g=function(){return 0<d.settings.moveSlides&&d.settings.moveSlides<=f()?d.settings.moveSlides:f()},m=function(){var e,t,n;d.children.length>d.settings.maxSlides&&d.active.last&&!d.settings.infiniteLoop?"horizontal"===d.settings.mode?(e=(t=d.children.last()).position(),y(-(e.left-(d.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===d.settings.mode&&(n=d.children.length-d.settings.minSlides,e=d.children.eq(n).position(),y(-e.top,"reset",0)):(e=d.children.eq(d.active.index*g()).position(),d.active.index===p()-1&&(d.active.last=!0),void 0!==e&&("horizontal"===d.settings.mode?y(-e.left,"reset",0):"vertical"===d.settings.mode&&y(-e.top,"reset",0)))},y=function(e,t,n,i){var r,a;d.usingCSS?(a="vertical"===d.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",c.css("-"+d.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===t?(c.css(d.animProp,a),0!==n?c.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){G(e.target).is(c)&&(c.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),O())}):O()):"reset"===t?c.css(d.animProp,a):"ticker"===t&&(c.css("-"+d.cssPrefix+"-transition-timing-function","linear"),c.css(d.animProp,a),0!==n?c.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){G(e.target).is(c)&&(c.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),y(i.resetValue,"reset",0),N())}):(y(i.resetValue,"reset",0),N()))):((r={})[d.animProp]=e,"slide"===t?c.animate(r,n,d.settings.easing,function(){O()}):"reset"===t?c.css(d.animProp,e):"ticker"===t&&c.animate(r,n,"linear",function(){y(i.resetValue,"reset",0),N()}))},v=function(){for(var e="",t="",n=p(),i=0;i<n;i++)t="",d.settings.buildPager&&G.isFunction(d.settings.buildPager)||d.settings.pagerCustom?(t=d.settings.buildPager(i),d.pagerEl.addClass("bx-custom-pager")):(t=i+1,d.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+t+"</a></div>";d.pagerEl.html(e)},b=function(){d.settings.pagerCustom?d.pagerEl=G(d.settings.pagerCustom):(d.pagerEl=G('<div class="bx-pager" />'),d.settings.pagerSelector?G(d.settings.pagerSelector).html(d.pagerEl):d.controls.el.addClass("bx-has-pager").append(d.pagerEl),v()),d.pagerEl.on("click touchend","a",E)},_=function(){d.controls.next=G('<a class="bx-next" href="">'+d.settings.nextText+"</a>"),d.controls.prev=G('<a class="bx-prev" href="">'+d.settings.prevText+"</a>"),d.controls.next.bind("click touchend",S),d.controls.prev.bind("click touchend",k),d.settings.nextSelector&&G(d.settings.nextSelector).append(d.controls.next),d.settings.prevSelector&&G(d.settings.prevSelector).append(d.controls.prev),d.settings.nextSelector||d.settings.prevSelector||(d.controls.directionEl=G('<div class="bx-controls-direction" />'),d.controls.directionEl.append(d.controls.prev).append(d.controls.next),d.controls.el.addClass("bx-has-controls-direction").append(d.controls.directionEl))},T=function(){d.controls.start=G('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+d.settings.startText+"</a></div>"),d.controls.stop=G('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+d.settings.stopText+"</a></div>"),d.controls.autoEl=G('<div class="bx-controls-auto" />'),d.controls.autoEl.on("click",".bx-start",C),d.controls.autoEl.on("click",".bx-stop",x),d.settings.autoControlsCombine?d.controls.autoEl.append(d.controls.start):d.controls.autoEl.append(d.controls.start).append(d.controls.stop),d.settings.autoControlsSelector?G(d.settings.autoControlsSelector).html(d.controls.autoEl):d.controls.el.addClass("bx-has-controls-auto").append(d.controls.autoEl),P(d.settings.autoStart?"stop":"start")},w=function(){d.children.each(function(){var e=G(this).find("img:first").attr("title");void 0!==e&&(""+e).length&&G(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},S=function(e){e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&c.stopAuto(),c.goToNextSlide())},k=function(e){e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&c.stopAuto(),c.goToPrevSlide())},C=function(e){c.startAuto(),e.preventDefault()},x=function(e){c.stopAuto(),e.preventDefault()},E=function(e){var t,n;e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&c.stopAuto(),void 0!==(t=G(e.currentTarget)).attr("data-slide-index")&&(n=parseInt(t.attr("data-slide-index")))!==d.active.index&&c.goToSlide(n))},A=function(n){var e=d.children.length;if("short"===d.settings.pagerType)return 1<d.settings.maxSlides&&(e=Math.ceil(d.children.length/d.settings.maxSlides)),void d.pagerEl.html(n+1+d.settings.pagerShortSeparator+e);d.pagerEl.find("a").removeClass("active"),d.pagerEl.each(function(e,t){G(t).find("a").eq(n).addClass("active")})},O=function(){if(d.settings.infiniteLoop){var e="";0===d.active.index?e=d.children.eq(0).position():d.active.index===p()-1&&d.carousel?e=d.children.eq((p()-1)*g()).position():d.active.index===d.children.length-1&&(e=d.children.eq(d.children.length-1).position()),e&&("horizontal"===d.settings.mode?y(-e.left,"reset",0):"vertical"===d.settings.mode&&y(-e.top,"reset",0))}d.working=!1,d.settings.onSlideAfter.call(c,d.children.eq(d.active.index),d.oldIndex,d.active.index)},P=function(e){d.settings.autoControlsCombine?d.controls.autoEl.html(d.controls[e]):(d.controls.autoEl.find("a").removeClass("active"),d.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},j=function(){1===p()?(d.controls.prev.addClass("disabled"),d.controls.next.addClass("disabled")):!d.settings.infiniteLoop&&d.settings.hideControlOnEnd&&(0===d.active.index?(d.controls.prev.addClass("disabled"),d.controls.next.removeClass("disabled")):d.active.index===p()-1?(d.controls.next.addClass("disabled"),d.controls.prev.removeClass("disabled")):(d.controls.prev.removeClass("disabled"),d.controls.next.removeClass("disabled")))},M=function(){c.startAuto()},D=function(){c.stopAuto()},I=function(){0<d.settings.autoDelay?setTimeout(c.startAuto,d.settings.autoDelay):(c.startAuto(),G(window).focus(M).blur(D)),d.settings.autoHover&&c.hover(function(){d.interval&&(c.stopAuto(!0),d.autoPaused=!0)},function(){d.autoPaused&&(c.startAuto(!0),d.autoPaused=null)})},L=function(){var e,t,n,i,r,a,o,s,u=0;"next"===d.settings.autoDirection?c.append(d.children.clone().addClass("bx-clone")):(c.prepend(d.children.clone().addClass("bx-clone")),e=d.children.first().position(),u="horizontal"===d.settings.mode?-e.left:-e.top),y(u,"reset",0),d.settings.pager=!1,d.settings.controls=!1,d.settings.autoControls=!1,d.settings.tickerHover&&(d.usingCSS?(i="horizontal"===d.settings.mode?4:5,d.viewport.hover(function(){t=c.css("-"+d.cssPrefix+"-transform"),n=parseFloat(t.split(",")[i]),y(n,"reset",0)},function(){s=0,d.children.each(function(){s+="horizontal"===d.settings.mode?G(this).outerWidth(!0):G(this).outerHeight(!0)}),r=d.settings.speed/s,a="horizontal"===d.settings.mode?"left":"top",o=r*(s-Math.abs(parseInt(n))),N(o)})):d.viewport.hover(function(){c.stop()},function(){s=0,d.children.each(function(){s+="horizontal"===d.settings.mode?G(this).outerWidth(!0):G(this).outerHeight(!0)}),r=d.settings.speed/s,a="horizontal"===d.settings.mode?"left":"top",o=r*(s-Math.abs(parseInt(c.css(a)))),N(o)})),N()},N=function(e){var t,n,i=e||d.settings.speed,r={left:0,top:0},a={left:0,top:0};"next"===d.settings.autoDirection?r=c.find(".bx-clone").first().position():a=d.children.first().position(),t="horizontal"===d.settings.mode?-r.left:-r.top,n="horizontal"===d.settings.mode?-a.left:-a.top,y(t,"ticker",i,{resetValue:n})},R=function(e){var t=G(window),n={top:t.scrollTop(),left:t.scrollLeft()},i=e.offset();return n.right=n.left+t.width(),n.bottom=n.top+t.height(),i.right=i.left+e.outerWidth(),i.bottom=i.top+e.outerHeight(),!(n.right<i.left||n.left>i.right||n.bottom<i.top||n.top>i.bottom)},B=function(e){var t=document.activeElement.tagName.toLowerCase();if(null==new RegExp(t,["i"]).exec("input|textarea")&&R(c)){if(39===e.keyCode)return S(e),!1;if(37===e.keyCode)return k(e),!1}},U=function(){d.touch={start:{x:0,y:0},end:{x:0,y:0}},d.viewport.bind("touchstart MSPointerDown pointerdown",F),d.viewport.on("click",".bxslider a",function(e){d.viewport.hasClass("click-disabled")&&(e.preventDefault(),d.viewport.removeClass("click-disabled"))})},F=function(e){if(d.controls.el.addClass("disabled"),d.working)e.preventDefault(),d.controls.el.removeClass("disabled");else{d.touch.originalPos=c.position();var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t];d.touch.start.x=n[0].pageX,d.touch.start.y=n[0].pageY,d.viewport.get(0).setPointerCapture&&(d.pointerId=t.pointerId,d.viewport.get(0).setPointerCapture(d.pointerId)),d.viewport.bind("touchmove MSPointerMove pointermove",V),d.viewport.bind("touchend MSPointerUp pointerup",$),d.viewport.bind("MSPointerCancel pointercancel",H)}},H=function(){y(d.touch.originalPos.left,"reset",0),d.controls.el.removeClass("disabled"),d.viewport.unbind("MSPointerCancel pointercancel",H),d.viewport.unbind("touchmove MSPointerMove pointermove",V),d.viewport.unbind("touchend MSPointerUp pointerup",$),d.viewport.get(0).releasePointerCapture&&d.viewport.get(0).releasePointerCapture(d.pointerId)},V=function(e){var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t],i=Math.abs(n[0].pageX-d.touch.start.x),r=Math.abs(n[0].pageY-d.touch.start.y),a=0,o=0;r<3*i&&d.settings.preventDefaultSwipeX?e.preventDefault():i<3*r&&d.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==d.settings.mode&&d.settings.oneToOneTouch&&("horizontal"===d.settings.mode?(o=n[0].pageX-d.touch.start.x,a=d.touch.originalPos.left+o):(o=n[0].pageY-d.touch.start.y,a=d.touch.originalPos.top+o),y(a,"reset",0))},$=function(e){d.viewport.unbind("touchmove MSPointerMove pointermove",V),d.controls.el.removeClass("disabled");var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t],i=0,r=0;d.touch.end.x=n[0].pageX,d.touch.end.y=n[0].pageY,"fade"===d.settings.mode?(r=Math.abs(d.touch.start.x-d.touch.end.x))>=d.settings.swipeThreshold&&(d.touch.start.x>d.touch.end.x?c.goToNextSlide():c.goToPrevSlide(),c.stopAuto()):("horizontal"===d.settings.mode?(r=d.touch.end.x-d.touch.start.x,i=d.touch.originalPos.left):(r=d.touch.end.y-d.touch.start.y,i=d.touch.originalPos.top),!d.settings.infiniteLoop&&(0===d.active.index&&0<r||d.active.last&&r<0)?y(i,"reset",200):Math.abs(r)>=d.settings.swipeThreshold?(r<0?c.goToNextSlide():c.goToPrevSlide(),c.stopAuto()):y(i,"reset",200)),d.viewport.unbind("touchend MSPointerUp pointerup",$),d.viewport.get(0).releasePointerCapture&&d.viewport.get(0).releasePointerCapture(d.pointerId)},q=function(){if(d.initialized)if(d.working)window.setTimeout(q,10);else{var e=G(window).width(),t=G(window).height();n===e&&r===t||(n=e,r=t,c.redrawSlider(),d.settings.onSliderResize.call(c,d.active.index))}},z=function(e){var t=f();d.settings.ariaHidden&&!d.settings.ticker&&(d.children.attr("aria-hidden","true"),d.children.slice(e,e+t).attr("aria-hidden","false"))},W=function(e){return e<0?d.settings.infiniteLoop?p()-1:d.active.index:e>=p()?d.settings.infiniteLoop?0:d.active.index:e};return c.goToSlide=function(e,t){var n,i,r,a,o=!0,s=0,u={left:0,top:0},l=null;if(d.oldIndex=d.active.index,d.active.index=W(e),!d.working&&d.active.index!==d.oldIndex){if(d.working=!0,void 0!==(o=d.settings.onSlideBefore.call(c,d.children.eq(d.active.index),d.oldIndex,d.active.index))&&!o)return d.active.index=d.oldIndex,void(d.working=!1);"next"===t?d.settings.onSlideNext.call(c,d.children.eq(d.active.index),d.oldIndex,d.active.index)||(o=!1):"prev"===t&&(d.settings.onSlidePrev.call(c,d.children.eq(d.active.index),d.oldIndex,d.active.index)||(o=!1)),d.active.last=d.active.index>=p()-1,(d.settings.pager||d.settings.pagerCustom)&&A(d.active.index),d.settings.controls&&j(),"fade"===d.settings.mode?(d.settings.adaptiveHeight&&d.viewport.height()!==h()&&d.viewport.animate({height:h()},d.settings.adaptiveHeightSpeed),d.children.filter(":visible").fadeOut(d.settings.speed).css({zIndex:0}),d.children.eq(d.active.index).css("zIndex",d.settings.slideZIndex+1).fadeIn(d.settings.speed,function(){G(this).css("zIndex",d.settings.slideZIndex),O()})):(d.settings.adaptiveHeight&&d.viewport.height()!==h()&&d.viewport.animate({height:h()},
d.settings.adaptiveHeightSpeed),!d.settings.infiniteLoop&&d.carousel&&d.active.last?"horizontal"===d.settings.mode?(u=(l=d.children.eq(d.children.length-1)).position(),s=d.viewport.width()-l.outerWidth()):(n=d.children.length-d.settings.minSlides,u=d.children.eq(n).position()):d.carousel&&d.active.last&&"prev"===t?(i=1===d.settings.moveSlides?d.settings.maxSlides-g():(p()-1)*g()-(d.children.length-d.settings.maxSlides),u=(l=c.children(".bx-clone").eq(i)).position()):"next"===t&&0===d.active.index?(u=c.find("> .bx-clone").eq(d.settings.maxSlides).position(),d.active.last=!1):0<=e&&(a=e*parseInt(g()),u=d.children.eq(a).position()),void 0!==u&&(r="horizontal"===d.settings.mode?-(u.left-s):-u.top,y(r,"slide",d.settings.speed)),d.working=!1),d.settings.ariaHidden&&z(d.active.index*g())}},c.goToNextSlide=function(){if((d.settings.infiniteLoop||!d.active.last)&&1!=d.working){var e=parseInt(d.active.index)+1;c.goToSlide(e,"next")}},c.goToPrevSlide=function(){if((d.settings.infiniteLoop||0!==d.active.index)&&1!=d.working){var e=parseInt(d.active.index)-1;c.goToSlide(e,"prev")}},c.startAuto=function(e){d.interval||(d.interval=setInterval(function(){"next"===d.settings.autoDirection?c.goToNextSlide():c.goToPrevSlide()},d.settings.pause),d.settings.onAutoChange.call(c,!0),d.settings.autoControls&&!0!==e&&P("stop"))},c.stopAuto=function(e){d.interval&&(clearInterval(d.interval),d.interval=null,d.settings.onAutoChange.call(c,!1),d.settings.autoControls&&!0!==e&&P("start"))},c.getCurrentSlide=function(){return d.active.index},c.getCurrentSlideElement=function(){return d.children.eq(d.active.index)},c.getSlideElement=function(e){return d.children.eq(e)},c.getSlideCount=function(){return d.children.length},c.isWorking=function(){return d.working},c.redrawSlider=function(){d.children.add(c.find(".bx-clone")).outerWidth(l()),d.viewport.css("height",h()),d.settings.ticker||m(),d.active.last&&(d.active.index=p()-1),d.active.index>=p()&&(d.active.last=!0),d.settings.pager&&!d.settings.pagerCustom&&(v(),A(d.active.index)),d.settings.ariaHidden&&z(d.active.index*g())},c.destroySlider=function(){d.initialized&&(d.initialized=!1,G(".bx-clone",this).remove(),d.children.each(function(){void 0!==G(this).data("origStyle")?G(this).attr("style",G(this).data("origStyle")):G(this).removeAttr("style")}),void 0!==G(this).data("origStyle")?this.attr("style",G(this).data("origStyle")):G(this).removeAttr("style"),G(this).unwrap().unwrap(),d.controls.el&&d.controls.el.remove(),d.controls.next&&d.controls.next.remove(),d.controls.prev&&d.controls.prev.remove(),d.pagerEl&&d.settings.controls&&!d.settings.pagerCustom&&d.pagerEl.remove(),G(".bx-caption",this).remove(),d.controls.autoEl&&d.controls.autoEl.remove(),clearInterval(d.interval),d.settings.responsive&&G(window).unbind("resize",q),d.settings.keyboardEnabled&&G(document).unbind("keydown",B),G(this).removeData("bxSlider"),G(window).off("blur",D).off("focus",M))},c.reloadSlider=function(e){void 0!==e&&(t=e),c.destroySlider(),a(),G(c).data("bxSlider",this)},a(),G(c).data("bxSlider",this),this}}}(jQuery);var Notification=function(){"use strict";var t,n,e={init:function(e){t=$(e)},show:function(e){clearTimeout(n),t.find("span").html(e),t.delay(200).fadeIn().delay(4e3).fadeOut()}};return e}();(function(){var e,n,t,i,r,a,o,s;o=function(){return $("#submit-button").on("click",function(){return""===$("#email").val()||""===$("#amount").val()||""===$("#card-number").val()||""===$("#name").val()||""===$("#card-cvc").val()?(Notification.show(" Please add required fields: Email, Amount and card details."),!1):t()})},t=function(){var e,t;return""!==$("#name").val()&&""!==$("#card-number").val()&&$("#name").val()===$("#card-number").val()?(Notification.show(" Card number cannot be name of Card holder."),!1):""===$("#name").val()?(Notification.show("Cardholder name must not be empty."),!1):""===(e=$("#card-number").val())?(Notification.show(" Please enter Card Number."),!1):a(e)?void 0===(t=n($("#expiry-month").val(),$("#expiry-year").val()))||(Notification.show(t),!1):(Notification.show(" Please enter valid Card Number."),!1)},a=function(e){var t,n,i,r,a,o;if(e.length<10||19<e.length)return!1;for(a=0,r=1,i=e.length,n=0;n<i;)t=e.substring(i-n-1,i-n),a+=10<=(o=parseInt(t,10)*r)?o%10+1:o,1===r?r++:r--,n++;return a%10==0},n=function(e,t){var n,i,r,a,o;return n=(r=new Date).getMonth(),n+=1,a=parseInt(e),o=parseInt(t),i=r.getFullYear(),parseInt(e)<n&&o<=i?"Card expiry should be a future date.":1<=a&&a<=12?o<i-1?"Card expiry year is too far into the past.":i+20<o?"Card expiry year is too far into the future.":void 0:"Card expiry month must be between 01 and 12 inclusive."},e=function(){return $("#card-number").on("keyup",function(){var e;if(!s($(this).val()))return e=$(this).val(),$(this).val(e.substring(0,e.length-1)),!1})},s=function(e){var t;return!(t=/^(0|[0-9][1-9]|[1-9][0-9]*)$/)!==t.test(e)},r=function(e){return(e=e.replace(/[^\d]/g,"")).match(/^5[1-5]/)?"MC":e.match(/^4\d{15}/)||e.match(/^4\d{12}/)?"VISA":e.match(/^3[47]/)?"AMEX":e.match(/^(36|30|38)/)?"DINERS":e.match(/^(6304|670[69]|6771)/)?"LASER":""},i=function(){return $("#amount").on("blur",function(){var e;return e=$(this).val(),$(this).val(parseFloat(e).toFixed(2))})},window.initializePay=function(){return e(),o(),i()}}).call(this),function(){var e,t,n,i,r,a,o,s;a=function(){return $(window).resize(function(){$("#evercam-video-section").css({height:$(window).innerHeight()}),t(),e()})},t=function(){var e,t;if(e=($(window).height()-$(".section-position").height())/2,$(window).height()>$(".section-position").height()&&$(".section-position").css("margin-top",e),t=($(window).width()-$(".center-div").width())/2,$(window).width()>$(".center-div").width())return $(".center-div").css("margin-left",t)},s=function(e,t){var n,i;return{},i={cache:!(n=function(){return $("#"+t+"-error-block").css("display","block"),$("#signup-"+t+" ."+t+"-loading-icon").hide(),$("#"+t+"-not-available").removeClass("hide"),$("#"+t+"-available").addClass("hide")}),dataType:"json",error:function(){return $("#"+t+"-error-block").css("display","none"),$("#signup-"+t+" ."+t+"-loading-icon").hide(),$("#"+t+"-available").removeClass("hide"),$("#"+t+"-not-available").addClass("hide")},success:n,type:"POST",url:Evercam.API_URL+"users/exist/"+e},$.ajax(i)},n=function(){return $("#user_username").focusout(function(){var e,t;return e=$("#user_username").val(),t="username",setTimeout(function(){return $("#signup-username").hasClass("has-error")?(r(),$("#username-error-block").css("display","none")):(r(),$("#signup-username .username-loading-icon").show(),s(e,t))},100)}),$("#user_email").focusout(function(){var e,t;return e=$("#user_email").val(),t="email",setTimeout(function(){return $("#signup-email").hasClass("has-error")?(i(),$("#email-error-block").css("display","none")):(i(),$("#signup-email .email-loading-icon").show(),s(e,t))},100)})},r=function(){return $("#username-not-available").addClass("hide"),$("#username-available").addClass("hide")},i=function(){return $("#email-not-available").addClass("hide"),$("#email-available").addClass("hide")},o=function(){var e;if(e=$("#request_url_value").val())return-1<e.indexOf("cameras/")?($("#signout-user-message").show(),setTimeout(function(){$("#signout-user-message").fadeOut("slow")},15e3)):$("#signout-user-message").hide()},e=function(){var e;if(e=($(window).width()-$("#signout-user-message").width())/2,$(window).width()>$("#signout-user-message").width())return $("#signout-user-message").css("left",e),$("#signout-user-message").css("margin-left","-14px")},window.initializeVideoBackground=function(){return t(),a(),n(),o(),e()}}.call(this);var $buoop={vs:{i:9,f:35,o:-8,s:7,c:40},reminder:1,reminderClosed:2};try{document.addEventListener("DOMContentLoaded",$buo_f,!1)}catch(e){window.attachEvent("onload",$buo_f)}