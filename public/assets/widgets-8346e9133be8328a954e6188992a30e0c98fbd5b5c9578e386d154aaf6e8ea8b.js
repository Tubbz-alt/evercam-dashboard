(function(){var e,t,i,a;i=function(){var e,t,i,a,n,r,c,d,w;return t=$("#widget-camera").val(),c=$("#widget-refresh-rate").val(),w=$("#widget-camera-width").val(),n=$("#width-option").val(),r=$("#widget-authenticate").val(),d=window.location.origin,a=-1!==(i=$("#widget-camera option:selected").text()).indexOf("(Offline)"),e="<div id='ec-container-"+t+"' style='width: "+w+n+"'></div> <script src='"+d+"/live.view.widget.js?refresh="+c+"&camera="+t+"&private="+(-1===i.indexOf("(Private)")?"false":"true")+("true"===r?"&api_id="+window.api_credentials.api_id+"&api_key="+window.api_credentials.api_key:"")+"' async></script>",$("#code").text(e),document.removeEventListener("visibilitychange",window.ec_vis_handler,!1),null!=window.ec_watcher&&clearTimeout(window.ec_watcher),a||$(".preview").html(e),!0},a=function(){var e,t,i,a,n,r,c,d;return t=$("#widget-camera").val(),r=$("#widget-refresh-rate").val(),d=$("#widget-camera-width").val(),a=$("#width-option").val(),n=$("#widget-authenticate").val(),c=window.location.origin,-1!==(i=$("#widget-camera option:selected").text()).indexOf("(Offline)"),e="<div id='ec-container-"+t+"' style='width: "+d+a+"'><div> <script src='"+c+"/live.view.widget.js?refresh="+r+"&camera="+t+"&private="+(-1===i.indexOf("(Private)")?"false":"true")+("true"===n?"&api_id="+window.api_credentials.api_id+"&api_key="+window.api_credentials.api_key:"")+"' async></script>",$("#code").text(e),$("#ec-container-"+t).width(""+d+a)},t=function(){return $("#widget-camera").select2({templateSelection:e,templateResult:e,escapeMarkup:function(e){return e}}),$(".widget-input .select2-container--default").width("100%")},e=function(e){return"",e.id?"0"===e.id?e.text:$("<span><img style='height:30px;margin-bottom:1px;margin-top:1px;width:35px;' src='"+e.element.attributes[2].value+"' class='img-flag' />&nbsp;"+e.text+"</span>"):e.text},$(function(){return t(),i(),$("#widget-camera-width").change(a),$("#width-option").change(a),$("#widget-refresh-rate").change(i),$("#widget-camera").change(i),$("#widget-authenticate").change(a),$("#code").on("click",function(){this.select()})})}).call(this);