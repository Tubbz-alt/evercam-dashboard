<div id="timelapse-recording-tab">
  <% has_right = @camera["rights"].split(",").include?("edit") %>
  <div class="left-column">
    <div class="snapshots">
      <button id="tr_calendar" type="button" class="ui-datepicker-trigger"><i class="fa fa-calendar" title="Toggle Calendar"></i></button>
      <button id="tr-snapshot-magnifier" type="button" class="ui-snapshot-magnifier"><i class="fa fa-search icon-magnifier" aria-hidden="true" title="Magnifier"></i></button>
      <div class="loader-bg" id="timelapse_imgloader">
        <table cellspacing="0" cellpadding="6" border="0" width="100%" height="100%">
          <tr>
            <td width="35%">&nbsp;</td>
            <td style="width:105px; height:66px;text-align: center;font-weight: bold;">
              <%= image_tag('loader3.gif', alt: 'Loading') %>
              &nbsp;Loading Image
            </td>
            <td width="35%">&nbsp;</td>
          </tr>
        </table>
      </div>
      <div id="fullscreen" class="html5-fullscreen-api">
        <img id="tr_imgPlayback" style="width: 100%;" src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAIUElEQVR4Xu3IMQHAQBAEofdv+mJgFUwoaHh3BwDAj8wEAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICumQAAdM0EAKBrJgAAXTMBAOiaCQBA10wAALpmAgDQNRMAgK6ZAAB0zQQAoGsmAABdMwEA6JoJAEDXTAAAumYCANA1EwCArpkAAHTNBACgayYAAF0zAQDomgkAQNdMAAC6ZgIA0DUTAICqex8S0sIfHl2RqAAAAABJRU5ErkJggg=="/>
        <div id="tr_snapshot_tab_save" class="play-options">
          <div id="tr-save-recording-image" class="btn-live-player save-live"><i class="fa fa-download font-size-16" aria-hidden="true" title="Download Image"></i></div>
        </div>

        </div>
        <div id="tr-navbar-section" class="navbar-settings">
          <span id="tr_snapshot-notes-text" class="mobile-hide"></span>
          <span id="tr_snapshot-notes-text" style="display: none;"></span>
          <div id="tr_divInfo" class="playback-info-bar"></div>
          <div id="show-info"><i class="icon icon-info"></i></div>
          <div id="tr_divSliderBackground" class="slider slider-basic ui-slider ui-slider-horizontal ui-slider-recordings ui-widget ui-widget-content ui-corner-all">
            <div id="tr_divSlider" class="playback-slider-outer">
              <div id="tr_divPointer" class="playback-slider-inner"></div>
            </div>
          </div>

          <div class="clear-f"></div>

          <div id="tr_divDisableButtons">
            <div class="playback-buttons-bar">
              <div class="btn-group">
                <a class="btn disabled">-100</a>
                <a class="btn disabled">-10</a>

              </div>
              <div class="btn-group">
                <a class="btn disabled">-1</a>
                <a class="btn btn-padding-tab btn-padding disabled"><i class="icon-control-play"></i></a>
                <a class="btn disabled">+1</a>
              </div>
              <div class="btn-group">

                <a class="btn disabled">+10</a>
                <a class="btn disabled">+100</a>
              </div>
            </div>
          </div>
          <div id="tr_divFrameMode" class="hide">
            <div class="playback-buttons-bar">
              <div class="btn-group">
                <a class="btn tr_skipframe">-100</a>
                <a class="btn tr_skipframe">-10</a>

              </div>
              <div class="btn-group">
                <a class="btn tr_skipframe left">-1</a>
                <a class="btn btn-padding-tab btn-padding" id="tr_btnPlayRec"><i class="icon-control-play"></i></a>
                <a class="btn tr_skipframe">+1</a>
              </div>
              <div class="btn-group">
                <a class="btn tr_skipframe">+10</a>
                <a class="btn tr_skipframe">+100</a>
              </div>
            </div>
          </div>
          <div id="tr_divPlayMode" class="hide">
            <div class="playback-buttons-bar playback-buttons-padding">
              <div class="btn-group" data-toggle="tooltip" data-placement="bottom" title="-10">
                <a class="btn btn-padding" id="tr_btnFRwd"><i class="icon icon-control-rewind"></i></a>
              </div>
              <div class="btn-group" data-toggle="tooltip" data-placement="bottom" title="-5">
                <a class="btn btn-padding" id="tr_btnRwd"><i class="icon icon-control-rewind"></i></a>
              </div>
              <div class="btn-group">
                <a class="btn btn-padding" id="tr_btnPauseRec"><i class="icon icon-control-pause"></i></a>
              </div>
              <div class="btn-group" data-toggle="tooltip" data-placement="bottom" title="+5">
                <a class="btn btn-padding" id="tr_btnFwd"><i class="icon icon-control-forward"></i></a>
              </div>
              <div class="btn-group" data-toggle="tooltip" data-placement="bottom" title="+10">
                <a class="btn btn-padding" id="tr_btnFFwd"><i class="icon icon-control-forward"></i></a>
              </div>
            </div>
          </div>
        </div>
    </div>
    <div class="clear-f"></div>
  </div>
  <div class="right-column">
    <div class="col-recording-right">
      <div class="portlet">
        <div id="timelapse_rec_calendar" class="datepicker-bg" data-date-end-date="0d">
          <div id="timelapse-calendar-loader" class="img-loader-calendar2 hide">
            <%= image_tag('loader3.gif', alt: 'Loading', class: 'center-gif') %>
          </div>
        </div>

        <div class="clear-f"></div>
        <div>
          <% if has_right %>
            <div class="tr_recording-text margin-top-10">
              <div class="setting-heading">
                <b>Recording Settings</b><a id= "tr-show-schedule-calendar" href="#" class="btn btn-edit right padding-left-5" data-toggle="modal" data-target="#timelapse-recording-calendar-wrap">Edit</a>
              </div>
              <div class="cloud-info margin-top-10">
                <div class="status-off">
                  <label class="color-grey">Recording Status:</label>
                  <span class="tr_off-status"></span>
                </div>
                <div class="tr_storage">
                  <label class="color-grey">Storage Duration:</label>
                  <span class="tr_storage-duration"></span>
                </div>
                <div class="tr_frequency-text">
                  <label class="color-grey">Snapshot per min:</label>
                  <span class="tr_recording-frequency"></span>
                </div>
              </div>
            </div>

            <div id="timelapse-recording-calendar-wrap" class="modal fade setting-schedule hide">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-body">
                    <div id="tr-recording-toggle">
                      <div class="recording-header"><span class="recording-heading">Recording settings</span></div>
                      <form class="margin-topbottom-10">
                        <input type="radio" name="tr_recording" id="tr-recording-on" value="on"/>
                        <label class="color-grey">Continuous</label>
                        <br/>
                        <input type="radio" name="tr_recording" id="tr-recording-on-scheduled" value="on-scheduled"/>
                        <label class="color-grey">On Schedule</label>
                        <br/>
                        <input type="radio" name="tr_recording" id="tr-recording-paused" value="paused"/>
                        <label class="color-grey">Paused</label>
                        <br/>
                        <input type="radio" name="tr_recording" id="tr-recording-off" value="off"/>
                        <label class="color-grey">Off</label>
                        <br/>
                      </form>
                    </div>
                    <div id="tr-recording-duration-wrap">
                      <b>Schedule:</b>
                      <br/>
                      <label class="color-grey width-135">Storage duration:</label>
                      <select id="tr-recording-duration" style="width: 175px;">
                        <option value="1">24 hours recording</option>
                        <option value="7">7 days recording</option>
                        <option value="30">30 days recording</option>
                        <option value="90">90 days recording</option>
                        <option disabled value="-1">Infinity (Call Customer Support) </option>
                      </select>
                    </div>
                    <div id="tr-recording-frequency-wrap">
                      <label class="color-grey width-135">Snapshots per minute:</label>
                      <select id="tr-recording-frequency" style="width: 175px;">
                        <option value="60">1 Frame Every 1 min</option>
                        <option value="300">1 Frame Every 5 min</option>
                        <option value="600">1 Frame Every 10 min</option>
                        <option value="900">1 Frame Every 15 min</option>
                        <option value="1200">1 Frame Every 20 min</option>
                        <option value="1800">1 Frame Every 30 min</option>
                        <option value="3600">1 Frame Every hour</option>
                        <option value="7200">1 Frame Every 2 hours</option>
                        <option value="21600">1 Frame Every 6 hours</option>
                        <option value="43200">1 Frame Every 12 hours</option>
                        <option value="86400">1 Frame Every 24 hours</option>
                      </select>
                    </div>
                    <div id="tr-schedule-recording-presets" class="margin-top-5">
                      <label class="color-grey width-135">Presets:</label>
                      <select id="tr-select-schedule-presets" class="select-schedule-presets">
                        <option value="None">None</option>
                        <option value="MF_24_hr">MTWTF 24hrs</option>
                        <option value="MF_Site_Working">MTWTF 07:00-19:00 (Site Working)</option>
                        <option value="MF_Site_Working_Sat">MTWTF 07:00-19:00 & Sat 07:00-14:00 (Site Working & Sat)</option>
                        <option value="MF_Sat_sun_off">MTWTF 18:00-08:00 & Sat & Sun (Office Closed)</option>
                      </select>
                    </div>
                    <div id="tr-calendarfull-wrap" class="calendar-width margin-top-25">
                      <div class="clear-f"></div>
                      <div id="tr-recording-calendar" class="margin-topbottom-10">
                        <span id="tr-recording-collaps"><span class="glyphicon glyphicon-chevron-down"></span></span>
                      </div>
                    </div>
                    <fieldset>
                      <div class="row save-settings margin-top-20">
                        <div class='pull-left form-group'><label class="control-label" for="add-button"></label>
                          <button id="add-button" name="add-button" class="margin-left-15 alert push btn btn-primary margin-right-10 tr-schedule-save">Save</button>
                        </div>
                        <button type="button" class="btn btn-default schedule-cancel" data-dismiss="modal">Cancel</button>
                      </div>
                    </fieldset>
                  </div>
                </div>
              </div>
            </div>
          <%end%>
        </div>
      </div>
    </div>
  </div>
  <div class="clear-f"></div>
</div>
<div id="tr_popup" class="tr-popup"></div>
